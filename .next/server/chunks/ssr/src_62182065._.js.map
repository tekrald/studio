{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,kKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,kKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,kKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,kKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,kKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,kKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,kKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,kKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,iKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,oKAAA,CAAA,YAA2B;YAC1B,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE;sBAEd,cAAA,8OAAC,oMAAA,CAAA,QAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,oKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n"],"names":[],"mappings":";;;;AAGA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;AAWA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,8OAAC,8JAAA,CAAA,YAAS;QACR,iBAAiB;QACjB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,OAAO;QACrB,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,KAAK;YACL,YAAY,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACX,CAAA,GAAA,kIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM;YACN,KAAK,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACJ,CAAA,GAAA,kIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAQ,IAClC;YAEF,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAChC,8OAAC,oNAAA,CAAA,cAAW;oBAAC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;YAE7D,WAAW,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBACjC,8OAAC,sNAAA,CAAA,eAAY;oBAAC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;QAEhE;QACC,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,mKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,mKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,8OAAC,mKAAA,CAAA,SAAuB;kBACtB,cAAA,8OAAC,mKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,mKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 558, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/assets/AssetForm.tsx"],"sourcesContent":["\n\"use client\";\nimport { useState, useEffect, useMemo } from 'react';\nimport { useForm, Controller, FieldPath } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { CalendarIcon, Loader2, Save, ArrowLeft, ArrowRight, UserCheck, Clock, Building } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { format, isValid } from 'date-fns';\nimport { enUS } from 'date-fns/locale';\nimport type { AssetFormData, ExtendedAssetNodeData } from '@/types/asset';\nimport type { User } from '@/components/auth-provider';\nimport Image from 'next/image';\nimport { CardDescription } from '../ui/card';\n\n// Schema exclusively for Physical Assets\nconst createAssetFormSchema = (memberHasBirthDateContext?: boolean) => {\n  return z.object({\n    nomeAtivo: z.string().min(1, 'Asset name is required.'),\n    dataAquisicao: z.date({ required_error: \"Acquisition date is required.\" }),\n    observacoes: z.string().optional(), // Optional general notes for the asset\n    \n    // Transaction/acquisition specific fields for the physical asset\n    quemComprou: z.string().optional(), // Who made THIS specific transaction\n    contribuicaoParceiro1: z.preprocess(\n      (val) => String(val) === '' || val === undefined ? undefined : parseFloat(String(val).replace(',', '.')),\n      z.number().min(0, 'Contribution must be a positive value.').optional()\n    ),\n    contribuicaoParceiro2: z.preprocess(\n      (val) => String(val) === '' || val === undefined ? undefined : parseFloat(String(val).replace(',', '.')),\n      z.number().min(0, 'Contribution must be a positive value.').optional()\n    ),\n    \n    // Physical asset specific details\n    tipoImovelBemFisico: z.string().min(1, \"Type of physical good is required.\"),\n    enderecoLocalizacaoFisico: z.string().optional(),\n    documentacaoFisicoFile: z.any().optional(), // Placeholder for file upload\n\n    // For overall asset assignment and release\n    assignedToMemberId: z.string().optional().nullable(),\n    setReleaseCondition: z.boolean().optional(),\n    releaseTargetAge: z.preprocess(\n      (val) => String(val) === '' || val === undefined ? undefined : parseInt(String(val), 10),\n      z.number().min(1, \"Age must be positive.\").max(120, \"Unrealistic age.\").optional()\n    ),\n  }).superRefine((data, ctx) => {\n    if (data.setReleaseCondition && memberHasBirthDateContext && (data.releaseTargetAge === undefined || data.releaseTargetAge === null || isNaN(data.releaseTargetAge))) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'Release age is required and must be a valid number if condition is checked and member has birth date.',\n        path: ['releaseTargetAge']\n      });\n    }\n  });\n};\n\ninterface AssetFormProps {\n  onSubmit: (data: AssetFormData) => Promise<void>;\n  isLoading: boolean;\n  onClose: () => void;\n  availableMembers: { id: string; name: string; birthDate?: Date | string }[];\n  targetMemberId?: string | null; // For pre-selecting member when adding asset from member node\n  user: User | null;\n}\n\nconst TOTAL_STEPS_PHYSICAL = 3; // 1. Basic Info, 2. Ownership, 3. Physical Details & Assignment\n\nexport function AssetForm({\n  onSubmit,\n  isLoading: isSubmittingForm,\n  onClose,\n  availableMembers = [],\n  targetMemberId,\n  user,\n}: AssetFormProps) {\n  const [currentStep, setCurrentStep] = useState(1);\n  const [formError, setFormError] = useState<string | null>(null);\n  \n  const [partnerNames, setPartnerNames] = useState<string[]>([]);\n  const [partnerLabels, setPartnerLabels] = useState<string[]>([\"Partner 1\", \"Partner 2\"]);\n\n  const form = useForm<AssetFormData>({\n    // Resolver will be set dynamically based on context\n    mode: \"onChange\", \n  });\n\n  const watchedNomeAtivo = form.watch('nomeAtivo');\n  const watchedDataAquisicao = form.watch('dataAquisicao');\n  const formWatchedQuemComprou = form.watch('quemComprou');\n  const formLocalAssignedToMemberIdWatch = form.watch('assignedToMemberId');\n  const formSetReleaseConditionWatch = form.watch('setReleaseCondition');\n\n  const actualSelectedMemberForAssignment = availableMembers.find(m => m.id === formLocalAssignedToMemberIdWatch);\n  const memberHasBirthDateForSchema = !!actualSelectedMemberForAssignment?.birthDate;\n\n  const currentAssetFormSchema = useMemo(() => createAssetFormSchema(memberHasBirthDateForSchema), [memberHasBirthDateForSchema]);\n\n  // Update resolver when schema changes\n  useEffect(() => {\n    form.reset(undefined, { keepValues: true }); // Keep existing values, but re-evaluate with new schema context\n    // This is a bit of a trick; ideally, RHF would re-evaluate resolver, but explicitly resetting can help.\n    // A more robust way might involve re-initializing useForm, but that's more complex.\n    // For now, this ensures the latest schema is somewhat acknowledged.\n    // The main place the schema is used is in `form.handleSubmit` and `form.trigger`.\n  }, [currentAssetFormSchema, form]);\n  \n  // Initialize default values and set resolver initially\n  useEffect(() => {\n    form.reset({\n      nomeAtivo: '',\n      dataAquisicao: new Date(),\n      observacoes: '',\n      quemComprou: '',\n      contribuicaoParceiro1: undefined,\n      contribuicaoParceiro2: undefined,\n      tipoImovelBemFisico: '',\n      enderecoLocalizacaoFisico: '',\n      documentacaoFisicoFile: undefined,\n      assignedToMemberId: targetMemberId || undefined,\n      setReleaseCondition: false,\n      releaseTargetAge: undefined,\n    });\n    // @ts-ignore\n    form.setValue('resolver', zodResolver(currentAssetFormSchema)); // Set resolver after reset\n    setCurrentStep(1);\n    setFormError(null);\n  }, [targetMemberId, currentAssetFormSchema, form]);\n\n\n  useEffect(() => {\n    if (user?.displayName) {\n      const names = user.displayName.split('&').map(name => name.trim()).filter(name => name);\n      setPartnerNames(names);\n      if (names.length === 1) {\n        setPartnerLabels([names[0], \"Other Contributor\"]);\n      } else if (names.length > 1) {\n        setPartnerLabels([names[0], names[1]]);\n      } else {\n        setPartnerLabels([\"Partner 1\", \"Partner 2\"]);\n      }\n    }\n  }, [user]);\n  \n  const handleFormSubmit = async (values: AssetFormData) => {\n    const processedValues: AssetFormData = {\n      ...values,\n      quemComprou: values.quemComprou === \"UNSPECIFIED_BUYER\" ? undefined : values.quemComprou,\n      assignedToMemberId: values.assignedToMemberId === \"UNASSIGNED\" || values.assignedToMemberId === null ? undefined : values.assignedToMemberId,\n    };\n    await onSubmit(processedValues);\n  };\n\n  const getFieldsForStep = (s: number): (keyof AssetFormData)[] => {\n    if (s === 1) return ['nomeAtivo', 'dataAquisicao', 'observacoes'];\n    if (s === 2) return ['quemComprou', 'contribuicaoParceiro1', 'contribuicaoParceiro2'];\n    if (s === 3) return [\n        'tipoImovelBemFisico', 'enderecoLocalizacaoFisico', 'documentacaoFisicoFile',\n        'assignedToMemberId', 'setReleaseCondition', 'releaseTargetAge'\n    ];\n    return [];\n  };\n  \n  const isFieldRelevantUpToStep = (fieldName: keyof AssetFormData, currentValidationStep: number): boolean => {\n      for (let i = 1; i <= currentValidationStep; i++) {\n          if (getFieldsForStep(i).includes(fieldName)) {\n              return true;\n          }\n      }\n      return false;\n  };\n\n  const validateStep = async (step: number): Promise<boolean> => {\n    setFormError(null);\n    form.clearErrors(); \n    let fieldsToValidate: FieldPath<AssetFormData>[] = [];\n\n    if (step === 1) {\n      fieldsToValidate = ['nomeAtivo', 'dataAquisicao']; \n    } else if (step === 2) {\n      // Optional fields, no specific trigger needed for \"Next\" unless business logic changes\n      // `quemComprou` and contributions are optional.\n    } else if (step === 3) {\n      // For the final step, handleSubmit will do the full validation.\n      // However, if there are specific fields for this step that must be valid to \"enable\" submit, list them.\n      // For now, let's assume tipoImovelBemFisico is crucial for this step if user reaches it.\n      fieldsToValidate.push('tipoImovelBemFisico');\n    }\n\n    if (fieldsToValidate.length > 0) {\n      const result = await form.trigger(fieldsToValidate);\n      if (!result) {\n        let firstErrorMessage: string | null = null;\n        for (const field of fieldsToValidate) {\n            if (form.formState.errors[field]) {\n            // @ts-ignore\n            firstErrorMessage = (form.formState.errors[field] as any)?.message || \"Please fill out required fields correctly.\";\n            break;\n            }\n        }\n        if (firstErrorMessage) {\n            setFormError(firstErrorMessage);\n        } else if (Object.keys(form.formState.errors).length > 0) {\n            const firstErrorKey = Object.keys(form.formState.errors)[0] as FieldPath<AssetFormData>;\n            // @ts-ignore\n            firstErrorMessage = form.formState.errors[firstErrorKey]?.message || \"Please correct the highlighted fields.\";\n            setFormError(firstErrorMessage);\n        } else {\n             // This case might happen if trigger fails but no specific error message is found for the triggered fields\n            setFormError(`Please ensure all fields for Step ${step} are valid.`);\n        }\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const handleNextStep = async () => {\n    if (await validateStep(currentStep)) {\n      if (currentStep < TOTAL_STEPS_PHYSICAL) {\n        setCurrentStep(currentStep + 1);\n      }\n    }\n  };\n\n  const handlePreviousStep = () => {\n    setFormError(null);\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n  \n  const isNextButtonDisabled = () => {\n    if (isSubmittingForm) return true;\n\n    if (currentStep === 1) {\n      const nomeAtivoValue = form.getValues('nomeAtivo'); // Get current value for check\n      const dataAquisicaoValue = form.getValues('dataAquisicao');\n      const isNomeFilled = nomeAtivoValue && nomeAtivoValue.trim().length > 0;\n      const isDataValid = !!dataAquisicaoValue && isValid(new Date(dataAquisicaoValue));\n      return !(isNomeFilled && isDataValid);\n    }\n    if (currentStep === 2) { \n      return false; \n    }\n    // For Step 3 (last step for physical assets), the button changes to \"Save Physical Asset\", \n    // RHF's formState.isValid (via handleSubmit) will handle it.\n    return false; \n  };\n  \n\n  return (\n    <form onSubmit={form.handleSubmit(handleFormSubmit)} className=\"space-y-6\">\n      <p className=\"text-sm text-center text-muted-foreground\">\n        Add New Physical Asset (Step {currentStep} of {TOTAL_STEPS_PHYSICAL})\n      </p>\n\n      {currentStep === 1 && (\n        <>\n          <div className=\"space-y-1.5\">\n            <Label htmlFor=\"nomeAtivoFisicoInput\" className=\"text-foreground/90\">Physical Asset Name</Label>\n            <Controller\n                name=\"nomeAtivo\"\n                control={form.control}\n                render={({ field }) => (\n                    <Input\n                        id=\"nomeAtivoFisicoInput\"\n                        {...field}\n                        placeholder={\"Ex: Beach House, SUV Car, Artwork\"}\n                        disabled={isSubmittingForm}\n                        autoFocus\n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                    />\n                )}\n            />\n            {form.formState.errors.nomeAtivo && <p className=\"text-sm text-destructive\">{form.formState.errors.nomeAtivo.message}</p>}\n          </div>\n          <div className=\"space-y-1.5\">\n            <Label htmlFor=\"dataAquisicao\" className=\"text-foreground/90\">Acquisition/Transaction Date</Label>\n            <Controller\n              name=\"dataAquisicao\"\n              control={form.control}\n              defaultValue={new Date()}\n              render={({ field }) => (\n                <Popover>\n                  <PopoverTrigger asChild>\n                    <Button\n                      variant={\"outline\"}\n                      className={cn(\"w-full justify-start text-left font-normal bg-input text-foreground hover:bg-input/80\",!field.value && \"text-muted-foreground\")}\n                      disabled={isSubmittingForm}\n                    >\n                      <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                      {field.value && isValid(new Date(field.value)) ? format(new Date(field.value), \"PPP 'at' HH:mm\", { locale: enUS }) : <span>Choose date and time</span>}\n                    </Button>\n                  </PopoverTrigger>\n                  <PopoverContent className=\"w-auto p-0 bg-popover border-border\">\n                    <Calendar\n                      mode=\"single\"\n                      selected={field.value && isValid(new Date(field.value)) ? new Date(field.value) : undefined}\n                      onSelect={(date) => {\n                        const currentVal = field.value && isValid(new Date(field.value)) ? new Date(field.value) : new Date();\n                        const newDate = date ? new Date(date) : currentVal; // Keep current if no new date\n                        \n                        let currentHours = currentVal.getHours();\n                        let currentMinutes = currentVal.getMinutes();\n\n                        if(date){ // Only set H/M if a new date was actually picked from calendar part\n                            newDate.setHours(currentHours);\n                            newDate.setMinutes(currentMinutes);\n                        }\n                        field.onChange(newDate);\n                      }}\n                      initialFocus\n                      locale={enUS}\n                      disabled={(date) => date > new Date() || date < new Date(\"1900-01-01\") || isSubmittingForm}\n                    />\n                    <div className=\"p-2 border-t border-border\">\n                      <Label htmlFor=\"time\" className=\"text-sm text-foreground/90\">Time of Acquisition/Transaction</Label>\n                       <Input\n                        id=\"time\"\n                        type=\"time\"\n                        defaultValue={field.value && isValid(new Date(field.value)) ? format(new Date(field.value), \"HH:mm\") : \"00:00\"}\n                        onChange={(e) => {\n                            const currentTimeVal = field.value && isValid(new Date(field.value)) ? new Date(field.value) : new Date();\n                            const [hours, minutes] = e.target.value.split(':');\n                            if (isValid(currentTimeVal) && hours && minutes) {\n                                currentTimeVal.setHours(parseInt(hours,10));\n                                currentTimeVal.setMinutes(parseInt(minutes,10));\n                                field.onChange(new Date(currentTimeVal));\n                            }\n                        }}\n                        className=\"w-full mt-1 bg-input text-foreground\"\n                        disabled={isSubmittingForm}\n                       />\n                    </div>\n                  </PopoverContent>\n                </Popover>\n              )}\n            />\n            {form.formState.errors.dataAquisicao && <p className=\"text-sm text-destructive\">{form.formState.errors.dataAquisicao.message}</p>}\n          </div>\n           <div className=\"space-y-1.5\">\n            <Label htmlFor=\"observacoes\" className=\"text-foreground/90\">Transaction Notes (Optional)</Label>\n            <Controller\n                name=\"observacoes\"\n                control={form.control}\n                render={({ field }) => (\n                    <Input \n                        id=\"observacoes\" \n                        {...field} \n                        value={field.value || ''}\n                        placeholder=\"Any notes about this transaction\" \n                        disabled={isSubmittingForm} \n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                    />\n                )}\n            />\n            {form.formState.errors.observacoes && <p className=\"text-sm text-destructive\">{form.formState.errors.observacoes.message}</p>}\n          </div>\n        </>\n      )}\n\n      {currentStep === 2 && (\n        <>\n          <div className=\"space-y-1.5\">\n            <Label htmlFor=\"quemComprou\" className=\"text-foreground/90\">Who Acquired/Contributed in this Transaction? (Optional)</Label>\n            <Controller\n              name=\"quemComprou\"\n              control={form.control}\n              render={({ field }) => (\n                <Select\n                  onValueChange={(value) => field.onChange(value === \"UNSPECIFIED_BUYER\" ? undefined : value)}\n                  value={field.value === \"\" || field.value === undefined ? \"UNSPECIFIED_BUYER\" : field.value}\n                  disabled={isSubmittingForm}\n                >\n                  <SelectTrigger id=\"quemComprou\" className=\"bg-input text-foreground\">\n                    <SelectValue placeholder=\"Select who acquired\" />\n                  </SelectTrigger>\n                  <SelectContent className=\"bg-popover text-popover-foreground\">\n                    <SelectItem value=\"UNSPECIFIED_BUYER\">Unspecified</SelectItem>\n                    <SelectItem value=\"União Principal (Ipê Acta)\">Main Union (Ipê Acta)</SelectItem>\n                    {partnerNames.length === 1 && (\n                      <SelectItem value={partnerNames[0]}>{partnerNames[0]}</SelectItem>\n                    )}\n                    {partnerNames.length > 1 && partnerNames.map(name => (\n                      <SelectItem key={name} value={name}>{name}</SelectItem>\n                    ))}\n                    {partnerNames.length > 1 && <SelectItem value=\"Ambos\">Both ({partnerNames.join(' & ')})</SelectItem>}\n                  </SelectContent>\n                </Select>\n              )}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              If partner names do not appear, check the union name in Profile.\n            </p>\n            {form.formState.errors.quemComprou && <p className=\"text-sm text-destructive\">{form.formState.errors.quemComprou.message}</p>}\n          </div>\n\n          {formWatchedQuemComprou === 'Ambos' && (\n            <div className=\"space-y-4 mt-4 p-4 border rounded-md bg-muted/30\">\n              <h4 className=\"text-md font-semibold text-primary\">Contribution Details (Optional)</h4>\n              <div className=\"space-y-1.5\">\n                <Label htmlFor=\"contribuicaoParceiro1\" className=\"text-foreground/90\">Amount Contributed by {partnerLabels[0]} ($)</Label>\n                 <Controller\n                    name=\"contribuicaoParceiro1\"\n                    control={form.control}\n                    render={({ field }) => (\n                        <Input\n                        id=\"contribuicaoParceiro1\"\n                        type=\"number\"\n                        {...field}\n                        value={field.value === undefined ? '' : field.value}\n                        onChange={e => field.onChange(e.target.value === '' ? undefined : parseFloat(e.target.value))}\n                        placeholder=\"0.00\"\n                        disabled={isSubmittingForm}\n                        step=\"0.01\"\n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                        />\n                    )}\n                />\n                {form.formState.errors.contribuicaoParceiro1 && <p className=\"text-sm text-destructive\">{form.formState.errors.contribuicaoParceiro1.message}</p>}\n              </div>\n              <div className=\"space-y-1.5\">\n                <Label htmlFor=\"contribuicaoParceiro2\" className=\"text-foreground/90\">Amount Contributed by {partnerLabels[1]} ($)</Label>\n                 <Controller\n                    name=\"contribuicaoParceiro2\"\n                    control={form.control}\n                    render={({ field }) => (\n                        <Input\n                        id=\"contribuicaoParceiro2\"\n                        type=\"number\"\n                        {...field}\n                        value={field.value === undefined ? '' : field.value}\n                        onChange={e => field.onChange(e.target.value === '' ? undefined : parseFloat(e.target.value))}\n                        placeholder=\"0.00\"\n                        disabled={isSubmittingForm}\n                        step=\"0.01\"\n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                        />\n                    )}\n                />\n                {form.formState.errors.contribuicaoParceiro2 && <p className=\"text-sm text-destructive\">{form.formState.errors.contribuicaoParceiro2.message}</p>}\n              </div>\n            </div>\n          )}\n        </>\n      )}\n\n      {currentStep === 3 && (\n        <>\n          <div className=\"space-y-4 p-4 border rounded-md bg-muted/30 mb-4\">\n            <h4 className=\"text-md font-semibold text-primary\">Physical Asset Details</h4>\n            <div className=\"space-y-1.5\">\n              <Label htmlFor=\"tipoImovelBemFisico\" className=\"text-foreground/90\">Type of Physical Good</Label>\n              <Controller\n                name=\"tipoImovelBemFisico\"\n                control={form.control}\n                render={({ field }) => (\n                    <Input\n                        id=\"tipoImovelBemFisico\"\n                        {...field}\n                        placeholder={\"Ex: Residential Property, Vehicle, Artwork\"}\n                        disabled={isSubmittingForm}\n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                    />\n                )}\n              />\n              {form.formState.errors.tipoImovelBemFisico && <p className=\"text-sm text-destructive\">{form.formState.errors.tipoImovelBemFisico.message}</p>}\n            </div>\n            <div className=\"space-y-1.5\">\n              <Label htmlFor=\"enderecoLocalizacaoFisico\" className=\"text-foreground/90\">Address/Location (Optional)</Label>\n              <Controller\n                name=\"enderecoLocalizacaoFisico\"\n                control={form.control}\n                render={({ field }) => (\n                    <Input\n                        id=\"enderecoLocalizacaoFisico\"\n                        {...field}\n                        value={field.value || ''}\n                        placeholder=\"Ex: 123 Example St, City - State\"\n                        disabled={isSubmittingForm}\n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                    />\n                )}\n              />\n              {form.formState.errors.enderecoLocalizacaoFisico && <p className=\"text-sm text-destructive\">{form.formState.errors.enderecoLocalizacaoFisico.message}</p>}\n            </div>\n            <div className=\"space-y-1.5\">\n              <Label htmlFor=\"documentacaoFisicoFile\" className=\"text-foreground/90\">Documentation (Optional)</Label>\n              <Controller\n                name=\"documentacaoFisicoFile\"\n                control={form.control}\n                render={({ field: { onChange, onBlur, name, ref } }) => (\n                    <Input\n                        id=\"documentacaoFisicoFile\"\n                        type=\"file\" \n                        onBlur={onBlur}\n                        name={name}\n                        ref={ref}\n                        onChange={(e) => onChange(e.target.files)}\n                        disabled={isSubmittingForm}\n                        className=\"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/20 file:text-primary-foreground hover:file:bg-primary/30 text-foreground/90\"\n                    />\n                )}\n              />\n              <p className=\"text-xs text-muted-foreground\">Max 5MB. Types: JPG, PNG, PDF.</p>\n              {form.formState.errors.documentacaoFisicoFile && <p className=\"text-sm text-destructive\">{String(form.formState.errors.documentacaoFisicoFile.message)}</p>}\n            </div>\n          </div>\n\n          {(!targetMemberId || targetMemberId === \"UNASSIGNED_TARGET\") && ( // Show only if not adding to a specific member from member node\n            <div className=\"space-y-4 p-4 border rounded-md bg-card\">\n                <h4 className=\"text-md font-semibold text-primary flex items-center\"><UserCheck size={18} className=\"mr-2\"/> Asset Designation and Release (Optional)</h4>\n                <div className=\"space-y-1.5\">\n                <Label htmlFor=\"assignedToMemberId\" className=\"text-foreground/90\">Assign Asset to Member</Label>\n                <Controller\n                    name=\"assignedToMemberId\"\n                    control={form.control}\n                    render={({ field }) => (\n                    <Select\n                        onValueChange={(value) => field.onChange(value === \"UNASSIGNED\" ? undefined : value)}\n                        value={field.value === null || field.value === undefined ? \"UNASSIGNED\" : field.value}\n                        disabled={isSubmittingForm || !!targetMemberId }\n                    >\n                        <SelectTrigger id=\"assignedToMemberId\" className={cn(\"bg-input text-foreground\", (!!targetMemberId) && \"cursor-not-allowed bg-muted/50 text-muted-foreground\")}>\n                        <SelectValue placeholder=\"Select a member\" />\n                        </SelectTrigger>\n                        <SelectContent className=\"bg-popover text-popover-foreground\">\n                        <SelectItem value=\"UNASSIGNED\">Do Not Assign / Keep with Main Union</SelectItem>\n                        {availableMembers.map(member => (\n                            <SelectItem key={member.id} value={member.id}>{member.name}</SelectItem>\n                        ))}\n                        </SelectContent>\n                    </Select>\n                    )}\n                />\n                {form.formState.errors.assignedToMemberId && <p className=\"text-sm text-destructive\">{form.formState.errors.assignedToMemberId.message}</p>}\n                </div>\n\n                {formLocalAssignedToMemberIdWatch && formLocalAssignedToMemberIdWatch !== \"UNASSIGNED\" && memberHasBirthDateForSchema && (\n                <div className=\"space-y-3 mt-3 p-3 border-t border-border\">\n                    <div className=\"flex items-center space-x-2\">\n                        <Controller\n                            name=\"setReleaseCondition\"\n                            control={form.control}\n                            render={({ field }) => (\n                                <Checkbox\n                                    id=\"setReleaseCondition\"\n                                    checked={Boolean(field.value)}\n                                    onCheckedChange={field.onChange}\n                                    disabled={isSubmittingForm}\n                                    className=\"border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\"\n                                />\n                            )}\n                        />\n                        <Label htmlFor=\"setReleaseCondition\" className=\"font-normal flex items-center text-foreground/90\">\n                        <Clock size={16} className=\"mr-2 text-primary\"/> Set Age-Based Release Condition for {actualSelectedMemberForAssignment?.name}?\n                        </Label>\n                    </div>\n                    {formSetReleaseConditionWatch && (\n                    <div className=\"space-y-1.5 pl-6\">\n                        <Label htmlFor=\"releaseTargetAge\" className=\"text-foreground/90\">Release at (age)</Label>\n                        <Controller\n                            name=\"releaseTargetAge\"\n                            control={form.control}\n                            render={({ field }) => (\n                                <Input\n                                id=\"releaseTargetAge\"\n                                type=\"number\"\n                                {...field}\n                                value={field.value === undefined ? '' : field.value}\n                                onChange={e => field.onChange(e.target.value === '' ? undefined : parseInt(e.target.value, 10))}\n                                placeholder=\"Ex: 18\"\n                                min=\"1\"\n                                disabled={isSubmittingForm}\n                                className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                                />\n                            )}\n                        />\n                        {form.formState.errors.releaseTargetAge && <p className=\"text-sm text-destructive\">{form.formState.errors.releaseTargetAge.message}</p>}\n                    </div>\n                    )}\n                </div>\n                )}\n                {formLocalAssignedToMemberIdWatch && formLocalAssignedToMemberIdWatch !== \"UNASSIGNED\" && !memberHasBirthDateForSchema && (\n                    <p className=\"text-xs text-muted-foreground mt-2 pl-1\">\n                        To set an age-based release condition, the selected member ({actualSelectedMemberForAssignment?.name || 'Member'}) must have a birth date registered.\n                    </p>\n                )}\n            </div>\n          )}\n        </>\n      )}\n\n      {formError && <p className=\"text-sm text-destructive text-center\">{formError}</p>}\n\n\n      <div className=\"flex justify-between items-center pt-4\">\n        {currentStep > 1 ? (\n          <Button type=\"button\" variant=\"outline\" onClick={handlePreviousStep} disabled={isSubmittingForm} className=\"text-foreground/90 border-border hover:bg-muted/80\">\n            <ArrowLeft className=\"mr-2 h-4 w-4\" /> Back\n          </Button>\n        ) : (\n          <Button type=\"button\" variant=\"outline\" onClick={onClose} disabled={isSubmittingForm} className=\"text-foreground/90 border-border hover:bg-muted/80\">\n            Cancel\n          </Button>\n        )}\n\n        {currentStep < TOTAL_STEPS_PHYSICAL ? (\n          <Button type=\"button\" onClick={handleNextStep} disabled={isNextButtonDisabled()} className=\"bg-primary hover:bg-primary/90 text-primary-foreground\">\n             {isSubmittingForm && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n             {isSubmittingForm ? \"Processing...\" : \"Next\"}\n             {!isSubmittingForm && <ArrowRight className=\"ml-2 h-4 w-4\" />}\n          </Button>\n        ) : (\n          <Button type=\"submit\" disabled={isSubmittingForm || !form.formState.isValid} className=\"bg-primary hover:bg-primary/90 text-primary-foreground\">\n            {isSubmittingForm ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Save className=\"mr-2 h-4 w-4\" />}\n            Save Physical Asset\n          </Button>\n        )}\n      </div>\n    </form>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1849, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/actions/assetActions.ts"],"sourcesContent":["\n'use server';\nimport type { AssetFormData, AssetTransaction } from '@/types/asset';\n\n// This action is now for adding a PHYSICAL ASSET,\n// or a transaction to an existing asset (though the form isn't set up for multiple physical transactions)\nexport async function addAsset(data: AssetFormData, userId: string): Promise<{ success: boolean; error?: string; assetId?: string, transactionId?: string }> {\n  if (!userId) {\n    return { success: false, error: 'User not authenticated.' };\n  }\n\n  const newTransactionId = `mock-tx-${Date.now()}`;\n  const assetIdForLog = `mock-physical-asset-${data.nomeAtivo.replace(/\\s+/g, '-')}`;\n\n  console.log('Simulating addition of physical asset (Firebase disabled):', {\n    userId,\n    assetIdTarget: assetIdForLog, \n    newTransactionId,\n    tipoAtivoPrincipal: 'physical', // Hardcoded, as the form is for physical assets\n    nomeAtivoPrincipal: data.nomeAtivo,\n    \n    // Transaction/acquisition details\n    dataAquisicaoTransacao: data.dataAquisicao,\n    observacoesTransacao: data.observacoes,\n    quemComprouTransacao: data.quemComprou,\n    contribuicaoParceiro1Transacao: data.contribuicaoParceiro1,\n    contribuicaoParceiro2Transacao: data.contribuicaoParceiro2,\n    \n    // Physical asset specific fields\n    tipoImovelBemFisico: data.tipoImovelBemFisico,\n    enderecoLocalizacaoFisico: data.enderecoLocalizacaoFisico,\n    documentacaoFisicoFileName: data.documentacaoFisicoFile?.[0]?.name,\n    \n    // Designation and release\n    assignedToMemberId: data.assignedToMemberId,\n    releaseCondition: data.setReleaseCondition && data.releaseTargetAge ? { type: 'age', targetAge: data.releaseTargetAge } : undefined,\n  });\n\n  await new Promise(resolve => setTimeout(resolve, 500)); // Simulate network delay\n\n  return { success: true, assetId: assetIdForLog, transactionId: newTransactionId };\n}\n"],"names":[],"mappings":";;;;;IAMsB","debugId":null}},
    {"offset": {"line": 1861, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/members/AddMemberForm.tsx"],"sourcesContent":["\n\"use client\";\nimport { useForm, Controller } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { CalendarIcon, Loader2, UserPlus, Wallet } from 'lucide-react'; // Added Wallet icon\nimport { cn } from '@/lib/utils';\nimport { format } from 'date-fns';\nimport { enUS } from 'date-fns/locale';\nimport type { MemberFormData } from '@/types/member';\n\nconst formSchema = z.object({\n  nome: z.string().min(2, \"Child's name is required and must be at least 2 characters.\"),\n  dataNascimento: z.date({ required_error: \"Date of birth is required.\" }),\n  walletAddress: z.string().optional().nullable(), // Optional wallet address\n});\n\ninterface AddMemberFormProps {\n  onSubmit: (data: MemberFormData) => Promise<void>;\n  isLoading: boolean;\n  onClose: () => void;\n}\n\nexport function AddMemberForm({ onSubmit, isLoading, onClose }: AddMemberFormProps) {\n  const form = useForm<Omit<MemberFormData, 'tipoRelacao' | 'unionId'>>({ // Omit unionId as well\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      nome: '',\n      dataNascimento: undefined,\n      walletAddress: '',\n    },\n    mode: \"onChange\",\n  });\n\n  const handleFormSubmit = (values: Omit<MemberFormData, 'tipoRelacao' | 'unionId'>) => {\n    const formDataWithRelation: MemberFormData = {\n      ...values,\n      tipoRelacao: 'filho_a', // 'child'\n      walletAddress: values.walletAddress || undefined, // Ensure empty string becomes undefined\n    };\n    onSubmit(formDataWithRelation);\n  };\n\n  return (\n    <form onSubmit={form.handleSubmit(handleFormSubmit)} className=\"space-y-6\">\n      <div className=\"space-y-1.5\">\n        <Label htmlFor=\"nome\" className=\"text-foreground/90\">Child's Full Name</Label>\n        <Input id=\"nome\" {...form.register('nome')} placeholder=\"Ex: Name Surname\" disabled={isLoading} autoFocus className=\"bg-input text-foreground placeholder:text-muted-foreground\"/>\n        {form.formState.errors.nome && <p className=\"text-sm text-destructive\">{form.formState.errors.nome.message}</p>}\n      </div>\n      \n      <div className=\"space-y-1.5\">\n        <Label htmlFor=\"dataNascimento\" className=\"text-foreground/90\">Date of Birth</Label>\n        <Controller\n          name=\"dataNascimento\"\n          control={form.control}\n          render={({ field }) => (\n            <Popover>\n              <PopoverTrigger asChild>\n                <Button\n                  variant={\"outline\"}\n                  className={cn(\n                    \"w-full justify-start text-left font-normal bg-input text-foreground hover:bg-input/80\",\n                    !field.value && \"text-muted-foreground\"\n                  )}\n                  disabled={isLoading}\n                >\n                  <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                  {field.value ? format(new Date(field.value), \"PPP\", { locale: enUS }) : <span>Choose a date</span>}\n                </Button>\n              </PopoverTrigger>\n              <PopoverContent className=\"w-auto p-0 bg-popover border-border\">\n                <Calendar\n                  mode=\"single\"\n                  selected={field.value ? new Date(field.value) : undefined}\n                  onSelect={field.onChange}\n                  initialFocus\n                  locale={enUS}\n                  disabled={(date) => date > new Date() || date < new Date(\"1900-01-01\") || isLoading}\n                  captionLayout=\"dropdown-buttons\"\n                  fromYear={1900}\n                  toYear={new Date().getFullYear()}\n                />\n              </PopoverContent>\n            </Popover>\n          )}\n        />\n        {form.formState.errors.dataNascimento && <p className=\"text-sm text-destructive\">{form.formState.errors.dataNascimento.message}</p>}\n      </div>\n\n      <div className=\"space-y-1.5\">\n        <Label htmlFor=\"walletAddress\" className=\"text-foreground/90 flex items-center\">\n          <Wallet size={16} className=\"mr-2 text-primary\" />\n          Child's Wallet Address (Optional)\n        </Label>\n        <Input \n          id=\"walletAddress\" \n          {...form.register('walletAddress')} \n          placeholder=\"Ex: 0x123...abc\" \n          disabled={isLoading} \n          className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n        />\n        {form.formState.errors.walletAddress && <p className=\"text-sm text-destructive\">{form.formState.errors.walletAddress.message}</p>}\n      </div>\n\n      <div className=\"flex justify-end space-x-3 pt-4\">\n        <Button type=\"button\" variant=\"outline\" onClick={onClose} disabled={isLoading} className=\"text-foreground/90 border-border hover:bg-muted/80\">\n          Cancel\n        </Button>\n        <Button type=\"submit\" className=\"bg-primary hover:bg-primary/90 text-primary-foreground\" disabled={isLoading}>\n          {isLoading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <UserPlus className=\"mr-2 h-4 w-4\" />}\n          Add Child\n        </Button>\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2165, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/actions/memberActions.ts"],"sourcesContent":["\n'use server';\n\nimport type { MemberFormData } from '@/types/member';\n\nexport async function addMember(data: MemberFormData, unionId: string): Promise<{ success: boolean; error?: string; memberId?: string }> {\n  if (!unionId) {\n    return { success: false, error: 'Union ID not provided.' };\n  }\n\n  console.log('Simulating member addition (Firebase disabled):', {\n    unionId,\n    nome: data.nome,\n    tipoRelacao: data.tipoRelacao, // e.g., 'filho_a' (child)\n    dataNascimento: data.dataNascimento,\n    walletAddress: data.walletAddress, // Log the wallet address\n  });\n\n  // Simulate a network delay\n  await new Promise(resolve => setTimeout(resolve, 500));\n\n  return { success: true, memberId: `mock-member-${Date.now()}` };\n}\n"],"names":[],"mappings":";;;;;IAKsB","debugId":null}},
    {"offset": {"line": 2177, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/assets/AssetReleaseDialog.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, type FormEvent } from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n  DialogClose,\n} from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Loader2, Save, Trash2, Clock } from 'lucide-react';\nimport type { ExtendedAssetNodeData } from '@/types/asset';\nimport type { MemberWithBirthDate } from '@/app/(main)/dashboard/page'; // Adjusted path\n\ninterface AssetReleaseDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  asset: ExtendedAssetNodeData | null;\n  assignedMember: MemberWithBirthDate | null | undefined; // Member it's assigned to\n  onSaveReleaseCondition: (assetId: string, targetAge: number | undefined) => void;\n  isLoading?: boolean;\n}\n\nexport function AssetReleaseDialog({\n  isOpen,\n  onClose,\n  asset,\n  assignedMember,\n  onSaveReleaseCondition,\n  isLoading = false,\n}: AssetReleaseDialogProps) {\n  const [targetAge, setTargetAge] = useState<string>('');\n\n  useEffect(() => {\n    if (asset?.releaseCondition?.type === 'age') {\n      setTargetAge(asset.releaseCondition.targetAge.toString());\n    } else {\n      setTargetAge('');\n    }\n  }, [asset]);\n\n  if (!asset) return null;\n\n  const memberHasBirthDate = !!assignedMember?.dataNascimento;\n  const memberName = assignedMember?.nome || 'Unknown Member';\n\n  const handleSubmit = (event: FormEvent) => {\n    event.preventDefault();\n    if (!memberHasBirthDate && targetAge) {\n      // This case should ideally be prevented by disabling the input\n      console.warn(\"Cannot set age condition without member's birth date.\");\n      return;\n    }\n    const age = targetAge ? parseInt(targetAge, 10) : undefined;\n    if (targetAge && (isNaN(age!) || age! <= 0)) {\n        alert(\"Please enter a valid positive age.\"); // Simple validation\n        return;\n    }\n    onSaveReleaseCondition(asset.id, age);\n  };\n\n  const handleRemoveCondition = () => {\n    onSaveReleaseCondition(asset.id, undefined); // Pass undefined to clear\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-md bg-card border-border\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl text-primary flex items-center\">\n            <Clock size={24} className=\"mr-2\" /> Manage Release Condition\n          </DialogTitle>\n          <DialogDescription className=\"text-muted-foreground\">\n            Set or remove the age-based release condition for the asset: <span className=\"font-semibold text-foreground\">{asset.nomeAtivo}</span>.\n            <br />\n            Currently assigned to: <span className=\"font-semibold text-foreground\">{memberName}</span>.\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit} className=\"space-y-6 py-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"targetAge\" className=\"text-foreground/90\">\n              Release at Age\n            </Label>\n            <Input\n              id=\"targetAge\"\n              type=\"number\"\n              value={targetAge}\n              onChange={(e) => setTargetAge(e.target.value)}\n              placeholder=\"E.g., 18\"\n              className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n              disabled={isLoading || !memberHasBirthDate}\n              min=\"1\"\n            />\n            {!memberHasBirthDate && (\n              <p className=\"text-xs text-destructive\">\n                The assigned member ({memberName}) does not have a birth date registered. Age-based release cannot be set.\n              </p>\n            )}\n             {memberHasBirthDate && !targetAge && asset?.releaseCondition && (\n                 <p className=\"text-xs text-muted-foreground\">\n                    Clear the age to remove the condition, or enter a new age.\n                </p>\n            )}\n          </div>\n\n          <DialogFooter className=\"gap-2 sm:gap-0\">\n            <Button\n              type=\"button\"\n              variant=\"destructive\"\n              onClick={handleRemoveCondition}\n              disabled={isLoading || !asset.releaseCondition}\n              className=\"sm:mr-auto\"\n            >\n              {isLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Trash2 size={16} className=\"mr-2\" />}\n              Remove Condition\n            </Button>\n            <DialogClose asChild>\n              <Button type=\"button\" variant=\"outline\" className=\"text-foreground/90 border-border hover:bg-muted/80\">\n                Cancel\n              </Button>\n            </DialogClose>\n            <Button type=\"submit\" className=\"bg-primary hover:bg-primary/90 text-primary-foreground\" disabled={isLoading || (!memberHasBirthDate && !!targetAge) || (memberHasBirthDate && targetAge === asset.releaseCondition?.targetAge.toString())}>\n              {isLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Save size={16} className=\"mr-2\" />}\n              Save Changes\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2455, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2536, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/UnionNode.tsx"],"sourcesContent":["\n'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Network, Settings, PlusCircle, DollarSign, Users } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { useState, useCallback, useEffect, useRef } from 'react';\n\nexport type UnionNodeData = {\n  label: string;\n  onSettingsClick: () => void;\n  onOpenAssetModal: () => void;\n  onAddMember: () => void;\n};\n\nexport function UnionNode({ id, data, selected }: NodeProps<UnionNodeData>) {\n  const [showActions, setShowActions] = useState(false);\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  const toggleActions = useCallback(() => {\n    setShowActions((prev) => !prev);\n  }, []);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (popoverRef.current && !popoverRef.current.contains(event.target as Node)) {\n        const handleElement = document.getElementById(`handle-plus-${id}`);\n        if (handleElement && handleElement.contains(event.target as Node)) {\n          return;\n        }\n        setShowActions(false);\n      }\n    };\n\n    if (showActions) {\n      document.addEventListener('mousedown', handleClickOutside);\n    } else {\n      document.removeEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showActions, id]);\n\n\n  return (\n    <Card\n      className={`w-60 shadow-xl border-2 ${selected ? 'border-primary shadow-primary/30' : 'border-primary/60'} bg-card p-0 overflow-hidden relative rounded-lg`}\n      style={{ overflow: 'visible' }}\n    >\n      <Handle type=\"target\" position={Position.Top} id={`t-${id}-top`} className=\"!opacity-0\" />\n\n      <div className=\"bg-gradient-to-r from-gradient-green to-gradient-blue p-2 rounded-t-md flex justify-between items-center\">\n        <span className=\"text-xs font-semibold text-black\">Contract</span>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"h-6 w-6 text-black hover:bg-white/20 hover:text-black/80\"\n          onClick={data.onSettingsClick}\n          aria-label=\"Contract Settings\"\n        >\n          <Settings size={16} />\n        </Button>\n      </div>\n\n      <div className=\"p-3 bg-card rounded-b-md\">\n        <div className=\"flex items-center space-x-2 text-sm font-semibold text-card-foreground\">\n          <Network size={18} className=\"text-primary\" />\n          <span>{data.label}</span>\n        </div>\n      </div>\n\n      <div className=\"absolute -bottom-5 left-1/2 transform -translate-x-1/2 z-10\">\n        <button\n          id={`handle-plus-${id}`}\n          onClick={toggleActions}\n          className=\"p-1.5 bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 flex items-center justify-center\"\n          aria-label=\"Add\"\n          style={{ width: '32px', height: '32px' }}\n        >\n          <PlusCircle size={20} />\n        </button>\n        {showActions && (\n          <div\n            ref={popoverRef}\n            className=\"absolute left-1/2 transform -translate-x-1/2 mt-2 w-48 bg-popover border border-border rounded-md shadow-xl p-2 space-y-2 z-20\"\n            style={{ top: 'calc(100% + 0.5rem)' }}\n          >\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"w-full justify-start text-sm text-popover-foreground hover:bg-primary/20 hover:text-primary\"\n              onClick={() => {\n                data.onOpenAssetModal();\n                setShowActions(false);\n              }}\n            >\n              <DollarSign size={16} className=\"mr-2\" />\n              Add Asset\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"w-full justify-start text-sm text-popover-foreground hover:bg-accent/20 hover:text-accent\"\n              onClick={() => {\n                data.onAddMember();\n                setShowActions(false);\n              }}\n            >\n              <Users size={16} className=\"mr-2\" />\n              Add Child\n            </Button>\n          </div>\n        )}\n      </div>\n       <Handle\n        type=\"source\"\n        position={Position.Bottom}\n        id={`s-${id}-bottom`}\n        className=\"!opacity-0 !w-px !h-px !cursor-default\"\n        isConnectable={false}\n      />\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2781, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE","debugId":null}},
    {"offset": {"line": 2823, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,mKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,mKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,mKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,8OAAC,mKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sYACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,mKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2859, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/AssetNode.tsx"],"sourcesContent":["\n'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Coins, Landmark, BuildingIcon, Clock, Info } from 'lucide-react'; // BuildingIcon as a generic physical asset for now\nimport { useToast } from '@/hooks/use-toast';\nimport type { ExtendedAssetNodeData } from '@/types/asset';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';\n\nconst BitcoinIconSvg = () => <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-2\"><circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#F7931A\"/><path d=\"M10.05 16.64H12.32C14.66 16.64 16.31 15.32 16.31 12.91C16.31 10.5 14.66 9.17999 12.32 9.17999H10.05V7.35999H12.4C15.43 7.35999 17.5 8.95999 17.5 11.82C17.5 13.48 16.73 14.91 15.38 15.79V15.83C17.06 16.57 18 17.97 18 19.76C18 22.79 15.67 24.48 12.54 24.48H8V7.35999H10.05V16.64ZM10.05 11.6H12.22C13.6 11.6 14.51 12.31 14.51 13.59C14.51 14.87 13.6 15.58 12.22 15.58H10.05V11.6ZM10.05 17.68H12.4C13.98 17.68 15.03 18.46 15.03 19.79C15.03 21.12 13.98 21.9 12.4 21.9H10.05V17.68Z\" fill=\"white\" transform=\"scale(0.75) translate(2, -4)\"/></svg>;\nconst EthereumIconSvg = () => <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-2\"><path d=\"M12.023 2.68701L11.531 3.32701V11.56L12.023 11.829L12.516 11.56V3.32701L12.023 2.68701Z\" fill=\"#627EEA\"/><path d=\"M12.023 2.68701L6.78101 9.40401L12.023 11.829V2.68701Z\" fill=\"#8AA1F2\"/><path d=\"M12.023 2.68701L17.265 9.40401L12.023 11.829V2.68701Z\" fill=\"#627EEA\"/><path d=\"M12.023 12.76L11.555 12.981V16.844L12.023 17.13L12.492 16.844V12.981L12.023 12.76Z\" fill=\"#627EEA\"/><path d=\"M12.023 17.13V12.76L6.78101 10.352L12.023 17.13Z\" fill=\"#8AA1F2\"/><path d=\"M12.023 17.13V12.76L17.265 10.352L12.023 17.13Z\" fill=\"#627EEA\"/><path d=\"M12.023 11.829L17.265 9.40401L12.023 6.99701L6.78101 9.40401L12.023 11.829Z\" fill=\"#45578E\"/></svg>;\nconst UsdcIconSvg = () => ( // Simple USDC placeholder icon\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-2\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#2775CA\"/>\n    <path d=\"M12 17.5C14.7614 17.5 17 15.2614 17 12.5C17 9.73858 14.7614 7.5 12 7.5C9.23858 7.5 7 9.73858 7 12.5C7 13.8462 7.51211 15.0739 8.36341 15.9697M12 17.5C9.23858 17.5 7 15.2614 7 12.5M12 17.5V14.5M7 12.5H10M12 7.5V10.5M17 12.5H14M12.5 10H11.5L10.5 11L11.5 12L12.5 11L13.5 12L14.5 11L13.5 10H12.5Z\" stroke=\"white\" strokeWidth=\"1.5\"/>\n  </svg>\n);\n\n\nconst getIconForAsset = (data: ExtendedAssetNodeData) => {\n  if (data.tipo === 'digital') {\n    const nameLower = data.nomeAtivo.toLowerCase();\n    if (nameLower.includes('bitcoin') || nameLower.includes('btc')) return <BitcoinIconSvg />;\n    if (nameLower.includes('ethereum') || nameLower.includes('eth')) return <EthereumIconSvg />;\n    if (nameLower.includes('usdc')) return <UsdcIconSvg />; // Assuming USDC will have 'usdc' in its name\n    return <Coins size={18} className=\"text-primary mr-2\" />;\n  }\n  if (data.tipo === 'fisico') {\n    const tipoBemLower = data.tipoImovelBemFisico?.toLowerCase() || '';\n    if (tipoBemLower.includes('house') || tipoBemLower.includes('apartment') || tipoBemLower.includes('property') || tipoBemLower.includes('imóvel') || tipoBemLower.includes('casa') || tipoBemLower.includes('apartamento')) {\n      return <Landmark size={18} className=\"text-primary mr-2\" />;\n    }\n    if (tipoBemLower.includes('vehicle') || tipoBemLower.includes('car') || tipoBemLower.includes('veículo') || tipoBemLower.includes('carro')) {\n      return <BuildingIcon size={18} className=\"text-primary mr-2\" />;\n    }\n    return <Landmark size={18} className=\"text-primary mr-2\" />;\n  }\n  return <Coins size={18} className=\"text-primary mr-2\" />;\n};\n\n\nexport function AssetNode({ id: nodeId, data, selected }: NodeProps<ExtendedAssetNodeData>) {\n  const icon = getIconForAsset(data);\n  const { toast } = useToast();\n\n  const handleClockClick = (e: React.MouseEvent) => {\n    e.stopPropagation(); // Prevent card click when clicking the clock\n    if (data.onOpenReleaseDialog) {\n      data.onOpenReleaseDialog(data);\n    } else {\n      toast({\n        title: 'Manage Release',\n        description: `Release condition for asset \"${data.nomeAtivo}\" ${data.releaseCondition?.targetAge ? `is set to age ${data.releaseCondition.targetAge}` : 'is not set'}. Configuration UI coming soon.`,\n      });\n    }\n  };\n\n  const handleCardClick = () => {\n    if (data.onOpenDetails) {\n      data.onOpenDetails();\n    }\n  };\n\n  return (\n    <TooltipProvider delayDuration={300}>\n      <Card\n        className={`w-auto min-w-[200px] max-w-[280px] shadow-lg border-2 ${selected ? 'border-primary shadow-primary/30' : 'border-border'} bg-card relative rounded-lg cursor-pointer hover:shadow-md transition-shadow`}\n        style={{ overflow: 'visible' }}\n        onClick={handleCardClick}\n      >\n        <Handle type=\"target\" position={Position.Top} id={`t-${nodeId}-asset`} className=\"!opacity-50 !bg-ring\" />\n\n        <CardHeader className=\"p-3 border-b border-border\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center overflow-hidden\">\n              {icon}\n              <CardTitle className=\"text-sm font-semibold text-card-foreground truncate\" title={data.nomeAtivo}>\n                {data.nomeAtivo}\n              </CardTitle>\n            </div>\n            {data.assignedToMemberId && data.releaseCondition?.type === 'age' && (\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-6 w-6 text-accent hover:bg-accent/10\"\n                onClick={handleClockClick}\n                aria-label=\"Manage release condition\"\n              >\n                <Clock size={14} />\n              </Button>\n            )}\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"p-3 text-xs space-y-1\">\n          {data.tipo === 'digital' && data.quantidadeTotalDigital !== undefined && (\n              <Badge variant=\"outline\" className=\"text-xs whitespace-normal text-left border-primary/50 text-primary bg-card\">\n                  Total Qty: {data.quantidadeTotalDigital.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 })}\n              </Badge>\n          )}\n          {data.tipo === 'fisico' && data.tipoImovelBemFisico && (\n            <Badge variant=\"secondary\" className=\"text-xs whitespace-normal text-left bg-secondary/80 text-secondary-foreground\">\n              {data.tipoImovelBemFisico}\n            </Badge>\n          )}\n          {data.releaseCondition?.targetAge && (\n             <p className=\"text-muted-foreground text-[0.7rem] italic mt-1\">\n              Releases at: {data.releaseCondition.targetAge} yrs\n            </p>\n          )}\n          {data.isAutoLoaded && (\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <div className=\"flex items-center space-x-1 text-xs text-accent mt-1 cursor-default\">\n                  <Info size={13} />\n                  <span>Wallet Information</span>\n                </div>\n              </TooltipTrigger>\n              <TooltipContent side=\"bottom\" className=\"bg-popover text-popover-foreground text-xs p-2\">\n                <p>Loaded from connected wallet (simulated).</p>\n              </TooltipContent>\n            </Tooltip>\n          )}\n        </CardContent>\n        <Handle type=\"source\" position={Position.Bottom} id={`s-${nodeId}-asset`} className=\"!opacity-50 !bg-ring\" />\n      </Card>\n    </TooltipProvider>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3303, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/MemberNode.tsx"],"sourcesContent":["\n'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { User, Users, Baby, PersonStanding, PlusCircle } from 'lucide-react';\n\nexport type MemberNodeData = {\n  id: string;\n  name: string;\n  relationshipType: string; // e.g., 'filho_a'\n  onAddAssetClick?: (memberId: string) => void;\n};\n\nconst getIconForMember = (data: MemberNodeData) => {\n  const relTypeLower = data.relationshipType.toLowerCase();\n  // Assuming 'filho_a' means child. Translate other relationship types if needed.\n  if (relTypeLower.includes('filho_a') || relTypeLower.includes('child')) return <Baby size={18} className=\"text-accent mr-2\" />;\n  if (relTypeLower.includes('pai') || relTypeLower.includes('mae') || relTypeLower.includes('parent')) return <PersonStanding size={18} className=\"text-accent mr-2\" />;\n  if (relTypeLower.includes('cônjuge') || relTypeLower.includes('parceiro') || relTypeLower.includes('spouse') || relTypeLower.includes('partner')) return <Users size={18} className=\"text-accent mr-2\" />;\n  return <User size={18} className=\"text-accent mr-2\" />;\n};\n\n// Helper to get a displayable relationship type\nconst getDisplayRelationship = (relationshipType: string) => {\n    if (relationshipType === 'filho_a') return 'Child';\n    // Add more translations as needed\n    return relationshipType.charAt(0).toUpperCase() + relationshipType.slice(1);\n}\n\nexport function MemberNode({ id: nodeId, data, selected }: NodeProps<MemberNodeData>) {\n  const icon = getIconForMember(data);\n\n  const handleAddAsset = () => {\n    if (data.onAddAssetClick) {\n      data.onAddAssetClick(data.id); \n    }\n  };\n\n  return (\n    <Card\n      className={`w-56 shadow-lg border-2 ${selected ? 'border-accent shadow-accent/40' : 'border-border'} bg-card relative rounded-lg`}\n      style={{ overflow: 'visible' }}\n    >\n      <Handle type=\"target\" position={Position.Top} id={`t-${nodeId}-top`} className=\"!opacity-50 !bg-ring\" />\n\n      <CardHeader className=\"p-3 border-b border-border\">\n        <div className=\"flex items-center\">\n          {icon}\n          <CardTitle className=\"text-sm font-semibold text-card-foreground truncate\" title={data.name}>\n            {data.name}\n          </CardTitle>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"p-3 text-xs\">\n        <Badge variant=\"outline\" className=\"border-accent/50 text-accent text-xs\">\n          {getDisplayRelationship(data.relationshipType)}\n        </Badge>\n      </CardContent>\n\n      {data.onAddAssetClick && (\n         <div className=\"absolute -bottom-3.5 left-1/2 transform -translate-x-1/2 z-10\">\n            <Button\n                variant=\"outline\"\n                size=\"icon\"\n                className=\"h-7 w-7 bg-card hover:bg-muted border-dashed border-accent text-accent hover:text-accent/90 rounded-full shadow\"\n                onClick={handleAddAsset}\n                aria-label=\"Add Asset to this Member\"\n            >\n                <PlusCircle size={16} />\n            </Button>\n        </div>\n      )}\n      <Handle type=\"source\" position={Position.Bottom} id={`s-${nodeId}-bottom`} className=\"!opacity-50 !bg-ring\" />\n      <Handle type=\"target\" position={Position.Bottom} id={`t-${nodeId}-bottom`} className=\"!opacity-50 !bg-ring !bottom-[-4px]\" />\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAPA;;;;;;;AAgBA,MAAM,mBAAmB,CAAC;IACxB,MAAM,eAAe,KAAK,gBAAgB,CAAC,WAAW;IACtD,gFAAgF;IAChF,IAAI,aAAa,QAAQ,CAAC,cAAc,aAAa,QAAQ,CAAC,UAAU,qBAAO,8OAAC,kMAAA,CAAA,OAAI;QAAC,MAAM;QAAI,WAAU;;;;;;IACzG,IAAI,aAAa,QAAQ,CAAC,UAAU,aAAa,QAAQ,CAAC,UAAU,aAAa,QAAQ,CAAC,WAAW,qBAAO,8OAAC,0NAAA,CAAA,iBAAc;QAAC,MAAM;QAAI,WAAU;;;;;;IAChJ,IAAI,aAAa,QAAQ,CAAC,cAAc,aAAa,QAAQ,CAAC,eAAe,aAAa,QAAQ,CAAC,aAAa,aAAa,QAAQ,CAAC,YAAY,qBAAO,8OAAC,oMAAA,CAAA,QAAK;QAAC,MAAM;QAAI,WAAU;;;;;;IACpL,qBAAO,8OAAC,kMAAA,CAAA,OAAI;QAAC,MAAM;QAAI,WAAU;;;;;;AACnC;AAEA,gDAAgD;AAChD,MAAM,yBAAyB,CAAC;IAC5B,IAAI,qBAAqB,WAAW,OAAO;IAC3C,kCAAkC;IAClC,OAAO,iBAAiB,MAAM,CAAC,GAAG,WAAW,KAAK,iBAAiB,KAAK,CAAC;AAC7E;AAEO,SAAS,WAAW,EAAE,IAAI,MAAM,EAAE,IAAI,EAAE,QAAQ,EAA6B;IAClF,MAAM,OAAO,iBAAiB;IAE9B,MAAM,iBAAiB;QACrB,IAAI,KAAK,eAAe,EAAE;YACxB,KAAK,eAAe,CAAC,KAAK,EAAE;QAC9B;IACF;IAEA,qBACE,8OAAC,gIAAA,CAAA,OAAI;QACH,WAAW,CAAC,wBAAwB,EAAE,WAAW,mCAAmC,gBAAgB,4BAA4B,CAAC;QACjI,OAAO;YAAE,UAAU;QAAU;;0BAE7B,8OAAC,4JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,4JAAA,CAAA,WAAQ,CAAC,GAAG;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC;gBAAE,WAAU;;;;;;0BAE/E,8OAAC,gIAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC;oBAAI,WAAU;;wBACZ;sCACD,8OAAC,gIAAA,CAAA,YAAS;4BAAC,WAAU;4BAAsD,OAAO,KAAK,IAAI;sCACxF,KAAK,IAAI;;;;;;;;;;;;;;;;;0BAKhB,8OAAC,gIAAA,CAAA,cAAW;gBAAC,WAAU;0BACrB,cAAA,8OAAC,iIAAA,CAAA,QAAK;oBAAC,SAAQ;oBAAU,WAAU;8BAChC,uBAAuB,KAAK,gBAAgB;;;;;;;;;;;YAIhD,KAAK,eAAe,kBAClB,8OAAC;gBAAI,WAAU;0BACZ,cAAA,8OAAC,kIAAA,CAAA,SAAM;oBACH,SAAQ;oBACR,MAAK;oBACL,WAAU;oBACV,SAAS;oBACT,cAAW;8BAEX,cAAA,8OAAC,kNAAA,CAAA,aAAU;wBAAC,MAAM;;;;;;;;;;;;;;;;0BAI5B,8OAAC,4JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,4JAAA,CAAA,WAAQ,CAAC,MAAM;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,OAAO,CAAC;gBAAE,WAAU;;;;;;0BACrF,8OAAC,4JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,4JAAA,CAAA,WAAQ,CAAC,MAAM;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,OAAO,CAAC;gBAAE,WAAU;;;;;;;;;;;;AAG3F","debugId":null}},
    {"offset": {"line": 3488, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 3516, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,8OAAC,0KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC,0KAAA,CAAA,SAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC,0KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,0KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,0KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3584, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,8OAAC,qKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;AAIf,UAAU,WAAW,GAAG,qKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3615, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/contract/ContractSettingsDialog.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n  DialogClose,\n} from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { PlusCircle, Trash2, Edit3, Users, Save, Landmark } from 'lucide-react';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Separator } from '@/components/ui/separator';\n\nexport interface ContractClause {\n  id: string;\n  text: string;\n}\n\ninterface ContractSettingsDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  clauses: ContractClause[];\n  onAddClause: (text: string) => void;\n  onRemoveClause: (id: string) => void;\n  onUpdateClause: (id: string, newText: string) => void;\n  dialogTitle?: string;\n  dialogDescription?: string;\n}\n\nconst suggestedClausesTemplates = {\n  assetSharing: [\n    { id: 'sug_as_1', text: \"Asset sharing in case of union dissolution: 50/50 division of assets acquired jointly during the agreement.\" },\n    { id: 'sug_as_2', text: \"Individually acquired assets before the union will remain as individual property of each party.\" },\n    { id: 'sug_as_3', text: \"In case of acquisition of the asset [SPECIFIC ASSET NAME], ownership will be divided X% for Party A and Z% for Party B.\" },\n  ],\n  cohabitationRules: [\n    { id: 'sug_cr_1', text: \"Operational expenses of the union (e.g., maintenance costs, fees) will be divided as follows: [Describe the division].\" },\n    { id: 'sug_cr_2', text: \"Major financial decisions (above [VALUE/CURRENCY]) must be discussed and approved by both parties of the union.\" },\n    { id: 'sug_cr_3', text: \"Financial contributions and responsibilities: [Define rules for contributions, work, etc.].\" },\n  ],\n};\n\nexport function ContractSettingsDialog({\n  isOpen,\n  onClose,\n  clauses,\n  onAddClause,\n  onRemoveClause,\n  onUpdateClause,\n  dialogTitle = \"Agreement Settings\",\n  dialogDescription = \"Add, view, edit, and manage the clauses of your contract. This system is flexible to accommodate various configurations and agreements.\"\n}: ContractSettingsDialogProps) {\n  const [newClauseText, setNewClauseText] = useState('');\n  const [editingClauseId, setEditingClauseId] = useState<string | null>(null);\n  const [currentClauseTextForEdit, setCurrentClauseTextForEdit] = useState('');\n\n  const handleEditClick = (clause: ContractClause) => {\n    setEditingClauseId(clause.id);\n    setCurrentClauseTextForEdit(clause.text);\n  };\n\n  const handleSaveOrAddClause = () => {\n    const textToSave = editingClauseId ? currentClauseTextForEdit : newClauseText;\n    if (textToSave.trim()) {\n      if (editingClauseId) {\n        onUpdateClause(editingClauseId, textToSave.trim());\n      } else {\n        onAddClause(textToSave.trim());\n      }\n      setNewClauseText('');\n      setCurrentClauseTextForEdit('');\n      setEditingClauseId(null);\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setCurrentClauseTextForEdit('');\n    setEditingClauseId(null);\n  };\n\n  const handleAddSuggestion = (text: string) => {\n    if (editingClauseId) {\n        setCurrentClauseTextForEdit(prev => prev ? `${prev}\\n${text}` : text);\n    } else {\n        setNewClauseText(prev => prev ? `${prev}\\n${text}` : text);\n    }\n  };\n\n  useEffect(() => {\n    if (!isOpen) {\n      setNewClauseText('');\n      setCurrentClauseTextForEdit('');\n      setEditingClauseId(null);\n    }\n  }, [isOpen]);\n\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-2xl lg:max-w-4xl xl:max-w-6xl max-h-[90vh] flex flex-col bg-card border-border\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl text-primary\">{dialogTitle}</DialogTitle>\n          <DialogDescription className=\"text-muted-foreground\">\n            {dialogDescription}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 py-4 flex-grow min-h-0\">\n          <div className=\"md:col-span-2 flex flex-col min-h-0\">\n            <h3 className=\"text-lg font-semibold mb-3 text-foreground\">Current Clauses</h3>\n            {clauses.length === 0 ? (\n              <p className=\"text-sm text-muted-foreground text-center py-10\">No clauses added yet. Start by adding a new one or using a suggestion.</p>\n            ) : (\n              <ScrollArea className=\"flex-grow border border-border rounded-md p-4 bg-background max-h-[calc(90vh-350px)] md:max-h-none\">\n                <ul className=\"space-y-3\">\n                  {clauses.map((clause) => (\n                    <li key={clause.id} className=\"p-3 bg-card shadow rounded-md text-sm text-card-foreground border border-border/50\">\n                      <p className=\"whitespace-pre-wrap flex-grow mb-2\">{clause.text}</p>\n                      <div className=\"flex justify-end space-x-2\">\n                        <Button variant=\"ghost\" size=\"sm\" className=\"text-primary hover:text-primary/80\" onClick={() => handleEditClick(clause)}>\n                          <Edit3 size={16} className=\"mr-1\" /> Edit\n                        </Button>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"text-destructive hover:text-destructive/80\" onClick={() => onRemoveClause(clause.id)}>\n                          <Trash2 size={16} className=\"mr-1\" /> Remove\n                        </Button>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </ScrollArea>\n            )}\n          </div>\n\n          <div className=\"flex flex-col space-y-6 min-h-0\">\n            <div>\n              <Label htmlFor=\"clause-text-area\" className=\"text-lg font-semibold mb-2 text-foreground block\">\n                {editingClauseId ? 'Edit Clause' : 'Add New Clause'}\n              </Label>\n              <Textarea\n                id=\"clause-text-area\"\n                value={editingClauseId ? currentClauseTextForEdit : newClauseText}\n                onChange={(e) => editingClauseId ? setCurrentClauseTextForEdit(e.target.value) : setNewClauseText(e.target.value)}\n                placeholder=\"Enter clause text here...\"\n                className=\"min-h-[100px] bg-input text-foreground placeholder:text-muted-foreground\"\n                rows={5}\n              />\n              <div className=\"mt-3 flex flex-col sm:flex-row gap-2\">\n                <Button onClick={handleSaveOrAddClause} className=\"w-full sm:flex-1 bg-primary hover:bg-primary/90 text-primary-foreground\" disabled={!(editingClauseId ? currentClauseTextForEdit.trim() : newClauseText.trim())}>\n                  {editingClauseId ? <><Save size={18} className=\"mr-2\" /> Save Changes</> : <><PlusCircle size={18} className=\"mr-2\" /> Add Clause</>}\n                </Button>\n                {editingClauseId && (\n                  <Button variant=\"outline\" onClick={handleCancelEdit} className=\"w-full sm:w-auto text-foreground/90 border-border hover:bg-muted/80\">\n                    Cancel Edit\n                  </Button>\n                )}\n              </div>\n            </div>\n\n            <Separator className=\"bg-border\"/>\n\n            <div>\n              <h3 className=\"text-lg font-semibold mb-3 text-foreground\">Clause Suggestions</h3>\n              <ScrollArea className=\"max-h-[calc(90vh-500px)] md:max-h-none pr-2\">\n                <div className=\"space-y-4\">\n                  <div>\n                    <h4 className=\"text-md font-semibold text-primary mb-1.5 flex items-center\"><Landmark size={18} className=\"mr-2\"/>Asset Sharing</h4>\n                    {suggestedClausesTemplates.assetSharing.map(sug => (\n                        <Button key={sug.id} variant=\"outline\" size=\"sm\" className=\"text-xs w-full justify-start text-left h-auto py-1.5 mb-1.5 text-foreground/90 border-border hover:bg-muted/80\" onClick={() => handleAddSuggestion(sug.text)}>\n                         {sug.text}\n                        </Button>\n                    ))}\n                  </div>\n                  <div>\n                    <h4 className=\"text-md font-semibold text-primary mb-1.5 flex items-center\"><Users size={18} className=\"mr-2\"/>Union Rules</h4>\n                     {suggestedClausesTemplates.cohabitationRules.map(sug => (\n                        <Button key={sug.id} variant=\"outline\" size=\"sm\" className=\"text-xs w-full justify-start text-left h-auto py-1.5 mb-1.5 text-foreground/90 border-border hover:bg-muted/80\" onClick={() => handleAddSuggestion(sug.text)}>\n                         {sug.text}\n                        </Button>\n                    ))}\n                  </div>\n                </div>\n              </ScrollArea>\n            </div>\n          </div>\n        </div>\n\n        <DialogFooter className=\"mt-auto pt-4 border-t border-border\">\n          <DialogClose asChild>\n            <Button type=\"button\" variant=\"outline\" className=\"text-foreground/90 border-border hover:bg-muted/80\">\n              Close\n            </Button>\n          </DialogClose>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4104, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28main%29/dashboard/page.tsx"],"sourcesContent":["\n\"use client\";\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useAuth } from '@/components/auth-provider';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter, DialogClose } from '@/components/ui/dialog';\nimport { Loader2, PlusCircle, Users, Settings, FileText, Briefcase, Network, DollarSign, LayoutGrid, HomeIcon, Clock } from 'lucide-react';\nimport { AssetForm } from '@/components/assets/AssetForm';\nimport type { AssetFormData, ExtendedAssetNodeData, AssetTransaction } from '@/types/asset';\nimport { addAsset } from '@/actions/assetActions';\nimport { AddMemberForm } from '@/components/members/AddMemberForm';\nimport type { MemberFormData, Member } from '@/types/member';\nimport { addMember } from '@/actions/memberActions';\nimport { AssetReleaseDialog } from '@/components/assets/AssetReleaseDialog';\n\nimport { useToast } from '@/hooks/use-toast';\nimport ReactFlow, {\n  useNodesState,\n  useEdgesState,\n  addEdge,\n  Controls,\n  Background,\n  MarkerType,\n  Position,\n  type Node,\n  type Edge,\n  type OnConnect,\n  NodeOrigin,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\n\nimport { UnionNode, type UnionNodeData } from '@/components/nodes/UnionNode';\nimport { AssetNode } from '@/components/nodes/AssetNode';\nimport { MemberNode, type MemberNodeData as IMemberNodeData } from '@/components/nodes/MemberNode';\nimport { ContractSettingsDialog, type ContractClause } from '@/components/contract/ContractSettingsDialog';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Separator } from '@/components/ui/separator';\nimport { format } from 'date-fns';\nimport { enUS } from 'date-fns/locale';\nimport { Label } from '@/components/ui/label';\n\nconst UNION_NODE_ID = 'union-node';\nconst nodeOrigin: NodeOrigin = [0.5, 0.5];\n\n// Layout constants\nconst UNION_NODE_X_POS = 400;\nconst UNION_NODE_Y_POS = 100;\nconst NODE_WIDTH = 224; // Approx width of AssetNode/MemberNode (w-56)\nconst HORIZONTAL_SPACING = 40;\nconst CHILDREN_ROW_Y_OFFSET = 180; // Vertical distance from Union to Children row\nconst ASSET_ROW_Y_OFFSET = 180;    // Vertical distance from Parent (Union or Child) to its Asset row\n\nconst initialNodes: Node[] = [];\nconst initialEdges: Edge[] = [];\n\nexport interface MemberWithBirthDate extends Member {\n  dataNascimento?: Date | string;\n}\n\nexport interface MemberWithBirthDateAndWallet extends MemberWithBirthDate {\n  walletAddress?: string;\n}\n\nexport interface ExtendedMemberNodeData extends IMemberNodeData {\n  walletAddress?: string;\n}\n\nexport interface GeneratedCertificate {\n  id: string;\n  dateGenerated: Date;\n  clausesSnapshot: ContractClause[];\n  unionName: string;\n}\n\nconst nodeTypes = {\n  unionNode: UnionNode,\n  assetNode: AssetNode,\n  memberNode: MemberNode,\n};\n\nexport default function AssetManagementDashboard() {\n  const { user, loading: authLoading } = useAuth();\n  const { toast } = useToast();\n\n  const [isAssetModalOpen, setIsAssetModalOpen] = useState(false);\n  const [isSubmittingAsset, setIsSubmittingAsset] = useState(false);\n  const [memberContextForAssetAdd, setMemberContextForAssetAdd] = useState<string | null>(null);\n\n  const [isAddMemberModalOpen, setIsAddMemberModalOpen] = useState(false);\n  const [isSubmittingMember, setIsSubmittingMember] = useState(false);\n\n  const [nodes, setNodes, onNodesChange] = useNodesState<Node<UnionNodeData | ExtendedAssetNodeData | ExtendedMemberNodeData>[]>(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const [allMembers, setAllMembers] = useState<MemberWithBirthDateAndWallet[]>([]);\n\n  const [isContractSettingsModalOpen, setIsContractSettingsModalOpen] = useState(false);\n  const [contractClauses, setContractClauses] = useState<ContractClause[]>([\n    { id: 'initial-1', text: \"All assets acquired during the union will be divided equally (50/50) in case of separation.\" },\n    { id: 'initial-2', text: \"Ordinary household expenses will be borne by both spouses, in proportion to their respective incomes.\" },\n  ]);\n\n  const [isAssetDetailsModalOpen, setIsAssetDetailsModalOpen] = useState(false);\n  const [selectedAssetForDetails, setSelectedAssetForDetails] = useState<ExtendedAssetNodeData | null>(null);\n\n  const [isAssetReleaseModalOpen, setIsAssetReleaseModalOpen] = useState(false);\n  const [selectedAssetForReleaseManagement, setSelectedAssetForReleaseManagement] = useState<ExtendedAssetNodeData | null>(null);\n  const [isSubmittingRelease, setIsSubmittingRelease] = useState(false);\n\n  const [isCertificateModalOpen, setIsCertificateModalOpen] = useState(false);\n  const [generatedCertificates, setGeneratedCertificates] = useState<GeneratedCertificate[]>([]);\n  const [isHoldingReportModalOpen, setIsHoldingReportModalOpen] = useState(false);\n\n  const onConnect: OnConnect = useCallback(\n    (params) => setEdges((eds) => addEdge({ ...params, type: 'smoothstep', markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' } }, eds)),\n    [setEdges]\n  );\n\n  const handleOpenContractSettings = useCallback(() => {\n    const userClauses = user?.contractClauses || [\n      { id: 'initial-1', text: 'All assets acquired during the union will be divided equally (50/50) in case of separation.' },\n      { id: 'initial-2', text: 'Ordinary household expenses will be borne by both spouses, in proportion to their respective incomes.' },\n    ];\n    setContractClauses(userClauses);\n    setIsContractSettingsModalOpen(true);\n  }, [user?.contractClauses]);\n\n  const handleAddContractClause = (text: string) => {\n    const newClause: ContractClause = {\n      id: `clause-${Date.now()}-${Math.random().toString(36).substring(2, 7)}`,\n      text,\n    };\n    setContractClauses(prev => [...prev, newClause]);\n    toast({ title: 'Clause Added', description: 'New clause saved to the agreements.' });\n  };\n\n  const handleRemoveClause = (id: string) => {\n    setContractClauses(prev => prev.filter(clause => clause.id !== id));\n    toast({ title: 'Clause Removed', description: 'The clause has been removed from the agreements.' });\n  };\n\n  const handleUpdateContractClause = (id: string, newText: string) => {\n    setContractClauses(prev => prev.map(clause => clause.id === id ? { ...clause, text: newText } : clause));\n    toast({ title: 'Clause Updated', description: 'The clause has been successfully modified.' });\n  };\n\n  const handleOpenAssetModalForUnion = useCallback(() => {\n    setMemberContextForAssetAdd(null);\n    setIsAssetModalOpen(true);\n  }, []);\n\n  const handleOpenAssetModalForMember = useCallback((memberId: string) => {\n    setMemberContextForAssetAdd(memberId);\n    setIsAssetModalOpen(true);\n  }, []);\n\n  const handleOpenAddMemberModal = useCallback(() => {\n    setIsAddMemberModalOpen(true);\n  }, []);\n\n  const handleOpenAssetDetailsModal = useCallback((assetData: ExtendedAssetNodeData) => {\n    setSelectedAssetForDetails(assetData);\n    setIsAssetDetailsModalOpen(true);\n  }, []);\n\n  const handleCloseAssetDetailsModal = useCallback(() => {\n    setIsAssetDetailsModalOpen(false);\n    setSelectedAssetForDetails(null);\n  }, []);\n\n  const handleOpenReleaseDialog = useCallback((assetData: ExtendedAssetNodeData) => {\n    setSelectedAssetForReleaseManagement(assetData);\n    setIsAssetReleaseModalOpen(true);\n  }, []);\n\n  const handleCloseReleaseDialog = useCallback(() => {\n    setIsAssetReleaseModalOpen(false);\n    setSelectedAssetForReleaseManagement(null);\n  }, []);\n\n  const handleSaveAssetReleaseCondition = useCallback(async (assetId: string, targetAge: number | undefined) => {\n    setIsSubmittingRelease(true);\n    await new Promise(resolve => setTimeout(resolve, 500));\n\n    setNodes(prevNodes =>\n      prevNodes.map(node => {\n        if (node.id === assetId && node.type === 'assetNode') {\n          const updatedData = { ...node.data as ExtendedAssetNodeData };\n          if (targetAge !== undefined) {\n            updatedData.releaseCondition = { type: 'age', targetAge };\n          } else {\n            delete updatedData.releaseCondition;\n          }\n          return { ...node, data: updatedData };\n        }\n        return node;\n      })\n    );\n    setIsSubmittingRelease(false);\n    handleCloseReleaseDialog();\n    toast({\n      title: 'Release Condition Updated',\n      description: targetAge ? `Release age set to ${targetAge}.` : 'Release condition removed.',\n    });\n  }, [setNodes, handleCloseReleaseDialog, toast]);\n\n  const handleGenerateNewCertificate = () => {\n    if (!user || contractClauses.length === 0) {\n      toast({\n        title: \"Cannot Generate Certificate\",\n        description: \"Please ensure there are contract agreements defined and you are logged in.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    const newCertificate: GeneratedCertificate = {\n      id: `cert-${Date.now()}`,\n      dateGenerated: new Date(),\n      clausesSnapshot: [...contractClauses], \n      unionName: user.displayName || \"Unnamed Union\",\n    };\n    setGeneratedCertificates(prev => [newCertificate, ...prev]);\n    toast({\n      title: \"Certificate Generated\",\n      description: \"A new certificate has been generated and added to the history.\",\n    });\n  };\n\n  const effectiveUser = user || {\n    uid: 'mock-uid-default',\n    displayName: 'My Union (Mock)',\n    email: 'mock@example.com',\n    relationshipStructure: '',\n    religion: '',\n    isWalletConnected: false,\n    connectedWalletAddress: null,\n    holdingType: '',\n    cnpjHolding: '',\n    contractClauses: [],\n  };\n\n useEffect(() => {\n    const currentUnionNode = nodes.find(node => node.id === UNION_NODE_ID);\n    let unionNodeCreatedThisRun = false;\n\n    if (!currentUnionNode && !authLoading && effectiveUser?.displayName) {\n      const unionNodeData: UnionNodeData = {\n        label: effectiveUser.displayName || 'My Union',\n        onSettingsClick: handleOpenContractSettings,\n        onOpenAssetModal: handleOpenAssetModalForUnion,\n        onAddMember: handleOpenAddMemberModal,\n      };\n      const unionNodeReactFlow: Node<UnionNodeData> = {\n        id: UNION_NODE_ID,\n        type: 'unionNode',\n        position: { x: UNION_NODE_X_POS, y: UNION_NODE_Y_POS },\n        data: unionNodeData,\n        draggable: true,\n        nodeOrigin,\n      };\n      setNodes([unionNodeReactFlow]);\n      setEdges([]); \n      unionNodeCreatedThisRun = true;\n    } else if (currentUnionNode && effectiveUser?.displayName && (currentUnionNode.data as UnionNodeData).label !== effectiveUser.displayName) {\n      setNodes((nds) =>\n        nds.map((node) =>\n          node.id === UNION_NODE_ID\n            ? { ...node, data: { ...(node.data as UnionNodeData), label: effectiveUser.displayName! } }\n            : node\n        )\n      );\n    }\n\n    if (user?.isWalletConnected && (currentUnionNode || unionNodeCreatedThisRun) && !authLoading) {\n        const mockDigitalAssetsConfig: Omit<ExtendedAssetNodeData, 'id' | 'userId' | 'onOpenDetails' | 'onOpenReleaseDialog' | 'assignedToMemberId' | 'releaseCondition' | 'tipoImovelBemFisico' | 'enderecoLocalizacaoFisico' | 'observacoes' | 'transactions'>[] = [\n            { nomeAtivo: 'Bitcoin', tipo: 'digital', quantidadeTotalDigital: 0.5, isAutoLoaded: true },\n            { nomeAtivo: 'Ethereum', tipo: 'digital', quantidadeTotalDigital: 10, isAutoLoaded: true },\n        ];\n\n        const nodesToAddThisRun: Node<ExtendedAssetNodeData>[] = [];\n        const edgesToAddThisRun: Edge[] = [];\n\n        const unionNodeInstance = nodes.find(n => n.id === UNION_NODE_ID);\n        if (unionNodeInstance) {\n            const unionNodeX = unionNodeInstance.position?.x ?? UNION_NODE_X_POS;\n            const unionNodeY = unionNodeInstance.position?.y ?? UNION_NODE_Y_POS;\n\n            const childrenNodes = nodes.filter(n => n.type === 'memberNode' && edges.some(e => e.source === UNION_NODE_ID && e.target === n.id));\n            const unionDigitalAssetsYPos = unionNodeY + (childrenNodes.length > 0 ? CHILDREN_ROW_Y_OFFSET + ASSET_ROW_Y_OFFSET : ASSET_ROW_Y_OFFSET);\n            \n            const mockAssetsToConsider = mockDigitalAssetsConfig.filter(mockAsset => {\n                 const assetId = `mock-asset-${mockAsset.nomeAtivo.toLowerCase().replace(/\\s+/g, '-')}-union`;\n                 return !nodes.some(n => n.id === assetId); // Only consider if not already in main nodes state\n            });\n\n            const totalWidthForMockAssets = (mockAssetsToConsider.length * NODE_WIDTH) + (Math.max(0, mockAssetsToConsider.length - 1) * HORIZONTAL_SPACING);\n            let currentMockX = unionNodeX - (totalWidthForMockAssets / 2) + (NODE_WIDTH / 2);\n\n            mockAssetsToConsider.forEach((mockAsset) => {\n                const assetId = `mock-asset-${mockAsset.nomeAtivo.toLowerCase().replace(/\\s+/g, '-')}-union`;\n                 // This inner check is a safeguard, main filtering done by mockAssetsToConsider\n                if (!nodes.some(n => n.id === assetId) && !nodesToAddThisRun.some(n => n.id === assetId)) {\n                    const assetDataForNode: ExtendedAssetNodeData = {\n                        id: assetId,\n                        userId: effectiveUser.uid,\n                        nomeAtivo: mockAsset.nomeAtivo,\n                        tipo: 'digital',\n                        quantidadeTotalDigital: mockAsset.quantidadeTotalDigital,\n                        transactions: [{ id: `tx-${assetId}-${Date.now()}`, dataAquisicao: new Date(), quantidadeDigital: mockAsset.quantidadeTotalDigital, quemComprou: 'Connected Wallet'}],\n                        isAutoLoaded: mockAsset.isAutoLoaded,\n                        observacoes: `Asset ${mockAsset.nomeAtivo} automatically loaded.`,\n                        onOpenDetails: () => {}, \n                        onOpenReleaseDialog: () => {}, \n                    };\n                    assetDataForNode.onOpenDetails = () => handleOpenAssetDetailsModal(assetDataForNode);\n                    assetDataForNode.onOpenReleaseDialog = (ad) => handleOpenReleaseDialog(ad);\n\n                    nodesToAddThisRun.push({\n                        id: assetId, type: 'assetNode', position: { x: currentMockX, y: unionDigitalAssetsYPos }, draggable: true, nodeOrigin,\n                        data: assetDataForNode\n                    });\n                    edgesToAddThisRun.push({\n                        id: `e-${UNION_NODE_ID}-${assetId}`, source: UNION_NODE_ID, target: assetId, type: 'smoothstep',\n                        markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' },\n                        style: { stroke: 'hsl(var(--primary))', strokeWidth: 1.5 },\n                    });\n                    currentMockX += NODE_WIDTH + HORIZONTAL_SPACING;\n                }\n            });\n        }\n\n        const firstChildNode = allMembers.find(m => m.tipoRelacao === 'filho_a');\n        if (firstChildNode?.id) {\n          const childId = firstChildNode.id;\n          const usdcAssetId = `mock-usdc-child-${childId}`;\n          \n          if (!nodes.some(n => n.id === usdcAssetId) && !nodesToAddThisRun.some(n => n.id === usdcAssetId)) {\n            const usdcAssetData: ExtendedAssetNodeData = {\n              id: usdcAssetId, userId: effectiveUser.uid, nomeAtivo: 'USDC', tipo: 'digital',\n              quantidadeTotalDigital: 5000,\n              transactions: [{ id: `tx-usdc-${childId}`, dataAquisicao: new Date(), quantidadeDigital: 5000, quemComprou: 'Connected Wallet' }],\n              isAutoLoaded: true, assignedToMemberId: childId,\n              releaseCondition: { type: 'age', targetAge: 18 },\n              observacoes: \"USDC Reserve for the child.\",\n              onOpenDetails: () => {}, onOpenReleaseDialog: () => {},\n            };\n            usdcAssetData.onOpenDetails = () => handleOpenAssetDetailsModal(usdcAssetData);\n            usdcAssetData.onOpenReleaseDialog = (ad) => handleOpenReleaseDialog(ad);\n\n            const childNodeInstance = nodes.find(n => n.id === childId);\n            if (childNodeInstance) {\n                const childNodeX = childNodeInstance.position?.x ?? 0;\n                const childNodeY = childNodeInstance.position?.y ?? 0;\n                \n                // Assuming USDC is the only mock asset for this child for now.\n                // If more were added, a row logic similar to union assets would be needed.\n                const childAssetsYPos = childNodeY + ASSET_ROW_Y_OFFSET;\n                const childAssetXPos = childNodeX; // Centered under child\n\n                nodesToAddThisRun.push({\n                    id: usdcAssetId, type: 'assetNode', position: { x: childAssetXPos, y: childAssetsYPos }, draggable: true, nodeOrigin,\n                    data: usdcAssetData\n                });\n                edgesToAddThisRun.push({\n                    id: `e-${childId}-${usdcAssetId}`, source: childId, target: usdcAssetId, type: 'smoothstep',\n                    markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' },\n                    style: { stroke: 'hsl(var(--primary))', strokeWidth: 1.5 },\n                });\n            }\n          }\n        }\n\n        if (nodesToAddThisRun.length > 0) {\n             setNodes(prevNodes => {\n                const currentIds = new Set(prevNodes.map(n => n.id));\n                const uniqueNewNodes = nodesToAddThisRun.filter(newNode => !currentIds.has(newNode.id));\n                return [...prevNodes, ...uniqueNewNodes];\n            });\n        }\n        if (edgesToAddThisRun.length > 0) {\n            setEdges(prevEdges => {\n                const currentEdgeIds = new Set(prevEdges.map(e => e.id));\n                const uniqueNewEdges = edgesToAddThisRun.filter(newEdge => !currentEdgeIds.has(newEdge.id));\n                return [...prevEdges, ...uniqueNewEdges];\n            });\n        }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [authLoading, user?.isWalletConnected, user?.uid, effectiveUser.displayName, allMembers, initialNodes.length, nodes, edges, setNodes, setEdges]);\n\n\n  const memberHasBirthDate = (memberId?: string): boolean => {\n    if (!memberId) return false;\n    const member = allMembers.find(m => m.id === memberId);\n    return !!member?.dataNascimento;\n  };\n\n  const handleAddAssetSubmit = async (formData: AssetFormData) => {\n    if (!effectiveUser) {\n        toast({ title: 'Error!', description: 'User not authenticated.', variant: 'destructive' });\n        return;\n    }\n    setIsSubmittingAsset(true);\n    \n    const result = await addAsset(formData, effectiveUser.uid);\n    \n    const targetEntityId = memberContextForAssetAdd || (formData.assignedToMemberId === \"UNASSIGNED\" || !formData.assignedToMemberId ? UNION_NODE_ID : formData.assignedToMemberId);\n    \n    if (result.success && result.assetId && result.transactionId) {\n        const newTransaction: AssetTransaction = {\n            id: result.transactionId,\n            dataAquisicao: formData.dataAquisicao,\n            quemComprou: formData.quemComprou === \"UNSPECIFIED_BUYER\" || !formData.quemComprou ? \"Main Entity\" : formData.quemComprou,\n            contribuicaoParceiro1: formData.contribuicaoParceiro1,\n            contribuicaoParceiro2: formData.contribuicaoParceiro2,\n            observacoes: formData.observacoes,\n            tipoImovelBemFisico: formData.tipoImovelBemFisico, \n            enderecoLocalizacaoFisico: formData.enderecoLocalizacaoFisico, \n        };\n        \n        // This form is only for physical assets now, so no consolidation logic needed.\n        const processedAssignedToMemberId = memberContextForAssetAdd || (formData.assignedToMemberId === \"UNASSIGNED\" ? undefined : formData.assignedToMemberId);\n        const actualSourceNodeId = processedAssignedToMemberId || UNION_NODE_ID;\n        const sourceNodeInstance = nodes.find(n => n.id === actualSourceNodeId);\n\n        if (!sourceNodeInstance) {\n            console.error(\"Source node (Union or Member) not found for physical asset:\", actualSourceNodeId);\n            setIsSubmittingAsset(false);\n            setMemberContextForAssetAdd(null);\n            return;\n        }\n\n        let nodeDataPayload: ExtendedAssetNodeData = {\n            id: result.assetId,\n            userId: effectiveUser.uid,\n            nomeAtivo: formData.nomeAtivo,\n            tipo: 'fisico', // Hardcoded as this form is for physical assets\n            transactions: [newTransaction],\n            observacoes: formData.observacoes, \n            assignedToMemberId: processedAssignedToMemberId,\n            releaseCondition: formData.setReleaseCondition && formData.releaseTargetAge && memberHasBirthDate(processedAssignedToMemberId) ? { type: 'age', targetAge: formData.releaseTargetAge } : undefined,\n            isAutoLoaded: false,\n            tipoImovelBemFisico: formData.tipoImovelBemFisico,\n            enderecoLocalizacaoFisico: formData.enderecoLocalizacaoFisico,\n            onOpenDetails: () => {},\n            onOpenReleaseDialog: () => {},\n        };\n        nodeDataPayload.onOpenDetails = () => handleOpenAssetDetailsModal(nodeDataPayload);\n        nodeDataPayload.onOpenReleaseDialog = (ad) => handleOpenReleaseDialog(ad);\n\n        const sourceNodeX = sourceNodeInstance.position?.x ?? UNION_NODE_X_POS;\n        const sourceNodeY = sourceNodeInstance.position?.y ?? UNION_NODE_Y_POS;\n        let xPos: number;\n        let yPos: number;\n\n        const assetsLinkedToSource = nodes.filter(n => n.type === 'assetNode' && edges.some(e => e.source === actualSourceNodeId && e.target === n.id && (n.data as ExtendedAssetNodeData).tipo === 'fisico'));\n        const assetNodesLinkedToSourceCount = assetsLinkedToSource.length;\n\n        if (actualSourceNodeId === UNION_NODE_ID) {\n            const childrenNodes = nodes.filter(n => n.type === 'memberNode' && edges.some(e => e.source === UNION_NODE_ID && e.target === n.id));\n            yPos = sourceNodeY + (childrenNodes.length > 0 ? CHILDREN_ROW_Y_OFFSET + ASSET_ROW_Y_OFFSET : ASSET_ROW_Y_OFFSET);\n            // Calculate X position for a horizontal row of physical assets under the union\n            const totalWidthForRow = ((assetNodesLinkedToSourceCount + 1) * NODE_WIDTH) + (assetNodesLinkedToSourceCount * HORIZONTAL_SPACING);\n            const startX = sourceNodeX - (totalWidthForRow / 2) + (NODE_WIDTH / 2);\n            xPos = startX + (assetNodesLinkedToSourceCount * (NODE_WIDTH + HORIZONTAL_SPACING));\n        } else { // Asset linked to a child/member\n            yPos = sourceNodeY + ASSET_ROW_Y_OFFSET;\n            const totalWidthForRow = ((assetNodesLinkedToSourceCount + 1) * NODE_WIDTH) + (assetNodesLinkedToSourceCount * HORIZONTAL_SPACING);\n            const startX = sourceNodeX - (totalWidthForRow / 2) + (NODE_WIDTH / 2);\n            xPos = startX + (assetNodesLinkedToSourceCount * (NODE_WIDTH + HORIZONTAL_SPACING));\n        }\n\n\n        const newAssetNodeReactFlow: Node<ExtendedAssetNodeData> = {\n            id: result.assetId, type: 'assetNode', data: nodeDataPayload,\n            position: { x: xPos, y: yPos },\n            draggable: true, nodeOrigin,\n        };\n\n        setNodes((prevNodes) => prevNodes.concat(newAssetNodeReactFlow));\n        setEdges((prevEdges) => prevEdges.concat({\n            id: `e-${actualSourceNodeId}-${result.assetId!}`, source: actualSourceNodeId, target: result.assetId!,\n            type: 'smoothstep', markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' },\n            style: { stroke: 'hsl(var(--primary))', strokeWidth: 1.5 },\n        }));\n        toast({ title: 'Success!', description: `Asset ${formData.nomeAtivo} added successfully.` });\n        \n    } else {\n        toast({ title: 'Error!', description: result.error || 'Could not add asset.', variant: 'destructive' });\n    }\n    \n    setIsAssetModalOpen(false);\n    setMemberContextForAssetAdd(null);\n    setIsSubmittingAsset(false);\n  };\n\n\n  const handleAddMemberSubmit = async (data: MemberFormData) => {\n    if (!effectiveUser) {\n      toast({ title: 'Error!', description: 'User not authenticated.', variant: 'destructive' });\n      return;\n    }\n    setIsSubmittingMember(true);\n    const result = await addMember(data, UNION_NODE_ID); // Assume unionId is UNION_NODE_ID for new members\n    if (result.success && result.memberId) {\n      toast({ title: 'Success!', description: 'Child added successfully.' });\n\n       const newMemberData: MemberWithBirthDateAndWallet = {\n        id: result.memberId,\n        unionId: UNION_NODE_ID,\n        nome: data.nome,\n        tipoRelacao: data.tipoRelacao, \n        dataNascimento: data.dataNascimento,\n        walletAddress: data.walletAddress,\n      };\n      setAllMembers(prev => [...prev, newMemberData]);\n\n      const unionNodeInstance = nodes.find(n => n.id === UNION_NODE_ID);\n      if (!unionNodeInstance) {\n        setIsSubmittingMember(false);\n        return;\n      }\n\n      const unionNodeX = unionNodeInstance.position?.x ?? UNION_NODE_X_POS;\n      const unionNodeY = unionNodeInstance.position?.y ?? UNION_NODE_Y_POS;\n      \n      const yPos = unionNodeY + CHILDREN_ROW_Y_OFFSET;\n      const memberNodesCurrent = nodes.filter(n => n.type === 'memberNode' && edges.some(e => e.source === UNION_NODE_ID && e.target === n.id));\n      const memberNodesCount = memberNodesCurrent.length;\n\n      const totalWidthForRow = ((memberNodesCount + 1) * NODE_WIDTH) + (memberNodesCount * HORIZONTAL_SPACING);\n      const startX = unionNodeX - (totalWidthForRow / 2) + (NODE_WIDTH / 2);\n      const xPos = startX + (memberNodesCount * (NODE_WIDTH + HORIZONTAL_SPACING));\n\n      const nodeDataPayload: ExtendedMemberNodeData = {\n        id: result.memberId,\n        name: data.nome,\n        relationshipType: data.tipoRelacao,\n        onAddAssetClick: (memberId) => handleOpenAssetModalForMember(memberId),\n        walletAddress: data.walletAddress,\n      };\n\n      const newMemberNodeReactFlow: Node<ExtendedMemberNodeData> = {\n        id: result.memberId,\n        type: 'memberNode',\n        data: nodeDataPayload,\n        position: { x: xPos, y: yPos },\n        draggable: true,\n        nodeOrigin,\n      };\n      setNodes((prevNodes) => prevNodes.concat(newMemberNodeReactFlow));\n\n      const newEdge: Edge = {\n        id: `e-${UNION_NODE_ID}-${result.memberId}`,\n        source: UNION_NODE_ID,\n        target: result.memberId,\n        type: 'smoothstep',\n        markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--accent))' },\n        style: { stroke: 'hsl(var(--accent))', strokeWidth: 1.5 },\n      };\n      setEdges((prevEdges) => prevEdges.concat(newEdge));\n\n      setIsAddMemberModalOpen(false);\n    } else {\n      toast({ title: 'Error!', description: result.error || 'Could not add child.', variant: 'destructive' });\n    }\n    setIsSubmittingMember(false);\n  };\n\n  const availableMembersForAssetForm = useMemo(() => allMembers.map(member => ({\n      id: member.id!,\n      name: member.nome,\n      birthDate: member.dataNascimento,\n    })), [allMembers]);\n\n  const selectedMemberForReleaseDialog = useMemo(() => {\n    if (selectedAssetForReleaseManagement?.assignedToMemberId) {\n      return allMembers.find(m => m.id === selectedAssetForReleaseManagement.assignedToMemberId) || null;\n    }\n    return null;\n  }, [selectedAssetForReleaseManagement, allMembers]);\n\n\n  if (authLoading && !nodes.find(n => n.id === UNION_NODE_ID)) {\n    return (\n      <div className=\"flex min-h-[calc(100vh-var(--header-height,60px)-2rem)] items-center justify-center\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  const getMemberNameById = (memberId?: string) => {\n    if (!memberId || memberId === \"Main Entity\" || memberId === \"Connected Wallet\") return 'Main Union (Ipê Acta)';\n    const member = allMembers.find(m => m.id === memberId);\n    return member ? member.nome : 'Unknown Member';\n  };\n\n  const generateHoldingReportText = () => {\n    let report = \"Holding Report\\n\";\n    report += \"Generated on: \" + format(new Date(), \"MM/dd/yyyy HH:mm\", { locale: enUS }) + \"\\n\\n\";\n    report += `Union: ${effectiveUser.displayName || 'N/A'}\\n`;\n    report += \"--------------------------------------\\n\\n\";\n\n    const unionAssets = nodes.filter(node => node.type === 'assetNode' && edges.some(edge => edge.source === UNION_NODE_ID && edge.target === node.id));\n    if (unionAssets.length > 0) {\n      report += \"Assets Directly Under Union:\\n\";\n      unionAssets.forEach(assetNode => {\n        const asset = assetNode.data as ExtendedAssetNodeData;\n        report += `- ${asset.nomeAtivo} (${asset.tipo})\\n`;\n        if (asset.tipo === 'digital' && asset.quantidadeTotalDigital) {\n          report += `  Quantity: ${asset.quantidadeTotalDigital.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 })}\\n`;\n        }\n        if (asset.tipo === 'fisico' && asset.tipoImovelBemFisico) {\n          report += `  Type: ${asset.tipoImovelBemFisico}\\n`;\n        }\n        if (asset.observacoes) {\n          report += `  Notes: ${asset.observacoes}\\n`;\n        }\n        report += \"\\n\";\n      });\n    } else {\n      report += \"No assets directly under the main union.\\n\\n\";\n    }\n\n    const children = nodes.filter(node => node.type === 'memberNode' && edges.some(edge => edge.source === UNION_NODE_ID && edge.target === node.id));\n    if (children.length > 0) {\n      report += \"Members (Children):\\n\";\n      children.forEach(childNode => {\n        const child = childNode.data as ExtendedMemberNodeData;\n        report += `\\nMember: ${child.name}\\n`;\n        if (child.walletAddress) {\n          report += `  Wallet: ${child.walletAddress}\\n`;\n        }\n        const childAssets = nodes.filter(assetN => assetN.type === 'assetNode' && edges.some(edge => edge.source === childNode.id && edge.target === assetN.id));\n        if (childAssets.length > 0) {\n          report += \"  Assigned Assets:\\n\";\n          childAssets.forEach(assetNode => {\n            const asset = assetNode.data as ExtendedAssetNodeData;\n            report += `  - ${asset.nomeAtivo} (${asset.tipo})\\n`;\n            if (asset.tipo === 'digital' && asset.quantidadeTotalDigital) {\n              report += `    Quantity: ${asset.quantidadeTotalDigital.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 })}\\n`;\n            }\n            if (asset.tipo === 'fisico' && asset.tipoImovelBemFisico) {\n              report += `    Type: ${asset.tipoImovelBemFisico}\\n`;\n            }\n            if (asset.releaseCondition?.type === 'age') {\n              report += `    Releases at: ${asset.releaseCondition.targetAge} years old\\n`;\n            }\n            if (asset.observacoes) {\n              report += `    Notes: ${asset.observacoes}\\n`;\n            }\n          });\n        } else {\n          report += \"  No assets assigned to this member.\\n\";\n        }\n      });\n    } else {\n      report += \"No members (children) added to the union.\\n\";\n    }\n    return report;\n  };\n\n\n  return (\n    <div className=\"flex flex-col h-[calc(100vh-var(--header-height,60px)-1rem)] py-2\">\n      <Dialog open={isAssetModalOpen} onOpenChange={(isOpen) => {\n        setIsAssetModalOpen(isOpen);\n        if (!isOpen) {\n            setMemberContextForAssetAdd(null);\n        }\n      }}>\n        <DialogContent className=\"sm:max-w-[600px] max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Add New Physical Asset</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">Fill in the details of your physical asset.</DialogDescription>\n          </DialogHeader>\n          <AssetForm\n            onSubmit={handleAddAssetSubmit}\n            isLoading={isSubmittingAsset}\n            onClose={() => {\n                setIsAssetModalOpen(false);\n                setMemberContextForAssetAdd(null);\n            }}\n            availableMembers={availableMembersForAssetForm}\n            targetMemberId={memberContextForAssetAdd}\n            user={user}\n          />\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isAddMemberModalOpen} onOpenChange={setIsAddMemberModalOpen}>\n        <DialogContent className=\"sm:max-w-[500px] max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Add New Child</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">Enter the details of the new child in your union.</DialogDescription>\n          </DialogHeader>\n          <AddMemberForm onSubmit={handleAddMemberSubmit} isLoading={isSubmittingMember} onClose={() => setIsAddMemberModalOpen(false)} />\n        </DialogContent>\n      </Dialog>\n\n       <Dialog open={isAssetDetailsModalOpen} onOpenChange={handleCloseAssetDetailsModal}>\n        <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Asset Details: {selectedAssetForDetails?.nomeAtivo}</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">\n              Information about the asset and acquisition history.\n            </DialogDescription>\n          </DialogHeader>\n          {selectedAssetForDetails && (\n            <div className=\"space-y-4 py-4 text-sm\">\n              <div>\n                <Label className=\"text-xs font-medium text-muted-foreground\">Asset Name</Label>\n                <p className=\"font-semibold text-foreground\">{selectedAssetForDetails.nomeAtivo}</p>\n              </div>\n              <div>\n                <Label className=\"text-xs font-medium text-muted-foreground\">Main Type</Label>\n                <p className=\"text-foreground capitalize\">{selectedAssetForDetails.tipo}</p>\n              </div>\n\n              {selectedAssetForDetails.tipo === 'digital' && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">Total Quantity</Label>\n                  <p className=\"text-foreground\">{(selectedAssetForDetails as ExtendedAssetNodeData).quantidadeTotalDigital?.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 }) || 'N/A'}</p>\n                </div>\n              )}\n              {selectedAssetForDetails.tipo === 'fisico' && (\n                <>\n                  <div>\n                    <Label className=\"text-xs font-medium text-muted-foreground\">Type of Physical Good</Label>\n                    <p className=\"text-foreground\">{(selectedAssetForDetails as ExtendedAssetNodeData).tipoImovelBemFisico || 'Not specified'}</p>\n                  </div>\n                  {(selectedAssetForDetails as ExtendedAssetNodeData).enderecoLocalizacaoFisico && (\n                    <div>\n                        <Label className=\"text-xs font-medium text-muted-foreground\">Address/Location</Label>\n                        <p className=\"text-foreground\">{(selectedAssetForDetails as ExtendedAssetNodeData).enderecoLocalizacaoFisico}</p>\n                    </div>\n                  )}\n                </>\n              )}\n\n              {selectedAssetForDetails.assignedToMemberId && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">Assigned to</Label>\n                  <p className=\"text-foreground\">{getMemberNameById(selectedAssetForDetails.assignedToMemberId)}</p>\n                </div>\n              )}\n              {selectedAssetForDetails.releaseCondition?.type === 'age' && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">Release Condition</Label>\n                  <p className=\"text-foreground\">Release at {selectedAssetForDetails.releaseCondition.targetAge} years old</p>\n                </div>\n              )}\n              {selectedAssetForDetails.observacoes && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">General Asset Notes</Label>\n                  <p className=\"text-foreground whitespace-pre-wrap\">{selectedAssetForDetails.observacoes}</p>\n                </div>\n              )}\n              {selectedAssetForDetails.isAutoLoaded && (\n                 <div className=\"flex items-center space-x-1 text-xs text-accent pt-1\">\n                    <LayoutGrid size={14} />\n                    <span>Wallet Information</span>\n                </div>\n              )}\n\n              <div className=\"space-y-3 pt-3 mt-3 border-t border-border/50\">\n                <h4 className=\"text-md font-semibold text-primary\">Acquisition/Transaction History</h4>\n                 {selectedAssetForDetails.transactions && selectedAssetForDetails.transactions.length > 0 ? (\n                  <ScrollArea className=\"max-h-60 pr-2\">\n                    <div className=\"space-y-4\">\n                      {selectedAssetForDetails.transactions.map((tx, index) => (\n                        <Card key={tx.id || index} className=\"p-3 bg-muted/50 border-border/30\">\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2\">\n                            <div>\n                              <Label className=\"text-xs font-medium text-muted-foreground\">Acquisition Date</Label>\n                              <p className=\"text-foreground\">{format(new Date(tx.dataAquisicao), \"MM/dd/yyyy 'at' HH:mm\", { locale: enUS })}</p>\n                            </div>\n                            {tx.quantidadeDigital !== undefined && selectedAssetForDetails.tipo === 'digital' && (\n                              <div>\n                                <Label className=\"text-xs font-medium text-muted-foreground\">Quantity Acquired</Label>\n                                <p className=\"text-foreground\">{tx.quantidadeDigital.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 })}</p>\n                              </div>\n                            )}\n                            {tx.valorPagoEpoca !== undefined && (\n                              <div>\n                                <Label className=\"text-xs font-medium text-muted-foreground\">Value Paid at the Time</Label>\n                                <p className=\"text-foreground\">{typeof tx.valorPagoEpoca === 'number' ? tx.valorPagoEpoca.toLocaleString(undefined, { style: 'currency', currency: 'USD' }) : tx.valorPagoEpoca}</p>\n                              </div>\n                            )}\n                             {tx.quemComprou && (\n                              <div>\n                                <Label className=\"text-xs font-medium text-muted-foreground\">Acquired by</Label>\n                                <p className=\"text-foreground\">{tx.quemComprou === \"Main Entity\" ? \"Main Union (Ipê Acta)\" : tx.quemComprou === \"Connected Wallet\" ? \"Connected Wallet (Simulated)\" : getMemberNameById(tx.quemComprou)}</p>\n                              </div>\n                            )}\n                            {tx.quemComprou === 'Ambos' && effectiveUser?.displayName && (\n                              <>\n                                {tx.contribuicaoParceiro1 !== undefined && (\n                                  <div>\n                                    <Label className=\"text-xs font-medium text-muted-foreground\">Contrib. ({effectiveUser.displayName.split('&')[0]?.trim() || 'Partner 1'})</Label>\n                                    <p className=\"text-foreground\">{tx.contribuicaoParceiro1.toLocaleString(undefined, { style: 'currency', currency: 'USD' })}</p>\n                                  </div>\n                                )}\n                                {tx.contribuicaoParceiro2 !== undefined && (\n                                  <div>\n                                    <Label className=\"text-xs font-medium text-muted-foreground\">Contrib. ({effectiveUser.displayName.split('&')[1]?.trim() || 'Partner 2'})</Label>\n                                    <p className=\"text-foreground\">{tx.contribuicaoParceiro2.toLocaleString(undefined, { style: 'currency', currency: 'USD' })}</p>\n                                  </div>\n                                )}\n                              </>\n                            )}\n                          </div>\n                          {tx.observacoes && (\n                            <div className=\"mt-2 pt-2 border-t border-dashed border-border/30\">\n                              <Label className=\"text-xs font-medium text-muted-foreground\">Transaction Notes</Label>\n                              <p className=\"text-foreground whitespace-pre-wrap text-xs\">{tx.observacoes}</p>\n                            </div>\n                          )}\n                        </Card>\n                      ))}\n                    </div>\n                  </ScrollArea>\n                ) : (\n                  <p className=\"text-muted-foreground\">No transactions recorded for this asset.</p>\n                )}\n                 {selectedAssetForDetails.tipo === 'digital' && selectedAssetForDetails.transactions && selectedAssetForDetails.transactions.length > 1 &&(\n                   <CardDescription className=\"text-xs text-muted-foreground mt-2\">\n                    Note: The \"Total Quantity\" of the asset reflects the sum of all transactions. General notes and assignment refer to the asset as a whole. Refer to the history for details of each acquisition.\n                  </CardDescription>\n                )}\n              </div>\n\n              <div className=\"pt-4\">\n                <Button onClick={handleCloseAssetDetailsModal} className=\"w-full\" variant=\"outline\">Close</Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      <AssetReleaseDialog\n        isOpen={isAssetReleaseModalOpen}\n        onClose={handleCloseReleaseDialog}\n        asset={selectedAssetForReleaseManagement}\n        assignedMember={selectedMemberForReleaseDialog}\n        onSaveReleaseCondition={handleSaveAssetReleaseCondition}\n        isLoading={isSubmittingRelease}\n      />\n\n      <ContractSettingsDialog\n        isOpen={isContractSettingsModalOpen}\n        onClose={() => setIsContractSettingsModalOpen(false)}\n        clauses={contractClauses}\n        onAddClause={handleAddContractClause}\n        onRemoveClause={handleRemoveClause}\n        onUpdateClause={handleUpdateContractClause}\n        dialogTitle=\"Contract Agreement Settings\"\n        dialogDescription=\"Add, view, edit, and manage the clauses of your agreements. Remember that Ipê Acta is a planning tool and does not replace legal advice.\"\n      />\n\n      <Dialog open={isCertificateModalOpen} onOpenChange={setIsCertificateModalOpen}>\n        <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Marriage Certificate</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">\n              Review current agreements or generate a new certificate.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-6 py-4\">\n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              <Button\n                variant=\"outline\"\n                className=\"flex-1 text-foreground/90 border-border hover:bg-muted/80\"\n                onClick={() => {\n                  setIsCertificateModalOpen(false);\n                  handleOpenContractSettings();\n                }}\n              >\n                <Settings className=\"mr-2 h-5 w-5\" />\n                Make Final Changes to Agreements\n              </Button>\n              <Button\n                className=\"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground\"\n                onClick={handleGenerateNewCertificate}\n              >\n                <FileText className=\"mr-2 h-5 w-5\" />\n                Generate New Certificate\n              </Button>\n            </div>\n            <Separator />\n            <div>\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">History of Generated Certificates:</h3>\n              {generatedCertificates.length > 0 ? (\n                <ScrollArea className=\"h-60 border rounded-md p-3 bg-muted/30\">\n                  <ul className=\"space-y-3\">\n                    {generatedCertificates.map((cert) => (\n                      <li key={cert.id} className=\"p-3 bg-background/50 rounded-md text-sm text-foreground border border-border/30\">\n                        <p className=\"font-semibold\">Certificate - {cert.unionName}</p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          Generated on: {format(cert.dateGenerated, \"MM/dd/yyyy 'at' HH:mm\", { locale: enUS })}\n                        </p>\n                        <details className=\"mt-1 text-xs\">\n                          <summary className=\"cursor-pointer text-primary/80 hover:text-primary\">View Clauses ({cert.clausesSnapshot.length})</summary>\n                          <ul className=\"list-disc pl-5 mt-1 space-y-1\">\n                            {cert.clausesSnapshot.map(clause => (\n                              <li key={clause.id}>{clause.text}</li>\n                            ))}\n                          </ul>\n                        </details>\n                      </li>\n                    ))}\n                  </ul>\n                </ScrollArea>\n              ) : (\n                <p className=\"text-sm text-muted-foreground\">No certificates generated yet.</p>\n              )}\n            </div>\n          </div>\n          <DialogFooter>\n            <DialogClose asChild>\n              <Button type=\"button\" variant=\"outline\">Close</Button>\n            </DialogClose>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isHoldingReportModalOpen} onOpenChange={setIsHoldingReportModalOpen}>\n        <DialogContent className=\"sm:max-w-3xl max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Holding Report Summary</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">\n              Textual summary of your holding structure.\n            </DialogDescription>\n          </DialogHeader>\n          <ScrollArea className=\"h-[60vh] p-1\">\n            <pre className=\"text-sm text-foreground whitespace-pre-wrap bg-muted/30 p-4 rounded-md\">\n              {generateHoldingReportText()}\n            </pre>\n          </ScrollArea>\n          <div className=\"text-center text-xs text-muted-foreground mt-2\">\n            PDF Generation can be implemented here.\n          </div>\n          <DialogFooter>\n            <DialogClose asChild>\n              <Button type=\"button\" variant=\"outline\">Close</Button>\n            </DialogClose>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n\n      <div className=\"flex-grow shadow-lg relative overflow-hidden rounded-md border-2 border-dashed border-border bg-background\">\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          nodeTypes={nodeTypes}\n          fitView\n          fitViewOptions={{ padding: 0.2, duration: 800 }}\n          attributionPosition=\"bottom-left\"\n          proOptions={{ hideAttribution: true }}\n          nodeOrigin={nodeOrigin}\n          defaultViewport={{ x: 0, y: 0, zoom: 0.8 }}\n        >\n          <Controls showFitView={false} showInteractive={false} />\n          <Background gap={16} color=\"hsl(var(--border))\" />\n        </ReactFlow>\n      </div>\n      <div className=\"mt-6 flex justify-center gap-4\">\n        <Button\n            variant=\"outline\"\n            onClick={() => setIsCertificateModalOpen(true)}\n            className=\"border-primary text-primary hover:bg-primary/10 hover:text-primary\"\n        >\n            <FileText className=\"mr-2 h-5 w-5\" />\n            Generate Marriage Certificate\n        </Button>\n        <Button\n            variant=\"outline\"\n            onClick={() => setIsHoldingReportModalOpen(true)}\n            className=\"border-accent text-accent hover:bg-accent/10 hover:text-accent\"\n        >\n            <Briefcase className=\"mr-2 h-5 w-5\" />\n            Holding Report\n        </Button>\n      </div>\n    </div>\n  );\n}\n\ndeclare module 'reactflow' {\n  interface NodeData {\n    id?: string;\n    label?: string;\n    onSettingsClick?: () => void;\n    onOpenAssetModal?: () => void;\n    onAddMember?: () => void;\n    // For MemberNode\n    name?: string;\n    relationshipType?: string;\n    onAddAssetClick?: (memberId: string) => void;\n    walletAddress?: string;\n    // For AssetNode\n    userId?: string;\n    nomeAtivo?: string;\n    tipo?: 'digital' | 'fisico';\n    quantidadeTotalDigital?: number;\n    tipoImovelBemFisico?: string;\n    enderecoLocalizacaoFisico?: string;\n    transactions?: AssetTransaction[];\n    assignedToMemberId?: string;\n    releaseCondition?: { type: 'age'; targetAge: number };\n    observacoes?: string; \n    isAutoLoaded?: boolean;\n    onOpenDetails?: () => void;\n    onOpenReleaseDialog?: (assetData: ExtendedAssetNodeData) => void;\n  }\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}