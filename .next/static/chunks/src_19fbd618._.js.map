{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,uKAAA,CAAA,YAA2B;YAC1B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE;sBAEd,cAAA,6LAAC,uMAAA,CAAA,QAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,uKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n"],"names":[],"mappings":";;;;AAGA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;AAWA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,6LAAC,iKAAA,CAAA,YAAS;QACR,iBAAiB;QACjB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,OAAO;QACrB,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,KAAK;YACL,YAAY,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACX,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM;YACN,KAAK,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACJ,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAQ,IAClC;YAEF,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAChC,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;YAE7D,WAAW,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBACjC,6LAAC,yNAAA,CAAA,eAAY;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;QAEhE;QACC,GAAG,KAAK;;;;;;AAGf;KAvDS;AAwDT,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 586, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 634, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/assets/AssetForm.tsx"],"sourcesContent":["\n\"use client\";\nimport { useState, useEffect, useMemo } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { CalendarIcon, Loader2, Save, ArrowLeft, ArrowRight, UserCheck, Clock, RefreshCw, Building, WalletCards, Coins } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { format, isValid, parseISO } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\nimport type { AssetFormData } from '@/types/asset';\nimport type { AuthContextType, User } from '@/components/auth-provider'; // Import User type\nimport Image from 'next/image';\nimport { CardDescription } from '../ui/card';\n\nconst BitcoinIconSvg = () => <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"inline mr-2\"><circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#F7931A\"/><path d=\"M10.05 16.64H12.32C14.66 16.64 16.31 15.32 16.31 12.91C16.31 10.5 14.66 9.17999 12.32 9.17999H10.05V7.35999H12.4C15.43 7.35999 17.5 8.95999 17.5 11.82C17.5 13.48 16.73 14.91 15.38 15.79V15.83C17.06 16.57 18 17.97 18 19.76C18 22.79 15.67 24.48 12.54 24.48H8V7.35999H10.05V16.64ZM10.05 11.6H12.22C13.6 11.6 14.51 12.31 14.51 13.59C14.51 14.87 13.6 15.58 12.22 15.58H10.05V11.6ZM10.05 17.68H12.4C13.98 17.68 15.03 18.46 15.03 19.79C15.03 21.12 13.98 21.9 12.4 21.9H10.05V17.68Z\" fill=\"white\" transform=\"scale(0.75) translate(2, -4)\"/></svg>;\nconst EthereumIconSvg = () => <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"inline mr-2\"><path d=\"M12.023 2.68701L11.531 3.32701V11.56L12.023 11.829L12.516 11.56V3.32701L12.023 2.68701Z\" fill=\"#627EEA\"/><path d=\"M12.023 2.68701L6.78101 9.40401L12.023 11.829V2.68701Z\" fill=\"#8AA1F2\"/><path d=\"M12.023 2.68701L17.265 9.40401L12.023 11.829V2.68701Z\" fill=\"#627EEA\"/><path d=\"M12.023 12.76L11.555 12.981V16.844L12.023 17.13L12.492 16.844V12.981L12.023 12.76Z\" fill=\"#627EEA\"/><path d=\"M12.023 17.13V12.76L6.78101 10.352L12.023 17.13Z\" fill=\"#8AA1F2\"/><path d=\"M12.023 17.13V12.76L17.265 10.352L12.023 17.13Z\" fill=\"#627EEA\"/><path d=\"M12.023 11.829L17.265 9.40401L12.023 6.99701L6.78101 9.40401L12.023 11.829Z\" fill=\"#45578E\"/></svg>;\nconst SolanaIconSvg = () => <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"inline mr-2\"><defs><linearGradient id=\"solanaFormGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"><stop offset=\"0%\" style={{stopColor:\"#9945FF\"}}/><stop offset=\"100%\" style={{stopColor:\"#14F195\"}}/></linearGradient></defs><circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"url(#solanaFormGradient)\"/><path d=\"M8.06006 6.5L6.5 8.06006L10.44 12L6.5 15.94L8.06006 17.5L12 13.56L15.94 17.5L17.5 15.94L13.56 12L17.5 8.06006L15.94 6.5L12 10.44L8.06006 6.5Z\" fill=\"black\" transform=\"scale(0.8) translate(3,3)\"/></svg>;\n\n\nconst createAssetFormSchema = (memberHasBirthDateContext?: boolean) => {\n  return z.object({\n    nomeAtivo: z.string().min(1, 'O nome do ativo é obrigatório.'),\n    dataAquisicao: z.date({ required_error: \"A data de aquisição é obrigatória.\" }),\n    observacoes: z.string().optional(),\n    quemComprou: z.string().optional(),\n    contribuicaoParceiro1: z.preprocess(\n      (val) => String(val) === '' || val === undefined ? undefined : parseFloat(String(val).replace(',', '.')),\n      z.number().min(0, 'A contribuição deve ser um valor positivo.').optional()\n    ),\n    contribuicaoParceiro2: z.preprocess(\n      (val) => String(val) === '' || val === undefined ? undefined : parseFloat(String(val).replace(',', '.')),\n      z.number().min(0, 'A contribuição deve ser um valor positivo.').optional()\n    ),\n    tipoImovelBemFisico: z.string().min(1, \"O tipo do bem físico é obrigatório.\"),\n    enderecoLocalizacaoFisico: z.string().optional(),\n    documentacaoFisicoFile: z.any().optional(),\n\n    assignedToMemberId: z.string().optional().nullable(),\n    setReleaseCondition: z.boolean().optional(),\n    releaseTargetAge: z.preprocess(\n      (val) => String(val) === '' || val === undefined ? undefined : parseInt(String(val), 10),\n      z.number().min(1, \"A idade deve ser positiva.\").max(120, \"Idade irreal.\").optional()\n    ),\n  }).superRefine((data, ctx) => {\n    if (data.setReleaseCondition && memberHasBirthDateContext && (data.releaseTargetAge === undefined || data.releaseTargetAge === null)) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'A idade de liberação é obrigatória se a condição estiver marcada e o membro tiver data de nascimento.',\n        path: ['releaseTargetAge']\n      });\n    }\n  });\n};\n\ninterface AssetFormProps {\n  onSubmit: (data: AssetFormData) => Promise<void>;\n  isLoading: boolean;\n  onClose: () => void;\n  availableMembers: { id: string; name: string; birthDate?: Date | string }[];\n  targetMemberId?: string | null;\n  user: User | null;\n  existingAssetToUpdate?: { nomeAtivo: string; tipo: 'digital' | 'fisico' } | null;\n}\n\nconst TOTAL_STEPS_PHYSICAL = 3;\n\nexport function AssetForm({\n  onSubmit,\n  isLoading: isSubmittingForm,\n  onClose,\n  availableMembers = [],\n  targetMemberId,\n  user,\n  existingAssetToUpdate = null,\n}: AssetFormProps) {\n  const [currentStep, setCurrentStep] = useState(1);\n  const [formError, setFormError] = useState<string | null>(null);\n  const [partnerNames, setPartnerNames] = useState<string[]>([]);\n  const [partnerLabels, setPartnerLabels] = useState<string[]>([\"Contribuinte 1\", \"Contribuinte 2\"]);\n\n  const currentAssignedToMemberIdForSchema = useForm().watch('assignedToMemberId');\n  const selectedMemberForReleaseSchema = availableMembers.find(m => m.id === currentAssignedToMemberIdForSchema);\n  const memberHasBirthDateForSchema = !!selectedMemberForReleaseSchema?.birthDate;\n\n  const currentAssetFormSchema = useMemo(() => createAssetFormSchema(memberHasBirthDateForSchema), [memberHasBirthDateForSchema]);\n\n  const form = useForm<AssetFormData>({\n    resolver: zodResolver(currentAssetFormSchema),\n    defaultValues: {\n      nomeAtivo: existingAssetToUpdate?.nomeAtivo || '',\n      dataAquisicao: new Date(),\n      observacoes: '',\n      quemComprou: '',\n      contribuicaoParceiro1: undefined,\n      contribuicaoParceiro2: undefined,\n      tipoImovelBemFisico: '',\n      enderecoLocalizacaoFisico: '',\n      assignedToMemberId: targetMemberId || undefined,\n      setReleaseCondition: false,\n      releaseTargetAge: undefined,\n    },\n    mode: \"onChange\",\n  });\n\n  const watchedNomeAtivo = form.watch('nomeAtivo');\n  const quemComprouWatch = form.watch('quemComprou');\n  const localAssignedToMemberIdWatch = form.watch('assignedToMemberId');\n  const setReleaseConditionWatch = form.watch('setReleaseCondition');\n\n  const actualSelectedMember = availableMembers.find(m => m.id === localAssignedToMemberIdWatch);\n  const memberHasBirthDate = !!actualSelectedMember?.birthDate;\n\n useEffect(() => {\n    const defaultVals: Partial<AssetFormData> = {\n      nomeAtivo: existingAssetToUpdate?.nomeAtivo || '',\n      dataAquisicao: new Date(),\n      observacoes: '',\n      quemComprou: '',\n      contribuicaoParceiro1: undefined,\n      contribuicaoParceiro2: undefined,\n      tipoImovelBemFisico: '',\n      enderecoLocalizacaoFisico: '',\n      assignedToMemberId: targetMemberId || undefined,\n      setReleaseCondition: false,\n      releaseTargetAge: undefined,\n    };\n    if (existingAssetToUpdate) {\n        defaultVals.nomeAtivo = existingAssetToUpdate.nomeAtivo;\n    } else {\n        defaultVals.nomeAtivo = ''; // Limpar nome para novos ativos\n    }\n    form.reset(defaultVals);\n    setCurrentStep(1);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [targetMemberId, existingAssetToUpdate, form.reset]);\n\n\n  useEffect(() => {\n    if (user?.displayName) {\n      const names = user.displayName.split('&').map(name => name.trim()).filter(name => name);\n      setPartnerNames(names);\n      if (names.length === 1) {\n        setPartnerLabels([names[0], \"Outro Contribuinte\"]);\n      } else if (names.length > 1) {\n        setPartnerLabels([names[0], names[1]]);\n      } else {\n        setPartnerLabels([\"Parte 1\", \"Parte 2\"]);\n      }\n    }\n  }, [user]);\n\n  const handleFormSubmit = async (values: AssetFormData) => {\n    const processedValues: AssetFormData = {\n      ...values,\n      nomeAtivo: existingAssetToUpdate?.nomeAtivo || values.nomeAtivo,\n      quemComprou: values.quemComprou === \"UNSPECIFIED_BUYER\" ? \"\" : values.quemComprou,\n      assignedToMemberId: values.assignedToMemberId === \"UNASSIGNED\" || values.assignedToMemberId === null || values.assignedToMemberId === undefined ? undefined : values.assignedToMemberId,\n    };\n    await onSubmit(processedValues);\n  };\n\n  const validateStep = async (step: number): Promise<boolean> => {\n    setFormError(null);\n    let fieldsToValidate: (keyof AssetFormData)[] = [];\n    let currentValues = form.getValues();\n\n    if (step === 1) {\n        fieldsToValidate = ['nomeAtivo', 'dataAquisicao', 'observacoes'];\n        if (!existingAssetToUpdate && !currentValues.nomeAtivo) {\n            setFormError(\"O nome do ativo é obrigatório.\");\n            return false;\n        }\n    } else if (step === 2) {\n      fieldsToValidate = ['quemComprou'];\n      if (currentValues.quemComprou === 'Ambos') {\n        // Contribuições são opcionais\n      }\n    } else if (step === 3) {\n      fieldsToValidate.push('tipoImovelBemFisico');\n      if (!targetMemberId) {\n        fieldsToValidate.push('assignedToMemberId');\n      }\n      if (currentValues.setReleaseCondition && memberHasBirthDate) {\n          fieldsToValidate.push('releaseTargetAge');\n      }\n    }\n\n    if (fieldsToValidate.length > 0) {\n      const result = await form.trigger(fieldsToValidate);\n      if (!result) {\n        const errors = form.formState.errors;\n        let firstErrorMessage = null;\n        for (const field of fieldsToValidate) {\n            if (errors[field]) {\n            firstErrorMessage = (errors[field] as any)?.message || \"Preencha os campos obrigatórios corretamente.\";\n            break;\n            }\n        }\n        if (firstErrorMessage) {\n            setFormError(firstErrorMessage);\n            return false;\n        }\n      }\n    }\n\n    const validationResult = currentAssetFormSchema.safeParse(currentValues);\n    if (!validationResult.success) {\n        const stepErrors = validationResult.error.issues.filter(issue => {\n            if (step === 1 && (issue.path.includes('nomeAtivo') || issue.path.includes('dataAquisicao') || issue.path.includes('observacoes'))) return true;\n            if (step === 2 && (issue.path.includes('quemComprou') || (currentValues.quemComprou === 'Ambos' && (issue.path.includes('contribuicaoParceiro1') || issue.path.includes('contribuicaoParceiro2'))))) return true;\n            if (step === 3 && (issue.path.includes('tipoImovelBemFisico') || (!targetMemberId && issue.path.includes('assignedToMemberId')) || (currentValues.setReleaseCondition && memberHasBirthDate && issue.path.includes('releaseTargetAge')) )) return true;\n            return false;\n        });\n\n        if (stepErrors.length > 0) {\n            setFormError(stepErrors[0].message);\n            return false;\n        }\n    }\n    return true;\n  };\n\n  const handleNextStep = async () => {\n    if (await validateStep(currentStep)) {\n      if (currentStep < TOTAL_STEPS_PHYSICAL) {\n        setCurrentStep(currentStep + 1);\n      }\n    }\n  };\n\n  const handlePreviousStep = () => {\n    setFormError(null);\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const isNextButtonDisabled = () => {\n    if (isSubmittingForm) return true;\n    if (currentStep === 1) {\n        // Se estiver atualizando um ativo existente, o nome já está preenchido e desabilitado.\n        // Se for um novo ativo, o watchedNomeAtivo deve ter valor.\n        return !existingAssetToUpdate && !watchedNomeAtivo;\n    }\n    return false;\n  };\n\n  return (\n    <form onSubmit={form.handleSubmit(handleFormSubmit)} className=\"space-y-6\">\n      <p className=\"text-sm text-center text-muted-foreground\">\n        {existingAssetToUpdate ? `Adicionar Transação a: ${existingAssetToUpdate.nomeAtivo}` : \"Adicionar Novo Ativo Físico\"} (Etapa {currentStep} de {TOTAL_STEPS_PHYSICAL})\n      </p>\n\n      {/* Etapa 1: Detalhes Principais do Ativo Físico */}\n      {currentStep === 1 && (\n        <>\n          <div className=\"space-y-1.5\">\n            <Label htmlFor=\"nomeAtivoFisicoInput\" className=\"text-foreground/90\">Nome do Ativo Físico</Label>\n            <Input\n                id=\"nomeAtivoFisicoInput\"\n                {...form.register('nomeAtivo')}\n                placeholder={\"Ex: Casa da Praia, Carro SUV, Obra de Arte\"}\n                disabled={isSubmittingForm || !!existingAssetToUpdate}\n                autoFocus={!existingAssetToUpdate}\n                className={cn(\"bg-input text-foreground placeholder:text-muted-foreground\", !!existingAssetToUpdate && \"cursor-not-allowed bg-muted/50 text-muted-foreground\")}\n            />\n            {form.formState.errors.nomeAtivo && <p className=\"text-sm text-destructive\">{form.formState.errors.nomeAtivo.message}</p>}\n          </div>\n          <div className=\"space-y-1.5\">\n            <Label htmlFor=\"dataAquisicao\" className=\"text-foreground/90\">Data de Aquisição/Transação</Label>\n            <Controller\n              name=\"dataAquisicao\"\n              control={form.control}\n              render={({ field }) => (\n                <Popover>\n                  <PopoverTrigger asChild>\n                    <Button\n                      variant={\"outline\"}\n                      className={cn(\"w-full justify-start text-left font-normal bg-input text-foreground hover:bg-input/80\",!field.value && \"text-muted-foreground\")}\n                      disabled={isSubmittingForm}\n                    >\n                      <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                      {field.value && isValid(new Date(field.value)) ? format(new Date(field.value), \"PPP 'às' HH:mm\", { locale: ptBR }) : <span>Escolha uma data e hora</span>}\n                    </Button>\n                  </PopoverTrigger>\n                  <PopoverContent className=\"w-auto p-0 bg-popover border-border\">\n                    <Calendar\n                      mode=\"single\"\n                      selected={field.value && isValid(new Date(field.value)) ? new Date(field.value) : undefined}\n                      onSelect={(date) => {\n                        const currentVal = field.value && isValid(new Date(field.value)) ? new Date(field.value) : new Date();\n                        const newDate = date ? new Date(date) : currentVal;\n                        if (isValid(currentVal) && isValid(newDate)) {\n                            newDate.setHours(currentVal.getHours());\n                            newDate.setMinutes(currentVal.getMinutes());\n                            field.onChange(newDate);\n                        } else if (isValid(newDate)) {\n                            field.onChange(newDate);\n                        }\n                      }}\n                      initialFocus\n                      locale={ptBR}\n                      disabled={(date) => date > new Date() || date < new Date(\"1900-01-01\") || isSubmittingForm}\n                    />\n                    <div className=\"p-2 border-t border-border\">\n                      <Label htmlFor=\"time\" className=\"text-sm text-foreground/90\">Hora da Aquisição/Transação</Label>\n                       <Input\n                        id=\"time\"\n                        type=\"time\"\n                        defaultValue={field.value && isValid(new Date(field.value)) ? format(new Date(field.value), \"HH:mm\") : \"00:00\"}\n                        onChange={(e) => {\n                            const currentTime = field.value && isValid(new Date(field.value)) ? new Date(field.value) : new Date();\n                            const [hours, minutes] = e.target.value.split(':');\n                            if (isValid(currentTime)) {\n                                currentTime.setHours(parseInt(hours,10));\n                                currentTime.setMinutes(parseInt(minutes,10));\n                                field.onChange(new Date(currentTime));\n                            }\n                        }}\n                        className=\"w-full mt-1 bg-input text-foreground\"\n                        disabled={isSubmittingForm}\n                       />\n                    </div>\n                  </PopoverContent>\n                </Popover>\n              )}\n            />\n            {form.formState.errors.dataAquisicao && <p className=\"text-sm text-destructive\">{form.formState.errors.dataAquisicao.message}</p>}\n          </div>\n           <div className=\"space-y-1.5\">\n            <Label htmlFor=\"observacoes\" className=\"text-foreground/90\">Observações da Transação (Opcional)</Label>\n            <Input id=\"observacoes\" {...form.register('observacoes')} placeholder=\"Alguma observação sobre esta transação\" disabled={isSubmittingForm} className=\"bg-input text-foreground placeholder:text-muted-foreground\"/>\n            {form.formState.errors.observacoes && <p className=\"text-sm text-destructive\">{form.formState.errors.observacoes.message}</p>}\n          </div>\n        </>\n      )}\n\n      {/* Etapa 2: Propriedade e Contribuições */}\n      {currentStep === 2 && (\n        <>\n          <div className=\"space-y-1.5\">\n            <Label htmlFor=\"quemComprou\" className=\"text-foreground/90\">Quem Adquiriu/Contribuiu nesta Transação? (Opcional)</Label>\n            <Controller\n              name=\"quemComprou\"\n              control={form.control}\n              render={({ field }) => (\n                <Select\n                  onValueChange={(value) => field.onChange(value === \"UNSPECIFIED_BUYER\" ? \"\" : value)}\n                  value={field.value === \"\" || field.value === undefined ? \"UNSPECIFIED_BUYER\" : field.value}\n                  disabled={isSubmittingForm}\n                >\n                  <SelectTrigger id=\"quemComprou\" className=\"bg-input text-foreground\">\n                    <SelectValue placeholder=\"Selecione quem adquiriu\" />\n                  </SelectTrigger>\n                  <SelectContent className=\"bg-popover text-popover-foreground\">\n                    <SelectItem value=\"UNSPECIFIED_BUYER\">Não especificado</SelectItem>\n                    <SelectItem value=\"Entidade Principal\">União Principal (Ipê Acta)</SelectItem>\n                    {partnerNames.length === 1 && (\n                      <SelectItem value={partnerNames[0]}>{partnerNames[0]}</SelectItem>\n                    )}\n                    {partnerNames.length > 1 && partnerNames.map(name => (\n                      <SelectItem key={name} value={name}>{name}</SelectItem>\n                    ))}\n                    {partnerNames.length > 1 && <SelectItem value=\"Ambos\">Ambos ({partnerNames.join(' & ')})</SelectItem>}\n                  </SelectContent>\n                </Select>\n              )}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              Se os nomes dos parceiros não aparecerem, verifique o nome de exibição da união no Perfil.\n            </p>\n            {form.formState.errors.quemComprou && <p className=\"text-sm text-destructive\">{form.formState.errors.quemComprou.message}</p>}\n          </div>\n\n          {quemComprouWatch === 'Ambos' && (\n            <div className=\"space-y-4 mt-4 p-4 border rounded-md bg-muted/50\">\n              <h4 className=\"text-md font-semibold text-primary\">Detalhes da Contribuição (Opcional)</h4>\n              <div className=\"space-y-1.5\">\n                <Label htmlFor=\"contribuicaoParceiro1\" className=\"text-foreground/90\">Valor Contribuído por {partnerLabels[0]} (R$)</Label>\n                <Input\n                  id=\"contribuicaoParceiro1\"\n                  type=\"number\"\n                  {...form.register('contribuicaoParceiro1')}\n                  placeholder=\"0,00\"\n                  disabled={isSubmittingForm}\n                  step=\"0.01\"\n                  className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                />\n                {form.formState.errors.contribuicaoParceiro1 && <p className=\"text-sm text-destructive\">{form.formState.errors.contribuicaoParceiro1.message}</p>}\n              </div>\n              <div className=\"space-y-1.5\">\n                <Label htmlFor=\"contribuicaoParceiro2\" className=\"text-foreground/90\">Valor Contribuído por {partnerLabels[1]} (R$)</Label>\n                <Input\n                  id=\"contribuicaoParceiro2\"\n                  type=\"number\"\n                  {...form.register('contribuicaoParceiro2')}\n                  placeholder=\"0,00\"\n                  disabled={isSubmittingForm}\n                  step=\"0.01\"\n                  className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                />\n                {form.formState.errors.contribuicaoParceiro2 && <p className=\"text-sm text-destructive\">{form.formState.errors.contribuicaoParceiro2.message}</p>}\n              </div>\n            </div>\n          )}\n        </>\n      )}\n\n      {/* Etapa 3: Detalhes Específicos do Ativo Físico & Designação */}\n      {currentStep === 3 && (\n        <>\n          <div className=\"space-y-4 p-4 border rounded-md bg-muted/30 mb-4\">\n            <h4 className=\"text-md font-semibold text-primary\">Detalhes do Ativo Físico</h4>\n            <div className=\"space-y-1.5\">\n              <Label htmlFor=\"tipoImovelBemFisico\" className=\"text-foreground/90\">Tipo de Bem Físico</Label>\n              <Input\n                  id=\"tipoImovelBemFisico\"\n                  {...form.register('tipoImovelBemFisico')}\n                  placeholder=\"Ex: Imóvel Residencial, Veículo, Obra de Arte\"\n                  disabled={isSubmittingForm || !!existingAssetToUpdate}\n                  className={cn(\"bg-input text-foreground placeholder:text-muted-foreground\", !!existingAssetToUpdate && \"cursor-not-allowed bg-muted/50 text-muted-foreground\")}\n              />\n              {form.formState.errors.tipoImovelBemFisico && <p className=\"text-sm text-destructive\">{form.formState.errors.tipoImovelBemFisico.message}</p>}\n            </div>\n            <div className=\"space-y-1.5\">\n              <Label htmlFor=\"enderecoLocalizacaoFisico\" className=\"text-foreground/90\">Endereço/Localização (Opcional)</Label>\n              <Input\n                  id=\"enderecoLocalizacaoFisico\"\n                  {...form.register('enderecoLocalizacaoFisico')}\n                  placeholder=\"Ex: Rua Exemplo, 123, Cidade - UF\"\n                  disabled={isSubmittingForm || !!existingAssetToUpdate}\n                  className={cn(\"bg-input text-foreground placeholder:text-muted-foreground\", !!existingAssetToUpdate && \"cursor-not-allowed bg-muted/50 text-muted-foreground\")}\n              />\n              {form.formState.errors.enderecoLocalizacaoFisico && <p className=\"text-sm text-destructive\">{form.formState.errors.enderecoLocalizacaoFisico.message}</p>}\n            </div>\n            <div className=\"space-y-1.5\">\n              <Label htmlFor=\"documentacaoFisicoFile\" className=\"text-foreground/90\">Documentação (Opcional)</Label>\n              <Input\n                  id=\"documentacaoFisicoFile\"\n                  type=\"file\" {...form.register('documentacaoFisicoFile')}\n                  disabled={isSubmittingForm || !!existingAssetToUpdate}\n                  className={cn(\"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/20 file:text-primary-foreground hover:file:bg-primary/30 text-foreground/90\", !!existingAssetToUpdate && \"cursor-not-allowed bg-muted/50 text-muted-foreground\")}\n              />\n              <p className=\"text-xs text-muted-foreground\">Max 5MB. Tipos: JPG, PNG, PDF.</p>\n              {form.formState.errors.documentacaoFisicoFile && <p className=\"text-sm text-destructive\">{String(form.formState.errors.documentacaoFisicoFile.message)}</p>}\n            </div>\n          </div>\n\n          {(!targetMemberId) && (\n            <div className=\"space-y-4 p-4 border rounded-md bg-card\">\n                <h4 className=\"text-md font-semibold text-primary flex items-center\"><UserCheck size={18} className=\"mr-2\"/> Designação e Liberação do Ativo (Opcional)</h4>\n                <div className=\"space-y-1.5\">\n                <Label htmlFor=\"assignedToMemberId\" className=\"text-foreground/90\">Designar Ativo para Membro</Label>\n                <Controller\n                    name=\"assignedToMemberId\"\n                    control={form.control}\n                    render={({ field }) => (\n                    <Select\n                        onValueChange={(value) => field.onChange(value === \"UNASSIGNED\" ? undefined : value)}\n                        value={field.value === null || field.value === undefined ? \"UNASSIGNED\" : field.value}\n                        disabled={isSubmittingForm || !!targetMemberId || !!existingAssetToUpdate}\n                    >\n                        <SelectTrigger id=\"assignedToMemberId\" className={cn(\"bg-input text-foreground\", (!!targetMemberId || !!existingAssetToUpdate) && \"cursor-not-allowed bg-muted/50 text-muted-foreground\")}>\n                        <SelectValue placeholder=\"Selecione um membro\" />\n                        </SelectTrigger>\n                        <SelectContent className=\"bg-popover text-popover-foreground\">\n                        <SelectItem value=\"UNASSIGNED\">Não Designar / Manter com a União Principal</SelectItem>\n                        {availableMembers.map(member => (\n                            <SelectItem key={member.id} value={member.id}>{member.name}</SelectItem>\n                        ))}\n                        </SelectContent>\n                    </Select>\n                    )}\n                />\n                {form.formState.errors.assignedToMemberId && <p className=\"text-sm text-destructive\">{form.formState.errors.assignedToMemberId.message}</p>}\n                </div>\n\n                {localAssignedToMemberIdWatch && localAssignedToMemberIdWatch !== \"UNASSIGNED\" && memberHasBirthDate && (\n                <div className=\"space-y-3 mt-3 p-3 border-t border-border\">\n                    <div className=\"flex items-center space-x-2\">\n                        <Controller\n                            name=\"setReleaseCondition\"\n                            control={form.control}\n                            render={({ field }) => (\n                                <Checkbox\n                                    id=\"setReleaseCondition\"\n                                    checked={Boolean(field.value)}\n                                    onCheckedChange={field.onChange}\n                                    disabled={isSubmittingForm || !!existingAssetToUpdate}\n                                    className={cn(\"border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\", !!existingAssetToUpdate && \"cursor-not-allowed bg-muted/50 text-muted-foreground\")}\n                                />\n                            )}\n                        />\n                        <Label htmlFor=\"setReleaseCondition\" className={cn(\"font-normal flex items-center text-foreground/90\", !!existingAssetToUpdate && \"text-muted-foreground\")}>\n                        <Clock size={16} className=\"mr-2 text-blue-400\"/> Definir Condição de Liberação por Idade para {actualSelectedMember?.name}?\n                        </Label>\n                    </div>\n                    {setReleaseConditionWatch && (\n                    <div className=\"space-y-1.5 pl-6\">\n                        <Label htmlFor=\"releaseTargetAge\" className={cn(\"text-foreground/90\", !!existingAssetToUpdate && \"text-muted-foreground\")}>Liberar aos (idade)</Label>\n                        <Input\n                        id=\"releaseTargetAge\"\n                        type=\"number\"\n                        {...form.register('releaseTargetAge')}\n                        placeholder=\"Ex: 18\"\n                        min=\"1\"\n                        disabled={isSubmittingForm || !!existingAssetToUpdate}\n                        className={cn(\"bg-input text-foreground placeholder:text-muted-foreground\", !!existingAssetToUpdate && \"cursor-not-allowed bg-muted/50 text-muted-foreground\")}\n                        />\n                        {form.formState.errors.releaseTargetAge && <p className=\"text-sm text-destructive\">{form.formState.errors.releaseTargetAge.message}</p>}\n                    </div>\n                    )}\n                </div>\n                )}\n                {localAssignedToMemberIdWatch && localAssignedToMemberIdWatch !== \"UNASSIGNED\" && !memberHasBirthDate && (\n                    <p className=\"text-xs text-muted-foreground mt-2 pl-1\">\n                        Para definir condição de liberação por idade, o membro selecionado ({actualSelectedMember?.name || 'Membro'}) precisa ter uma data de nascimento cadastrada.\n                    </p>\n                )}\n            </div>\n          )}\n        </>\n      )}\n\n      {formError && <p className=\"text-sm text-destructive text-center\">{formError}</p>}\n\n\n      <div className=\"flex justify-between items-center pt-4\">\n        {currentStep > 1 ? (\n          <Button type=\"button\" variant=\"outline\" onClick={handlePreviousStep} disabled={isSubmittingForm} className=\"text-foreground/90 border-border hover:bg-muted/80\">\n            <ArrowLeft className=\"mr-2 h-4 w-4\" /> Voltar\n          </Button>\n        ) : (\n          <Button type=\"button\" variant=\"outline\" onClick={onClose} disabled={isSubmittingForm} className=\"text-foreground/90 border-border hover:bg-muted/80\">\n            Cancelar\n          </Button>\n        )}\n\n        {currentStep < TOTAL_STEPS_PHYSICAL ? (\n          <Button type=\"button\" onClick={handleNextStep} disabled={isNextButtonDisabled()} className=\"bg-primary hover:bg-primary/90 text-primary-foreground\">\n             Próximo\n             <ArrowRight className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ) : (\n          <Button type=\"submit\" disabled={isSubmittingForm} className=\"bg-primary hover:bg-primary/90 text-primary-foreground\">\n            {isSubmittingForm ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Save className=\"mr-2 h-4 w-4\" />}\n            {existingAssetToUpdate ? \"Adicionar Transação\" : \"Salvar Ativo Físico\"}\n          </Button>\n        )}\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2030, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/actions/assetActions.ts"],"sourcesContent":["\n'use server';\nimport type { AssetFormData, AssetTransaction } from '@/types/asset';\n\n// Esta action agora é para adicionar um ATIVO FÍSICO,\n// ou uma transação a um ativo existente (embora o form não esteja configurado para transações múltiplas em físicos)\nexport async function addAsset(data: AssetFormData, userId: string): Promise<{ success: boolean; error?: string; assetId?: string, transactionId?: string }> {\n  if (!userId) {\n    return { success: false, error: 'Usuário não autenticado.' };\n  }\n\n  const newTransactionId = `mock-tx-${Date.now()}`;\n  const assetIdForLog = `mock-physical-asset-${data.nomeAtivo.replace(/\\s+/g, '-')}`;\n\n  console.log('Simulando adição de ativo físico (Firebase desabilitado):', {\n    userId,\n    assetIdTarget: assetIdForLog, \n    newTransactionId,\n    tipoAtivoPrincipal: 'fisico', // Hardcoded, pois o form é para físicos\n    nomeAtivoPrincipal: data.nomeAtivo,\n    \n    // Detalhes da transação/aquisição\n    dataAquisicaoTransacao: data.dataAquisicao,\n    observacoesTransacao: data.observacoes,\n    quemComprouTransacao: data.quemComprou,\n    contribuicaoParceiro1Transacao: data.contribuicaoParceiro1,\n    contribuicaoParceiro2Transacao: data.contribuicaoParceiro2,\n    \n    // Campos específicos de ativo físico\n    tipoImovelBemFisico: data.tipoImovelBemFisico,\n    enderecoLocalizacaoFisico: data.enderecoLocalizacaoFisico,\n    documentacaoFisicoFileName: data.documentacaoFisicoFile?.[0]?.name,\n    \n    // Designação e liberação\n    assignedToMemberId: data.assignedToMemberId,\n    releaseCondition: data.setReleaseCondition && data.releaseTargetAge ? { type: 'age', targetAge: data.releaseTargetAge } : undefined,\n  });\n\n  await new Promise(resolve => setTimeout(resolve, 500));\n\n  return { success: true, assetId: assetIdForLog, transactionId: newTransactionId };\n}\n"],"names":[],"mappings":";;;;;IAMsB","debugId":null}},
    {"offset": {"line": 2042, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/members/AddMemberForm.tsx"],"sourcesContent":["\n\"use client\";\nimport { useForm, Controller } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { CalendarIcon, Loader2, UserPlus } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { format } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\nimport type { MemberFormData } from '@/types/member';\n\n// Schema Zod simplificado, tipoRelacao não é mais um campo do formulário\nconst formSchema = z.object({\n  nome: z.string().min(2, 'O nome do filho(a) é obrigatório e deve ter pelo menos 2 caracteres.'),\n  dataNascimento: z.date().optional(),\n});\n\n// A prop onSubmit espera MemberFormData, que ainda inclui tipoRelacao\ninterface AddMemberFormProps {\n  onSubmit: (data: MemberFormData) => Promise<void>;\n  isLoading: boolean;\n  onClose: () => void;\n}\n\nexport function AddMemberForm({ onSubmit, isLoading, onClose }: AddMemberFormProps) {\n  const form = useForm<Omit<MemberFormData, 'tipoRelacao'>>({ // Omit tipoRelacao do tipo do formulário\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      nome: '',\n      dataNascimento: undefined,\n    },\n    mode: \"onChange\",\n  });\n\n  const handleFormSubmit = (values: Omit<MemberFormData, 'tipoRelacao'>) => {\n    // Adiciona tipoRelacao: 'filho_a' antes de chamar a prop onSubmit\n    const formDataWithRelation: MemberFormData = {\n      ...values,\n      tipoRelacao: 'filho_a',\n    };\n    onSubmit(formDataWithRelation);\n  };\n\n  return (\n    <form onSubmit={form.handleSubmit(handleFormSubmit)} className=\"space-y-6\">\n      <div className=\"space-y-1.5\">\n        <Label htmlFor=\"nome\" className=\"text-foreground/90\">Nome Completo do Filho(a)</Label>\n        <Input id=\"nome\" {...form.register('nome')} placeholder=\"Ex: Nome Sobrenome\" disabled={isLoading} autoFocus className=\"bg-input text-foreground placeholder:text-muted-foreground\"/>\n        {form.formState.errors.nome && <p className=\"text-sm text-destructive\">{form.formState.errors.nome.message}</p>}\n      </div>\n      \n      <div className=\"space-y-1.5\">\n        <Label htmlFor=\"dataNascimento\" className=\"text-foreground/90\">Data de Nascimento (Opcional)</Label>\n        <Controller\n          name=\"dataNascimento\"\n          control={form.control}\n          render={({ field }) => (\n            <Popover>\n              <PopoverTrigger asChild>\n                <Button\n                  variant={\"outline\"}\n                  className={cn(\n                    \"w-full justify-start text-left font-normal bg-input text-foreground hover:bg-input/80\",\n                    !field.value && \"text-muted-foreground\"\n                  )}\n                  disabled={isLoading}\n                >\n                  <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                  {field.value ? format(new Date(field.value), \"PPP\", { locale: ptBR }) : <span>Escolha uma data</span>}\n                </Button>\n              </PopoverTrigger>\n              <PopoverContent className=\"w-auto p-0 bg-popover border-border\">\n                <Calendar\n                  mode=\"single\"\n                  selected={field.value ? new Date(field.value) : undefined}\n                  onSelect={field.onChange}\n                  initialFocus\n                  locale={ptBR}\n                  disabled={(date) => date > new Date() || date < new Date(\"1900-01-01\") || isLoading}\n                  captionLayout=\"dropdown-buttons\"\n                  fromYear={1900}\n                  toYear={new Date().getFullYear()}\n                />\n              </PopoverContent>\n            </Popover>\n          )}\n        />\n        {form.formState.errors.dataNascimento && <p className=\"text-sm text-destructive\">{form.formState.errors.dataNascimento.message}</p>}\n      </div>\n\n      <div className=\"flex justify-end space-x-3 pt-4\">\n        <Button type=\"button\" variant=\"outline\" onClick={onClose} disabled={isLoading} className=\"text-foreground/90 border-border hover:bg-muted/80\">\n          Cancelar\n        </Button>\n        <Button type=\"submit\" className=\"bg-primary hover:bg-primary/90 text-primary-foreground\" disabled={isLoading}>\n          {isLoading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <UserPlus className=\"mr-2 h-4 w-4\" />}\n          Adicionar Filho(a)\n        </Button>\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;AAZA;;;;;;;;;;;;;AAeA,yEAAyE;AACzE,MAAM,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC1B,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,gBAAgB,uIAAA,CAAA,IAAC,CAAC,IAAI,GAAG,QAAQ;AACnC;AASO,SAAS,cAAc,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAsB;;IAChF,MAAM,OAAO,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAuC;QACxD,UAAU,CAAA,GAAA,iKAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YACb,MAAM;YACN,gBAAgB;QAClB;QACA,MAAM;IACR;IAEA,MAAM,mBAAmB,CAAC;QACxB,kEAAkE;QAClE,MAAM,uBAAuC;YAC3C,GAAG,MAAM;YACT,aAAa;QACf;QACA,SAAS;IACX;IAEA,qBACE,6LAAC;QAAK,UAAU,KAAK,YAAY,CAAC;QAAmB,WAAU;;0BAC7D,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAA,CAAA,QAAK;wBAAC,SAAQ;wBAAO,WAAU;kCAAqB;;;;;;kCACrD,6LAAC,oIAAA,CAAA,QAAK;wBAAC,IAAG;wBAAQ,GAAG,KAAK,QAAQ,CAAC,OAAO;wBAAE,aAAY;wBAAqB,UAAU;wBAAW,SAAS;wBAAC,WAAU;;;;;;oBACrH,KAAK,SAAS,CAAC,MAAM,CAAC,IAAI,kBAAI,6LAAC;wBAAE,WAAU;kCAA4B,KAAK,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO;;;;;;;;;;;;0BAG5G,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAA,CAAA,QAAK;wBAAC,SAAQ;wBAAiB,WAAU;kCAAqB;;;;;;kCAC/D,6LAAC,iKAAA,CAAA,aAAU;wBACT,MAAK;wBACL,SAAS,KAAK,OAAO;wBACrB,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,6LAAC,sIAAA,CAAA,UAAO;;kDACN,6LAAC,sIAAA,CAAA,iBAAc;wCAAC,OAAO;kDACrB,cAAA,6LAAC,qIAAA,CAAA,SAAM;4CACL,SAAS;4CACT,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,yFACA,CAAC,MAAM,KAAK,IAAI;4CAElB,UAAU;;8DAEV,6LAAC,iNAAA,CAAA,eAAY;oDAAC,WAAU;;;;;;gDACvB,MAAM,KAAK,GAAG,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,MAAM,KAAK,GAAG,OAAO;oDAAE,QAAQ,qJAAA,CAAA,OAAI;gDAAC,mBAAK,6LAAC;8DAAK;;;;;;;;;;;;;;;;;kDAGlF,6LAAC,sIAAA,CAAA,iBAAc;wCAAC,WAAU;kDACxB,cAAA,6LAAC,uIAAA,CAAA,WAAQ;4CACP,MAAK;4CACL,UAAU,MAAM,KAAK,GAAG,IAAI,KAAK,MAAM,KAAK,IAAI;4CAChD,UAAU,MAAM,QAAQ;4CACxB,YAAY;4CACZ,QAAQ,qJAAA,CAAA,OAAI;4CACZ,UAAU,CAAC,OAAS,OAAO,IAAI,UAAU,OAAO,IAAI,KAAK,iBAAiB;4CAC1E,eAAc;4CACd,UAAU;4CACV,QAAQ,IAAI,OAAO,WAAW;;;;;;;;;;;;;;;;;;;;;;oBAMvC,KAAK,SAAS,CAAC,MAAM,CAAC,cAAc,kBAAI,6LAAC;wBAAE,WAAU;kCAA4B,KAAK,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO;;;;;;;;;;;;0BAGhI,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,qIAAA,CAAA,SAAM;wBAAC,MAAK;wBAAS,SAAQ;wBAAU,SAAS;wBAAS,UAAU;wBAAW,WAAU;kCAAqD;;;;;;kCAG9I,6LAAC,qIAAA,CAAA,SAAM;wBAAC,MAAK;wBAAS,WAAU;wBAAyD,UAAU;;4BAChG,0BAAY,6LAAC,oNAAA,CAAA,UAAO;gCAAC,WAAU;;;;;qDAAiC,6LAAC,iNAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;4BAAkB;;;;;;;;;;;;;;;;;;;AAMjH;GA7EgB;;QACD,iKAAA,CAAA,UAAO;;;KADN","debugId":null}},
    {"offset": {"line": 2308, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/actions/memberActions.ts"],"sourcesContent":["\n'use server';\n\nimport type { MemberFormData } from '@/types/member';\n\nexport async function addMember(data: MemberFormData, unionId: string): Promise<{ success: boolean; error?: string; memberId?: string }> {\n  if (!unionId) {\n    return { success: false, error: 'ID da união não fornecido.' };\n  }\n\n  console.log('Simulando adição de membro (Firebase desabilitado):', {\n    unionId,\n    nome: data.nome,\n    tipoRelacao: data.tipoRelacao,\n    dataNascimento: data.dataNascimento,\n  });\n\n  // Simula um atraso de rede\n  await new Promise(resolve => setTimeout(resolve, 500));\n\n  // Em uma implementação real com Firebase, você usaria:\n  // try {\n  //   const memberDataToSave = {\n  //     unionId,\n  //     ...data,\n  //     createdAt: serverTimestamp(),\n  //     updatedAt: serverTimestamp(),\n  //   };\n  //   const docRef = await addDoc(collection(db!, 'members'), memberDataToSave);\n  //   return { success: true, memberId: docRef.id };\n  // } catch (error) {\n  //   console.error('Erro ao adicionar membro:', error);\n  //   return { success: false, error: 'Falha ao adicionar membro no Firestore.' };\n  // }\n\n  return { success: true, memberId: `mock-member-${Date.now()}` };\n}\n"],"names":[],"mappings":";;;;;IAKsB","debugId":null}},
    {"offset": {"line": 2320, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2423, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/UnionNode.tsx"],"sourcesContent":["\n'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Network, Settings, PlusCircle, DollarSign, Users } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { useState, useCallback, useEffect, useRef } from 'react';\n\nexport type UnionNodeData = {\n  label: string;\n  onSettingsClick: () => void;\n  onOpenAssetModal: () => void;\n  onAddMember: () => void;\n};\n\nexport function UnionNode({ id, data, selected }: NodeProps<UnionNodeData>) {\n  const [showActions, setShowActions] = useState(false);\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  const toggleActions = useCallback(() => {\n    setShowActions((prev) => !prev);\n  }, []);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (popoverRef.current && !popoverRef.current.contains(event.target as Node)) {\n        const handleElement = document.getElementById(`handle-plus-${id}`);\n        if (handleElement && handleElement.contains(event.target as Node)) {\n          return;\n        }\n        setShowActions(false);\n      }\n    };\n\n    if (showActions) {\n      document.addEventListener('mousedown', handleClickOutside);\n    } else {\n      document.removeEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showActions, id]);\n\n\n  return (\n    <Card\n      className={`w-60 shadow-xl border-2 ${selected ? 'border-primary shadow-primary/30' : 'border-primary/60'} bg-card p-0 overflow-hidden relative rounded-lg`}\n      style={{ overflow: 'visible' }}\n    >\n      <Handle type=\"target\" position={Position.Top} id={`t-${id}-top`} className=\"!opacity-0\" />\n\n      <div className=\"bg-gradient-to-r from-gradient-green to-gradient-blue p-2 rounded-t-md flex justify-between items-center\">\n        <span className=\"text-xs font-semibold text-black\">Contrato</span>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"h-6 w-6 text-black hover:bg-white/20 hover:text-black/80\"\n          onClick={data.onSettingsClick}\n          aria-label=\"Configurações do Contrato\"\n        >\n          <Settings size={16} />\n        </Button>\n      </div>\n\n      <div className=\"p-3 bg-card rounded-b-md\">\n        <div className=\"flex items-center space-x-2 text-sm font-semibold text-card-foreground\">\n          <Network size={18} className=\"text-primary\" />\n          <span>{data.label}</span>\n        </div>\n      </div>\n\n      <div className=\"absolute -bottom-5 left-1/2 transform -translate-x-1/2 z-10\">\n        <button\n          id={`handle-plus-${id}`}\n          onClick={toggleActions}\n          className=\"p-1.5 bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 flex items-center justify-center\"\n          aria-label=\"Adicionar\"\n          style={{ width: '32px', height: '32px' }}\n        >\n          <PlusCircle size={20} />\n        </button>\n        {showActions && (\n          <div\n            ref={popoverRef}\n            className=\"absolute left-1/2 transform -translate-x-1/2 mt-2 w-48 bg-popover border border-border rounded-md shadow-xl p-2 space-y-2 z-20\"\n            style={{ top: 'calc(100% + 0.5rem)' }}\n          >\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"w-full justify-start text-sm text-popover-foreground hover:bg-primary/20 hover:text-primary\"\n              onClick={() => {\n                data.onOpenAssetModal();\n                setShowActions(false);\n              }}\n            >\n              <DollarSign size={16} className=\"mr-2\" />\n              Adicionar Ativo\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"w-full justify-start text-sm text-popover-foreground hover:bg-accent/20 hover:text-accent\"\n              onClick={() => {\n                data.onAddMember();\n                setShowActions(false);\n              }}\n            >\n              <Users size={16} className=\"mr-2\" />\n              Adicionar Filho(a)\n            </Button>\n          </div>\n        )}\n      </div>\n       <Handle\n        type=\"source\"\n        position={Position.Bottom}\n        id={`s-${id}-bottom`}\n        className=\"!opacity-0 !w-px !h-px !cursor-default\"\n        isConnectable={false}\n      />\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2687, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 2735, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/AssetNode.tsx"],"sourcesContent":["\n'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { DollarSign, Coins, Landmark, BuildingIcon, Clock } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport type { AssetTransaction } from '@/types/asset'; \n\nexport interface ExtendedAssetNodeData {\n  id: string;\n  userId: string;\n  nomeAtivo: string;\n  tipo: 'digital' | 'fisico';\n  quantidadeTotalDigital?: number;\n  tipoImovelBemFisico?: string;\n  enderecoLocalizacaoFisico?: string;\n  transactions: AssetTransaction[];\n  assignedToMemberId?: string;\n  releaseCondition?: { type: 'age'; targetAge: number };\n  observacoesGerais?: string;\n  onOpenDetails?: () => void;\n}\n\nconst BitcoinIcon = () => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-2\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#F7931A\"/>\n    <path d=\"M10.05 16.64H12.32C14.66 16.64 16.31 15.32 16.31 12.91C16.31 10.5 14.66 9.17999 12.32 9.17999H10.05V7.35999H12.4C15.43 7.35999 17.5 8.95999 17.5 11.82C17.5 13.48 16.73 14.91 15.38 15.79V15.83C17.06 16.57 18 17.97 18 19.76C18 22.79 15.67 24.48 12.54 24.48H8V7.35999H10.05V16.64ZM10.05 11.6H12.22C13.6 11.6 14.51 12.31 14.51 13.59C14.51 14.87 13.6 15.58 12.22 15.58H10.05V11.6ZM10.05 17.68H12.4C13.98 17.68 15.03 18.46 15.03 19.79C15.03 21.12 13.98 21.9 12.4 21.9H10.05V17.68Z\" fill=\"white\" transform=\"scale(0.75) translate(2, -4)\"/>\n  </svg>\n);\n\nconst EthereumIcon = () => (\n <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-2\">\n    <path d=\"M12.023 2.68701L11.531 3.32701V11.56L12.023 11.829L12.516 11.56V3.32701L12.023 2.68701Z\" fill=\"#627EEA\"/>\n    <path d=\"M12.023 2.68701L6.78101 9.40401L12.023 11.829V2.68701Z\" fill=\"#8AA1F2\"/>\n    <path d=\"M12.023 2.68701L17.265 9.40401L12.023 11.829V2.68701Z\" fill=\"#627EEA\"/>\n    <path d=\"M12.023 12.76L11.555 12.981V16.844L12.023 17.13L12.492 16.844V12.981L12.023 12.76Z\" fill=\"#627EEA\"/>\n    <path d=\"M12.023 17.13V12.76L6.78101 10.352L12.023 17.13Z\" fill=\"#8AA1F2\"/>\n    <path d=\"M12.023 17.13V12.76L17.265 10.352L12.023 17.13Z\" fill=\"#627EEA\"/>\n    <path d=\"M12.023 11.829L17.265 9.40401L12.023 6.99701L6.78101 9.40401L12.023 11.829Z\" fill=\"#45578E\"/>\n  </svg>\n);\n\nconst SolanaIcon = () => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-2\">\n    <defs>\n      <linearGradient id=\"solanaGradientNode\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n        <stop offset=\"0%\" style={{stopColor: \"#9945FF\"}} />\n        <stop offset=\"100%\" style={{stopColor: \"#14F195\"}} />\n      </linearGradient>\n    </defs>\n    <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"url(#solanaGradientNode)\"/>\n    <path d=\"M8.06006 6.5L6.5 8.06006L10.44 12L6.5 15.94L8.06006 17.5L12 13.56L15.94 17.5L17.5 15.94L13.56 12L17.5 8.06006L15.94 6.5L12 10.44L8.06006 6.5Z\" fill=\"black\" transform=\"scale(0.8) translate(3,3)\"/>\n  </svg>\n);\n\n\nconst getIconForAsset = (data: ExtendedAssetNodeData) => {\n  if (data.tipo === 'digital') {\n    if (data.nomeAtivo === 'Bitcoin') {\n      return <BitcoinIcon />;\n    }\n    if (data.nomeAtivo === 'Ethereum') {\n      return <EthereumIcon />;\n    }\n    if (data.nomeAtivo === 'Solana') {\n      return <SolanaIcon />;\n    }\n    return <Coins size={18} className=\"text-primary mr-2\" />;\n  }\n  if (data.tipo === 'fisico') {\n    const tipoBemLower = data.tipoImovelBemFisico?.toLowerCase() || '';\n    if (tipoBemLower.includes('casa') || tipoBemLower.includes('apartamento') || tipoBemLower.includes('imóvel')) {\n      return <Landmark size={18} className=\"text-primary mr-2\" />;\n    }\n    if (tipoBemLower.includes('veículo') || tipoBemLower.includes('carro') || tipoBemLower.includes('automóvel')) {\n      return <BuildingIcon size={18} className=\"text-primary mr-2\" />; \n    }\n    return <Landmark size={18} className=\"text-primary mr-2\" />; \n  }\n  return <DollarSign size={18} className=\"text-primary mr-2\" />; \n};\n\n\nexport function AssetNode({ id: nodeId, data, selected }: NodeProps<ExtendedAssetNodeData>) {\n  const icon = getIconForAsset(data);\n  const { toast } = useToast();\n\n  const handleClockClick = (e: React.MouseEvent) => {\n    e.stopPropagation(); \n    toast({\n      title: 'Configurar Liberação',\n      description: `Em breve: configurar liberação do ativo \"${data.nomeAtivo}\" ${data.releaseCondition?.targetAge ? `aos ${data.releaseCondition.targetAge} anos` : ''}.`,\n    });\n  };\n\n  const handleCardClick = () => {\n    if (data.onOpenDetails) {\n      data.onOpenDetails();\n    } else {\n      toast({\n        title: 'Detalhes do Ativo',\n        description: `Visualizando detalhes de \"${data.nomeAtivo}\".`,\n      });\n    }\n  };\n\n  return (\n    <Card\n      className={`w-auto min-w-[200px] max-w-[280px] shadow-lg border-2 ${selected ? 'border-primary shadow-primary/30' : 'border-border'} bg-card relative rounded-lg cursor-pointer hover:shadow-md transition-shadow`}\n      style={{ overflow: 'visible' }}\n      onClick={handleCardClick}\n    >\n      <Handle type=\"target\" position={Position.Top} id={`t-${nodeId}-top`} className=\"!opacity-50 !bg-ring\" />\n      <Handle type=\"source\" position={Position.Top} id={`s-${nodeId}-top`} className=\"!opacity-50 !bg-ring !top-[-4px]\" />\n\n      <CardHeader className=\"p-3 border-b border-border\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center overflow-hidden\">\n            {icon}\n            <CardTitle className=\"text-sm font-semibold text-card-foreground truncate\" title={data.nomeAtivo}>\n              {data.nomeAtivo}\n            </CardTitle>\n          </div>\n          {data.releaseCondition?.type === 'age' && (\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-6 w-6 text-blue-400 hover:bg-blue-400/10\"\n              onClick={handleClockClick}\n              aria-label=\"Configurar condição de liberação\"\n            >\n              <Clock size={14} />\n            </Button>\n          )}\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"p-3 text-xs space-y-1\">\n        {data.tipo === 'digital' && data.quantidadeTotalDigital !== undefined && (\n            <Badge variant=\"outline\" className=\"text-xs whitespace-normal text-left border-primary/50 text-primary\">\n                Qtd Total: {data.quantidadeTotalDigital.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 })}\n            </Badge>\n        )}\n        {data.tipo === 'fisico' && data.tipoImovelBemFisico && (\n          <Badge variant=\"secondary\" className=\"text-xs whitespace-normal text-left bg-secondary/80 text-secondary-foreground\">\n            {data.tipoImovelBemFisico}\n          </Badge>\n        )}\n        {data.releaseCondition?.targetAge && (\n           <p className=\"text-muted-foreground text-[0.7rem] italic mt-1\">\n            Libera aos: {data.releaseCondition.targetAge} anos\n          </p>\n        )}\n      </CardContent>\n      <Handle type=\"source\" position={Position.Bottom} id={`s-${nodeId}-bottom`} className=\"!opacity-50 !bg-ring\" />\n       <Handle type=\"target\" position={Position.Bottom} id={`t-${nodeId}-bottom`} className=\"!opacity-50 !bg-ring !bottom-[-4px]\" />\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3201, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/MemberNode.tsx"],"sourcesContent":["\n'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { User, Users, Baby, PersonStanding, PlusCircle } from 'lucide-react';\n\nexport type MemberNodeData = {\n  id: string;\n  name: string;\n  relationshipType: string;\n  onAddAssetClick?: (memberId: string) => void;\n};\n\nconst getIconForMember = (data: MemberNodeData) => {\n  const relTypeLower = data.relationshipType.toLowerCase();\n  if (relTypeLower.includes('filho') || relTypeLower.includes('filha')) return <Baby size={18} className=\"text-accent mr-2\" />;\n  if (relTypeLower.includes('pai') || relTypeLower.includes('mãe')) return <PersonStanding size={18} className=\"text-accent mr-2\" />;\n  if (relTypeLower.includes('cônjuge') || relTypeLower.includes('parceiro')) return <Users size={18} className=\"text-accent mr-2\" />;\n  return <User size={18} className=\"text-accent mr-2\" />;\n};\n\nexport function MemberNode({ id: nodeId, data, selected }: NodeProps<MemberNodeData>) {\n  const icon = getIconForMember(data);\n\n  const handleAddAsset = () => {\n    if (data.onAddAssetClick) {\n      data.onAddAssetClick(data.id); \n    }\n  };\n\n  return (\n    <Card\n      className={`w-56 shadow-lg border-2 ${selected ? 'border-accent shadow-accent/40' : 'border-border'} bg-card relative rounded-lg`}\n      style={{ overflow: 'visible' }}\n    >\n      <Handle type=\"target\" position={Position.Top} id={`t-${nodeId}-top`} className=\"!opacity-50 !bg-ring\" />\n\n      <CardHeader className=\"p-3 border-b border-border\">\n        <div className=\"flex items-center\">\n          {icon}\n          <CardTitle className=\"text-sm font-semibold text-card-foreground truncate\" title={data.name}>\n            {data.name}\n          </CardTitle>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"p-3 text-xs\">\n        <Badge variant=\"outline\" className=\"border-accent/50 text-accent text-xs\">\n          {data.relationshipType}\n        </Badge>\n      </CardContent>\n\n      {data.onAddAssetClick && (\n         <div className=\"absolute -bottom-3.5 left-1/2 transform -translate-x-1/2 z-10\">\n            <Button\n                variant=\"outline\"\n                size=\"icon\"\n                className=\"h-7 w-7 bg-card hover:bg-muted border-dashed border-accent text-accent hover:text-accent/90 rounded-full shadow\"\n                onClick={handleAddAsset}\n                aria-label=\"Adicionar Ativo a este Membro\"\n            >\n                <PlusCircle size={16} />\n            </Button>\n        </div>\n      )}\n      <Handle type=\"source\" position={Position.Bottom} id={`s-${nodeId}-bottom`} className=\"!opacity-50 !bg-ring\" />\n      <Handle type=\"target\" position={Position.Bottom} id={`t-${nodeId}-bottom`} className=\"!opacity-50 !bg-ring !bottom-[-4px]\" />\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAPA;;;;;;;AAgBA,MAAM,mBAAmB,CAAC;IACxB,MAAM,eAAe,KAAK,gBAAgB,CAAC,WAAW;IACtD,IAAI,aAAa,QAAQ,CAAC,YAAY,aAAa,QAAQ,CAAC,UAAU,qBAAO,6LAAC,qMAAA,CAAA,OAAI;QAAC,MAAM;QAAI,WAAU;;;;;;IACvG,IAAI,aAAa,QAAQ,CAAC,UAAU,aAAa,QAAQ,CAAC,QAAQ,qBAAO,6LAAC,6NAAA,CAAA,iBAAc;QAAC,MAAM;QAAI,WAAU;;;;;;IAC7G,IAAI,aAAa,QAAQ,CAAC,cAAc,aAAa,QAAQ,CAAC,aAAa,qBAAO,6LAAC,uMAAA,CAAA,QAAK;QAAC,MAAM;QAAI,WAAU;;;;;;IAC7G,qBAAO,6LAAC,qMAAA,CAAA,OAAI;QAAC,MAAM;QAAI,WAAU;;;;;;AACnC;AAEO,SAAS,WAAW,EAAE,IAAI,MAAM,EAAE,IAAI,EAAE,QAAQ,EAA6B;IAClF,MAAM,OAAO,iBAAiB;IAE9B,MAAM,iBAAiB;QACrB,IAAI,KAAK,eAAe,EAAE;YACxB,KAAK,eAAe,CAAC,KAAK,EAAE;QAC9B;IACF;IAEA,qBACE,6LAAC,mIAAA,CAAA,OAAI;QACH,WAAW,CAAC,wBAAwB,EAAE,WAAW,mCAAmC,gBAAgB,4BAA4B,CAAC;QACjI,OAAO;YAAE,UAAU;QAAU;;0BAE7B,6LAAC,+JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,+JAAA,CAAA,WAAQ,CAAC,GAAG;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC;gBAAE,WAAU;;;;;;0BAE/E,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;;wBACZ;sCACD,6LAAC,mIAAA,CAAA,YAAS;4BAAC,WAAU;4BAAsD,OAAO,KAAK,IAAI;sCACxF,KAAK,IAAI;;;;;;;;;;;;;;;;;0BAKhB,6LAAC,mIAAA,CAAA,cAAW;gBAAC,WAAU;0BACrB,cAAA,6LAAC,oIAAA,CAAA,QAAK;oBAAC,SAAQ;oBAAU,WAAU;8BAChC,KAAK,gBAAgB;;;;;;;;;;;YAIzB,KAAK,eAAe,kBAClB,6LAAC;gBAAI,WAAU;0BACZ,cAAA,6LAAC,qIAAA,CAAA,SAAM;oBACH,SAAQ;oBACR,MAAK;oBACL,WAAU;oBACV,SAAS;oBACT,cAAW;8BAEX,cAAA,6LAAC,qNAAA,CAAA,aAAU;wBAAC,MAAM;;;;;;;;;;;;;;;;0BAI5B,6LAAC,+JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,+JAAA,CAAA,WAAQ,CAAC,MAAM;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,OAAO,CAAC;gBAAE,WAAU;;;;;;0BACrF,6LAAC,+JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,+JAAA,CAAA,WAAQ,CAAC,MAAM;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,OAAO,CAAC;gBAAE,WAAU;;;;;;;;;;;;AAG3F;KAhDgB","debugId":null}},
    {"offset": {"line": 3385, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 3420, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,6KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3497, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3535, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/contract/ContractSettingsDialog.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n  DialogClose,\n} from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { PlusCircle, Trash2, Edit3, Users, Save, Landmark } from 'lucide-react';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Separator } from '@/components/ui/separator';\n\n// Exporting ContractClause interface\nexport interface ContractClause {\n  id: string;\n  text: string;\n}\n\ninterface ContractSettingsDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  clauses: ContractClause[];\n  onAddClause: (text: string) => void;\n  onRemoveClause: (id: string) => void;\n  onUpdateClause: (id: string, newText: string) => void;\n  dialogTitle?: string;\n  dialogDescription?: string;\n}\n\nconst suggestedClausesTemplates = {\n  partilhaBens: [\n    { id: 'sug_pb_1', text: \"Partilha de ativos em caso de dissolução da união: divisão de 50/50 dos ativos adquiridos em conjunto durante a vigência do acordo.\" },\n    { id: 'sug_pb_2', text: \"Ativos adquiridos individualmente antes da união permanecerão como propriedade individual de cada parte.\" },\n    { id: 'sug_pb_3', text: \"Em caso de aquisição do ativo [NOME DO ATIVO ESPECÍFICO], a propriedade será dividida em X% para Parte A e Z% para Parte B.\" },\n  ],\n  regrasConvivencia: [\n    { id: 'sug_rc_1', text: \"As despesas operacionais da união (ex: custos de manutenção, taxas) serão divididas da seguinte forma: [Descrever a divisão].\" },\n    { id: 'sug_rc_2', text: \"Decisões financeiras de grande porte (acima de [VALOR/MOEDA]) deverão ser discutidas e aprovadas por ambas as partes da união.\" },\n    { id: 'sug_rc_3', text: \"Contribuições e responsabilidades financeiras: [Definir regras para aportes, trabalho, etc.].\" },\n  ],\n};\n\nexport function ContractSettingsDialog({\n  isOpen,\n  onClose,\n  clauses,\n  onAddClause,\n  onRemoveClause,\n  onUpdateClause,\n  dialogTitle = \"Configurações dos Acordos\",\n  dialogDescription = \"Adicione, visualize, edite e gerencie as cláusulas do seu contrato. Este sistema é flexível para acomodar diversas configurações e acordos.\"\n}: ContractSettingsDialogProps) {\n  const [newClauseText, setNewClauseText] = useState('');\n  const [editingClauseId, setEditingClauseId] = useState<string | null>(null);\n  const [currentClauseTextForEdit, setCurrentClauseTextForEdit] = useState('');\n\n  const handleEditClick = (clause: ContractClause) => {\n    setEditingClauseId(clause.id);\n    setCurrentClauseTextForEdit(clause.text);\n  };\n\n  const handleSaveOrAddClause = () => {\n    const textToSave = editingClauseId ? currentClauseTextForEdit : newClauseText;\n    if (textToSave.trim()) {\n      if (editingClauseId) {\n        onUpdateClause(editingClauseId, textToSave.trim());\n      } else {\n        onAddClause(textToSave.trim());\n      }\n      setNewClauseText('');\n      setCurrentClauseTextForEdit('');\n      setEditingClauseId(null);\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setCurrentClauseTextForEdit('');\n    setEditingClauseId(null);\n  };\n\n  const handleAddSuggestion = (text: string) => {\n    if (editingClauseId) {\n        setCurrentClauseTextForEdit(prev => prev ? `${prev}\\n${text}` : text);\n    } else {\n        setNewClauseText(prev => prev ? `${prev}\\n${text}` : text);\n    }\n  };\n\n  useEffect(() => {\n    if (!isOpen) {\n      setNewClauseText('');\n      setCurrentClauseTextForEdit('');\n      setEditingClauseId(null);\n    }\n  }, [isOpen]);\n\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-2xl lg:max-w-4xl xl:max-w-6xl max-h-[90vh] flex flex-col bg-card border-border\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl text-primary\">{dialogTitle}</DialogTitle>\n          <DialogDescription className=\"text-muted-foreground\">\n            {dialogDescription}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 py-4 flex-grow min-h-0\">\n          <div className=\"md:col-span-2 flex flex-col min-h-0\">\n            <h3 className=\"text-lg font-semibold mb-3 text-foreground\">Cláusulas Atuais</h3>\n            {clauses.length === 0 ? (\n              <p className=\"text-sm text-muted-foreground text-center py-10\">Nenhuma cláusula adicionada ainda. Comece adicionando uma nova ou usando uma sugestão.</p>\n            ) : (\n              <ScrollArea className=\"flex-grow border border-border rounded-md p-4 bg-background max-h-[calc(90vh-350px)] md:max-h-none\">\n                <ul className=\"space-y-3\">\n                  {clauses.map((clause) => (\n                    <li key={clause.id} className=\"p-3 bg-card shadow rounded-md text-sm text-card-foreground border border-border/50\">\n                      <p className=\"whitespace-pre-wrap flex-grow mb-2\">{clause.text}</p>\n                      <div className=\"flex justify-end space-x-2\">\n                        <Button variant=\"ghost\" size=\"sm\" className=\"text-primary hover:text-primary/80\" onClick={() => handleEditClick(clause)}>\n                          <Edit3 size={16} className=\"mr-1\" /> Editar\n                        </Button>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"text-destructive hover:text-destructive/80\" onClick={() => onRemoveClause(clause.id)}>\n                          <Trash2 size={16} className=\"mr-1\" /> Remover\n                        </Button>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </ScrollArea>\n            )}\n          </div>\n\n          <div className=\"flex flex-col space-y-6 min-h-0\">\n            <div>\n              <Label htmlFor=\"clause-text-area\" className=\"text-lg font-semibold mb-2 text-foreground block\">\n                {editingClauseId ? 'Editar Cláusula' : 'Adicionar Nova Cláusula'}\n              </Label>\n              <Textarea\n                id=\"clause-text-area\"\n                value={editingClauseId ? currentClauseTextForEdit : newClauseText}\n                onChange={(e) => editingClauseId ? setCurrentClauseTextForEdit(e.target.value) : setNewClauseText(e.target.value)}\n                placeholder=\"Digite o texto da cláusula aqui...\"\n                className=\"min-h-[100px] bg-input text-foreground placeholder:text-muted-foreground\"\n                rows={5}\n              />\n              <div className=\"mt-3 flex flex-col sm:flex-row gap-2\">\n                <Button onClick={handleSaveOrAddClause} className=\"w-full sm:flex-1 bg-primary hover:bg-primary/90 text-primary-foreground\" disabled={!(editingClauseId ? currentClauseTextForEdit.trim() : newClauseText.trim())}>\n                  {editingClauseId ? <><Save size={18} className=\"mr-2\" /> Salvar Alterações</> : <><PlusCircle size={18} className=\"mr-2\" /> Adicionar Cláusula</>}\n                </Button>\n                {editingClauseId && (\n                  <Button variant=\"outline\" onClick={handleCancelEdit} className=\"w-full sm:w-auto text-foreground/90 border-border hover:bg-muted/80\">\n                    Cancelar Edição\n                  </Button>\n                )}\n              </div>\n            </div>\n\n            <Separator className=\"bg-border\"/>\n\n            <div>\n              <h3 className=\"text-lg font-semibold mb-3 text-foreground\">Sugestões de Cláusulas</h3>\n              <ScrollArea className=\"max-h-[calc(90vh-500px)] md:max-h-none pr-2\">\n                <div className=\"space-y-4\">\n                  <div>\n                    <h4 className=\"text-md font-semibold text-primary mb-1.5 flex items-center\"><Landmark size={18} className=\"mr-2\"/>Partilha de Ativos</h4>\n                    {suggestedClausesTemplates.partilhaBens.map(sug => (\n                        <Button key={sug.id} variant=\"outline\" size=\"sm\" className=\"text-xs w-full justify-start text-left h-auto py-1.5 mb-1.5 text-foreground/90 border-border hover:bg-muted/80\" onClick={() => handleAddSuggestion(sug.text)}>\n                         {sug.text}\n                        </Button>\n                    ))}\n                  </div>\n                  <div>\n                    <h4 className=\"text-md font-semibold text-primary mb-1.5 flex items-center\"><Users size={18} className=\"mr-2\"/>Regras da União</h4>\n                     {suggestedClausesTemplates.regrasConvivencia.map(sug => (\n                        <Button key={sug.id} variant=\"outline\" size=\"sm\" className=\"text-xs w-full justify-start text-left h-auto py-1.5 mb-1.5 text-foreground/90 border-border hover:bg-muted/80\" onClick={() => handleAddSuggestion(sug.text)}>\n                         {sug.text}\n                        </Button>\n                    ))}\n                  </div>\n                </div>\n              </ScrollArea>\n            </div>\n          </div>\n        </div>\n\n        <DialogFooter className=\"mt-auto pt-4 border-t border-border\">\n          <DialogClose asChild>\n            <Button type=\"button\" variant=\"outline\" className=\"text-foreground/90 border-border hover:bg-muted/80\">\n              Fechar\n            </Button>\n          </DialogClose>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4035, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28main%29/dashboard/page.tsx"],"sourcesContent":["\n\"use client\";\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '@/components/auth-provider';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { Loader2, Network, Settings, PlusCircle, DollarSign, Users, LayoutGrid, Plus } from 'lucide-react';\nimport { AssetForm } from '@/components/assets/AssetForm';\nimport type { AssetFormData, AssetTransaction } from '@/types/asset';\nimport { addAsset } from '@/actions/assetActions';\nimport { AddMemberForm } from '@/components/members/AddMemberForm';\nimport type { MemberFormData, Member } from '@/types/member'; // MemberFormData ainda espera tipoRelacao\nimport { addMember } from '@/actions/memberActions';\n\nimport { useToast } from '@/hooks/use-toast';\nimport ReactFlow, {\n  useNodesState,\n  useEdgesState,\n  addEdge,\n  Controls,\n  Background,\n  MarkerType,\n  Position,\n  type Node,\n  type Edge,\n  type OnConnect,\n  NodeOrigin,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\n\nimport { UnionNode, type UnionNodeData } from '@/components/nodes/UnionNode';\nimport { AssetNode, type ExtendedAssetNodeData } from '@/components/nodes/AssetNode';\nimport { MemberNode, type MemberNodeData as MemberNodeDataType } from '@/components/nodes/MemberNode';\nimport { ContractSettingsDialog, type ContractClause } from '@/components/contract/ContractSettingsDialog';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card';\nimport { format } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\nimport { Label } from '@/components/ui/label';\n\n\nconst UNION_NODE_ID = 'union-node';\nconst nodeOrigin: NodeOrigin = [0.5, 0.5];\n\nconst initialNodes: Node[] = [];\nconst initialEdges: Edge[] = [];\n\ninterface MemberWithBirthDate extends Member {\n  dataNascimento?: Date | string;\n}\n\nconst nodeTypes = {\n  unionNode: UnionNode,\n  assetNode: AssetNode,\n  memberNode: MemberNode,\n};\n\n\nexport default function AssetManagementDashboard() {\n  const { user, loading: authLoading } = useAuth();\n  const { toast } = useToast();\n\n  const [isAssetModalOpen, setIsAssetModalOpen] = useState(false);\n  const [isSubmittingAsset, setIsSubmittingAsset] = useState(false);\n  const [memberContextForAssetAdd, setMemberContextForAssetAdd] = useState<string | null>(null);\n\n\n  const [isAddMemberModalOpen, setIsAddMemberModalOpen] = useState(false);\n  const [isSubmittingMember, setIsSubmittingMember] = useState(false);\n\n  const [nodes, setNodes, onNodesChange] = useNodesState<Node<UnionNodeData | ExtendedAssetNodeData | MemberNodeDataType>[]>(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const [allMembers, setAllMembers] = useState<MemberWithBirthDate[]>([]);\n\n  const [isContractSettingsModalOpen, setIsContractSettingsModalOpen] = useState(false);\n  const [contractClauses, setContractClauses] = useState<ContractClause[]>([\n    { id: 'initial-1', text: 'Todos os ativos adquiridos conjuntamente serão divididos conforme acordado em caso de dissolução da sociedade.' },\n    { id: 'initial-2', text: 'As responsabilidades financeiras e operacionais serão divididas conforme definido neste registro.' },\n  ]);\n\n  const [isAssetDetailsModalOpen, setIsAssetDetailsModalOpen] = useState(false);\n  const [selectedAssetForDetails, setSelectedAssetForDetails] = useState<ExtendedAssetNodeData | null>(null);\n\n\n  const onConnect: OnConnect = useCallback(\n    (params) => setEdges((eds) => addEdge({ ...params, type: 'smoothstep', markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' } }, eds)),\n    [setEdges]\n  );\n\n  const handleOpenContractSettings = useCallback(() => {\n    setIsContractSettingsModalOpen(true);\n  }, []);\n\n  const handleAddContractClause = (text: string) => {\n    const newClause: ContractClause = {\n      id: `clause-${Date.now()}-${Math.random().toString(36).substring(2, 7)}`,\n      text,\n    };\n    setContractClauses(prev => [...prev, newClause]);\n    toast({ title: 'Cláusula Adicionada', description: 'Nova cláusula salva nos acordos.' });\n  };\n\n  const handleRemoveClause = (id: string) => {\n    setContractClauses(prev => prev.filter(clause => clause.id !== id));\n    toast({ title: 'Cláusula Removida', description: 'A cláusula foi removida dos acordos.' });\n  };\n\n  const handleUpdateContractClause = (id: string, newText: string) => {\n    setContractClauses(prev => prev.map(clause => clause.id === id ? { ...clause, text: newText } : clause));\n    toast({ title: 'Cláusula Atualizada', description: 'A cláusula foi modificada com sucesso.' });\n  };\n\n  const handleOpenAssetModalForUnion = useCallback(() => {\n    setMemberContextForAssetAdd(null);\n    setIsAssetModalOpen(true);\n  }, []);\n\n  const handleOpenAssetModalForMember = useCallback((memberId: string) => {\n    setMemberContextForAssetAdd(memberId);\n    setIsAssetModalOpen(true);\n  }, []);\n\n\n  const handleOpenAddMemberModal = useCallback(() => {\n    setIsAddMemberModalOpen(true);\n  }, []);\n\n  const handleOpenAssetDetailsModal = useCallback((assetData: ExtendedAssetNodeData) => {\n    setSelectedAssetForDetails(assetData);\n    setIsAssetDetailsModalOpen(true);\n  }, []);\n\n  const handleCloseAssetDetailsModal = useCallback(() => {\n    setIsAssetDetailsModalOpen(false);\n    setSelectedAssetForDetails(null);\n  }, []);\n\n  const effectiveUser = user || {\n    uid: 'mock-uid-default',\n    displayName: 'Minha União (Mock)',\n    email: 'mock@example.com',\n    relationshipStructure: '',\n    religion: '',\n    isWalletConnected: false,\n    connectedWalletAddress: null,\n    holdingType: '',\n    cnpjHolding: '',\n    contractClauses: [],\n  };\n\n\n useEffect(() => {\n    const currentUnionNode = nodes.find(node => node.id === UNION_NODE_ID);\n    let unionNodeCreated = false;\n\n    if (!currentUnionNode && !authLoading && effectiveUser?.displayName) {\n      const unionNode: Node<UnionNodeData> = {\n        id: UNION_NODE_ID,\n        type: 'unionNode',\n        position: { x: 400, y: 100 },\n        data: {\n          label: effectiveUser.displayName || 'Minha União',\n          onSettingsClick: handleOpenContractSettings,\n          onOpenAssetModal: handleOpenAssetModalForUnion,\n          onAddMember: handleOpenAddMemberModal,\n        },\n        draggable: true,\n        nodeOrigin,\n      };\n      setNodes([unionNode]);\n      setEdges([]);\n      unionNodeCreated = true;\n    } else if (currentUnionNode && effectiveUser?.displayName && (currentUnionNode.data as UnionNodeData).label !== effectiveUser.displayName) {\n      setNodes((nds) =>\n        nds.map((node) =>\n          node.id === UNION_NODE_ID\n            ? { ...node, data: { ...(node.data as UnionNodeData), label: effectiveUser.displayName! } }\n            : node\n        )\n      );\n    }\n\n    if (user?.isWalletConnected && (currentUnionNode || unionNodeCreated) && !authLoading) {\n        const mockDigitalAssetsData: Omit<ExtendedAssetNodeData, 'id' | 'userId' | 'onOpenDetails' | 'transactions'>[] = [\n            { nomeAtivo: 'Bitcoin', tipo: 'digital', quantidadeTotalDigital: 0.5, transactions: [{ id: 'tx-btc-1', dataAquisicao: new Date(), quantidadeDigital: 0.5, quemComprou: 'Carteira Conectada'}]},\n            { nomeAtivo: 'Ethereum', tipo: 'digital', quantidadeTotalDigital: 10, transactions: [{ id: 'tx-eth-1', dataAquisicao: new Date(), quantidadeDigital: 10, quemComprou: 'Carteira Conectada'}] },\n        ];\n\n        const nodesToAddThisRun: Node<ExtendedAssetNodeData>[] = [];\n        const edgesToAddThisRun: Edge[] = [];\n\n        mockDigitalAssetsData.forEach((mockAsset, index) => {\n            const assetId = `mock-${mockAsset.nomeAtivo.toLowerCase()}`;\n            const nodeExists = nodes.some(n => n.id === assetId);\n             if (!nodeExists) {\n                const assetDataForDetails: ExtendedAssetNodeData = {\n                    id: assetId,\n                    userId: effectiveUser.uid,\n                    nomeAtivo: mockAsset.nomeAtivo,\n                    tipo: 'digital',\n                    quantidadeTotalDigital: mockAsset.quantidadeTotalDigital,\n                    transactions: mockAsset.transactions,\n                    onOpenDetails: () => {}\n                };\n                assetDataForDetails.onOpenDetails = () => handleOpenAssetDetailsModal(assetDataForDetails);\n\n                const unionNodeInstance = nodes.find(n => n.id === UNION_NODE_ID) || { position: { x: 400, y: 100 }, height: 100 };\n                const sourceX = unionNodeInstance.position?.x ?? 400;\n                const sourceY = unionNodeInstance.position?.y ?? 100;\n                const existingDigitalAssetsCount = nodes.filter(n => n.type === 'assetNode' && (n.data as ExtendedAssetNodeData).tipo === 'digital' && !(n.data as ExtendedAssetNodeData).assignedToMemberId).length;\n\n                const angleStep = Math.PI / 4; // Spread for digital assets from union\n                const radius = 250 + Math.floor(existingDigitalAssetsCount / 6) * 80;\n                const angleStart = Math.PI / 2 - ((Math.max(0, existingDigitalAssetsCount -1)) * angleStep / 2);\n                const angle = angleStart + (index * angleStep) ;\n\n\n                nodesToAddThisRun.push({\n                    id: assetId, type: 'assetNode', position: { x: sourceX + radius * Math.cos(angle), y: sourceY + (unionNodeInstance?.height ?? 100) + 50 + radius * Math.sin(angle) }, draggable: true, nodeOrigin,\n                    data: assetDataForDetails\n                });\n                edgesToAddThisRun.push({\n                    id: `e-${UNION_NODE_ID}-${assetId}`,\n                    source: UNION_NODE_ID,\n                    target: assetId,\n                    type: 'smoothstep',\n                    markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' },\n                    style: { stroke: 'hsl(var(--primary))', strokeWidth: 1.5 },\n                });\n            }\n        });\n\n        if (nodesToAddThisRun.length > 0) {\n             setNodes(prevNodes => {\n                const currentIds = new Set(prevNodes.map(n => n.id));\n                const uniqueNewNodes = nodesToAddThisRun.filter(newNode => !currentIds.has(newNode.id));\n                return [...prevNodes, ...uniqueNewNodes];\n            });\n        }\n        if (edgesToAddThisRun.length > 0) {\n            setEdges(prevEdges => {\n                const currentEdgeIds = new Set(prevEdges.map(e => e.id));\n                const uniqueNewEdges = edgesToAddThisRun.filter(newEdge => !currentEdgeIds.has(newEdge.id));\n                return [...prevEdges, ...uniqueNewEdges];\n            });\n        }\n    }\n  }, [authLoading, effectiveUser, user?.isWalletConnected, handleOpenContractSettings, handleOpenAssetModalForUnion, handleOpenAddMemberModal, nodes, setNodes, setEdges]);\n\n\n  const memberHasBirthDate = (memberId?: string): boolean => {\n    if (!memberId) return false;\n    const member = allMembers.find(m => m.id === memberId);\n    return !!member?.dataNascimento;\n  };\n\n  const handleAddAssetSubmit = async (formData: AssetFormData) => {\n    if (!effectiveUser) {\n      toast({ title: 'Erro!', description: 'Usuário não autenticado.', variant: 'destructive' });\n      return;\n    }\n    setIsSubmittingAsset(true);\n    const result = await addAsset(formData, effectiveUser.uid); // addAsset is for physical assets\n\n    if (result.success && result.assetId && result.transactionId) {\n      toast({ title: 'Sucesso!', description: 'Ativo físico adicionado com sucesso.' });\n\n      const newTransaction: AssetTransaction = {\n        id: result.transactionId,\n        dataAquisicao: formData.dataAquisicao,\n        quemComprou: formData.quemComprou === \"Entidade Principal\" ? \"Entidade Principal\" : formData.quemComprou,\n        contribuicaoParceiro1: formData.contribuicaoParceiro1,\n        contribuicaoParceiro2: formData.contribuicaoParceiro2,\n        observacoes: formData.observacoes,\n      };\n\n      const processedAssignedToMemberId = memberContextForAssetAdd || (formData.assignedToMemberId === \"UNASSIGNED\" ? undefined : formData.assignedToMemberId);\n      const sourceNodeId = processedAssignedToMemberId || UNION_NODE_ID;\n      const sourceNodeInstance = nodes.find(n => n.id === sourceNodeId);\n\n      if (!sourceNodeInstance) {\n        console.error(\"Nó de origem (União Principal ou Membro) não encontrado.\", sourceNodeId);\n        setIsSubmittingAsset(false);\n        setMemberContextForAssetAdd(null);\n        return;\n      }\n\n      const assetNodesLinkedToSource = nodes.filter(n => {\n         if (n.type !== 'assetNode') return false;\n         const nodeData = n.data as ExtendedAssetNodeData;\n         let isLinkedToThisSource = false;\n         if (sourceNodeId === UNION_NODE_ID) {\n            isLinkedToThisSource = !nodeData.assignedToMemberId;\n         } else {\n            isLinkedToThisSource = nodeData.assignedToMemberId === sourceNodeId;\n         }\n         const edgeExists = edges.some(edge => edge.source === sourceNodeId && edge.target === n.id);\n         return isLinkedToThisSource && nodeData.tipo === 'fisico' && edgeExists;\n      }).length;\n\n\n      const angleStep = sourceNodeId === UNION_NODE_ID ? Math.PI / 4 : Math.PI / 3;\n      const radius = sourceNodeId === UNION_NODE_ID ? 250 + Math.floor(assetNodesLinkedToSource / 6) * 100 : 180 + Math.floor(assetNodesLinkedToSource / 4) * 70;\n      const sourceNodeX = sourceNodeInstance.position?.x ?? 400;\n      const sourceNodeY = sourceNodeInstance.position?.y ?? 100;\n      const sourceNodeHeight = sourceNodeInstance.height ?? (sourceNodeInstance.type === 'unionNode' ? 100 : 80);\n\n      let angleStart;\n      if (sourceNodeId === UNION_NODE_ID) { // Physical assets from Union Node\n          angleStart = (Math.PI * 1.5) - ((Math.max(0, assetNodesLinkedToSource -1)) * angleStep / 2) ; // Spread downwards\n      } else { // Assets from Member Node\n          angleStart = (Math.PI * 0.25) - ((Math.max(0, assetNodesLinkedToSource -1)) * angleStep / 2) ; // Spread to the right/bottom-right\n      }\n      const angle = angleStart + (assetNodesLinkedToSource * angleStep) ;\n\n      const newAssetNodeX = sourceNodeX + radius * Math.cos(angle);\n      const newAssetNodeY = sourceNodeY + sourceNodeHeight + 50 + radius * Math.sin(angle);\n\n      const nodeDataPayload: ExtendedAssetNodeData = {\n          id: result.assetId!,\n          userId: effectiveUser.uid,\n          nomeAtivo: formData.nomeAtivo,\n          tipo: 'fisico',\n          tipoImovelBemFisico: formData.tipoImovelBemFisico!,\n          enderecoLocalizacaoFisico: formData.enderecoLocalizacaoFisico,\n          transactions: [newTransaction],\n          assignedToMemberId: processedAssignedToMemberId,\n          releaseCondition: formData.setReleaseCondition && formData.releaseTargetAge && memberHasBirthDate(processedAssignedToMemberId) ? { type: 'age', targetAge: formData.releaseTargetAge } : undefined,\n          onOpenDetails: () => {}\n      };\n      nodeDataPayload.onOpenDetails = () => handleOpenAssetDetailsModal(nodeDataPayload);\n\n      const newAssetNodeReactFlow: Node<ExtendedAssetNodeData> = {\n        id: result.assetId!,\n        type: 'assetNode',\n        data: nodeDataPayload,\n        position: { x: newAssetNodeX, y: newAssetNodeY },\n        draggable: true,\n        nodeOrigin,\n      };\n\n      setNodes((prevNodes) => {\n        const existingNodeIndex = prevNodes.findIndex(node => node.id === result.assetId);\n        if (existingNodeIndex !== -1) {\n          return prevNodes;\n        }\n        return prevNodes.concat(newAssetNodeReactFlow);\n      });\n\n\n      const newEdge: Edge = {\n        id: `e-${sourceNodeId}-${result.assetId!}`,\n        source: sourceNodeId,\n        target: result.assetId!,\n        type: 'smoothstep',\n        markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' },\n        style: { stroke: 'hsl(var(--primary))', strokeWidth: 1.5 },\n      };\n      setEdges((prevEdges) => {\n         if (!prevEdges.find(edge => edge.id === newEdge.id)) {\n          return prevEdges.concat(newEdge);\n        }\n        return prevEdges;\n      });\n\n      setIsAssetModalOpen(false);\n      setMemberContextForAssetAdd(null);\n    } else {\n      toast({ title: 'Erro!', description: result.error || 'Não foi possível adicionar o ativo físico.', variant: 'destructive' });\n    }\n    setIsSubmittingAsset(false);\n  };\n\n  // data for handleAddMemberSubmit already includes tipoRelacao = 'filho_a'\n  const handleAddMemberSubmit = async (data: MemberFormData) => {\n    if (!effectiveUser) {\n      toast({ title: 'Erro!', description: 'Usuário não autenticado.', variant: 'destructive' });\n      return;\n    }\n    setIsSubmittingMember(true);\n    const result = await addMember(data, UNION_NODE_ID);\n    if (result.success && result.memberId) {\n      toast({ title: 'Sucesso!', description: 'Filho(a) adicionado com sucesso.' });\n\n       const newMember: MemberWithBirthDate = {\n        id: result.memberId,\n        unionId: UNION_NODE_ID,\n        nome: data.nome,\n        tipoRelacao: data.tipoRelacao, // Will be 'filho_a'\n        dataNascimento: data.dataNascimento,\n      };\n      setAllMembers(prev => [...prev, newMember]);\n\n      const unionNodeInstance = nodes.find(n => n.id === UNION_NODE_ID);\n      if (!unionNodeInstance) {\n        setIsSubmittingMember(false);\n        return;\n      }\n\n      const memberNodesCount = nodes.filter(n => n.type === 'memberNode').length;\n      const angleStep = Math.PI / 4;\n      const radius = 250 + Math.floor(memberNodesCount / 6) * 100;\n      const unionNodeX = unionNodeInstance.position?.x ?? 400;\n      const unionNodeY = unionNodeInstance.position?.y ?? 100;\n      const unionNodeHeight = unionNodeInstance.height ?? 100;\n\n      // Position members below the union node, spread out horizontally\n      const angleStart = (Math.PI * 1.5) - ((Math.max(0, memberNodesCount -1)) * angleStep / 2); // Spread downwards\n      const angle = angleStart + (memberNodesCount * angleStep);\n\n      const newMemberNodeX = unionNodeX + radius * Math.cos(angle);\n      const newMemberNodeY = unionNodeY + unionNodeHeight + 50 + radius * Math.sin(angle);\n\n      const nodeDataPayload: MemberNodeDataType = {\n        id: result.memberId,\n        name: data.nome,\n        relationshipType: data.tipoRelacao, // This will be 'filho_a'\n        onAddAssetClick: (memberId) => handleOpenAssetModalForMember(memberId),\n      };\n\n      const newMemberNodeReactFlow: Node<MemberNodeDataType> = {\n        id: result.memberId,\n        type: 'memberNode',\n        data: nodeDataPayload,\n        position: { x: newMemberNodeX, y: newMemberNodeY },\n        draggable: true,\n        nodeOrigin,\n      };\n      setNodes((prevNodes) => prevNodes.concat(newMemberNodeReactFlow));\n\n      const newEdge: Edge = {\n        id: `e-${UNION_NODE_ID}-${result.memberId}`,\n        source: UNION_NODE_ID,\n        target: result.memberId,\n        type: 'smoothstep',\n        markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--accent))' },\n        style: { stroke: 'hsl(var(--accent))', strokeWidth: 1.5 },\n      };\n      setEdges((prevEdges) => prevEdges.concat(newEdge));\n\n      setIsAddMemberModalOpen(false);\n    } else {\n      toast({ title: 'Erro!', description: result.error || 'Não foi possível adicionar o filho(a).', variant: 'destructive' });\n    }\n    setIsSubmittingMember(false);\n  };\n\n  const availableMembersForAssetForm = allMembers.map(member => ({\n      id: member.id!,\n      name: member.nome,\n      birthDate: member.dataNascimento,\n    }));\n\n  if (authLoading && !nodes.find(n => n.id === UNION_NODE_ID)) {\n    return (\n      <div className=\"flex min-h-[calc(100vh-var(--header-height,60px)-2rem)] items-center justify-center\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  const getMemberNameById = (memberId?: string) => {\n    if (!memberId || memberId === \"Entidade Principal\") return 'União Principal';\n    const member = allMembers.find(m => m.id === memberId);\n    return member ? member.nome : 'Membro Desconhecido';\n  };\n\n\n  return (\n    <div className=\"flex flex-col h-[calc(100vh-var(--header-height,60px)-1rem)] py-2\">\n      <Dialog open={isAssetModalOpen} onOpenChange={(isOpen) => {\n        setIsAssetModalOpen(isOpen);\n        if (!isOpen) {\n            setMemberContextForAssetAdd(null);\n        }\n      }}>\n        <DialogContent className=\"sm:max-w-[600px] max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Adicionar Novo Ativo Físico</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">Preencha os detalhes do seu ativo físico.</DialogDescription>\n          </DialogHeader>\n          <AssetForm\n            onSubmit={handleAddAssetSubmit}\n            isLoading={isSubmittingAsset}\n            onClose={() => {\n                setIsAssetModalOpen(false);\n                setMemberContextForAssetAdd(null);\n            }}\n            availableMembers={availableMembersForAssetForm}\n            targetMemberId={memberContextForAssetAdd}\n            user={user}\n          />\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isAddMemberModalOpen} onOpenChange={setIsAddMemberModalOpen}>\n        <DialogContent className=\"sm:max-w-[500px] max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Adicionar Novo Filho(a)</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">Insira os dados do novo filho(a) da sua união.</DialogDescription>\n          </DialogHeader>\n          <AddMemberForm onSubmit={handleAddMemberSubmit} isLoading={isSubmittingMember} onClose={() => setIsAddMemberModalOpen(false)} />\n        </DialogContent>\n      </Dialog>\n\n       <Dialog open={isAssetDetailsModalOpen} onOpenChange={handleCloseAssetDetailsModal}>\n        <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Detalhes do Ativo: {selectedAssetForDetails?.nomeAtivo}</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">\n              Informações sobre o ativo e histórico de aquisições.\n            </DialogDescription>\n          </DialogHeader>\n          {selectedAssetForDetails && (\n            <div className=\"space-y-4 py-4 text-sm\">\n              <div>\n                <Label className=\"text-xs font-medium text-muted-foreground\">Nome do Ativo</Label>\n                <p className=\"font-semibold text-foreground\">{selectedAssetForDetails.nomeAtivo}</p>\n              </div>\n              <div>\n                <Label className=\"text-xs font-medium text-muted-foreground\">Tipo Principal</Label>\n                <p className=\"text-foreground capitalize\">{selectedAssetForDetails.tipo}</p>\n              </div>\n\n              {selectedAssetForDetails.tipo === 'digital' && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">Quantidade Total</Label>\n                  <p className=\"text-foreground\">{(selectedAssetForDetails as ExtendedAssetNodeData).quantidadeTotalDigital?.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 }) || 'N/A'}</p>\n                </div>\n              )}\n              {selectedAssetForDetails.tipo === 'fisico' && (\n                <>\n                  <div>\n                    <Label className=\"text-xs font-medium text-muted-foreground\">Tipo de Bem Físico</Label>\n                    <p className=\"text-foreground\">{(selectedAssetForDetails as ExtendedAssetNodeData).tipoImovelBemFisico || 'Não especificado'}</p>\n                  </div>\n                  {(selectedAssetForDetails as ExtendedAssetNodeData).enderecoLocalizacaoFisico && (\n                    <div>\n                        <Label className=\"text-xs font-medium text-muted-foreground\">Endereço/Localização</Label>\n                        <p className=\"text-foreground\">{(selectedAssetForDetails as ExtendedAssetNodeData).enderecoLocalizacaoFisico}</p>\n                    </div>\n                  )}\n                </>\n              )}\n\n              {selectedAssetForDetails.assignedToMemberId && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">Designado para</Label>\n                  <p className=\"text-foreground\">{getMemberNameById(selectedAssetForDetails.assignedToMemberId)}</p>\n                </div>\n              )}\n              {selectedAssetForDetails.releaseCondition?.type === 'age' && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">Condição de Liberação</Label>\n                  <p className=\"text-foreground\">Liberar aos {selectedAssetForDetails.releaseCondition.targetAge} anos</p>\n                </div>\n              )}\n              {selectedAssetForDetails.observacoesGerais && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">Observações Gerais do Ativo</Label>\n                  <p className=\"text-foreground whitespace-pre-wrap\">{selectedAssetForDetails.observacoesGerais}</p>\n                </div>\n              )}\n\n              <div className=\"space-y-3 pt-3 mt-3 border-t border-border/50\">\n                <h4 className=\"text-md font-semibold text-primary\">Histórico de Aquisições/Transações</h4>\n                 {selectedAssetForDetails.transactions && selectedAssetForDetails.transactions.length > 0 ? (\n                  <div className=\"max-h-60 overflow-y-auto space-y-4 pr-2\">\n                    {selectedAssetForDetails.transactions.map((tx, index) => (\n                      <Card key={tx.id || index} className=\"p-3 bg-muted/50 border-border/30\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2\">\n                          <div>\n                            <Label className=\"text-xs font-medium text-muted-foreground\">Data da Aquisição</Label>\n                            <p className=\"text-foreground\">{format(new Date(tx.dataAquisicao), \"dd/MM/yyyy 'às' HH:mm\", { locale: ptBR })}</p>\n                          </div>\n                          {tx.quantidadeDigital !== undefined && selectedAssetForDetails.tipo === 'digital' && (\n                            <div>\n                              <Label className=\"text-xs font-medium text-muted-foreground\">Quantidade Adquirida</Label>\n                              <p className=\"text-foreground\">{tx.quantidadeDigital.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 })}</p>\n                            </div>\n                          )}\n                          {tx.valorPagoEpoca !== undefined && (\n                            <div>\n                              <Label className=\"text-xs font-medium text-muted-foreground\">Valor Pago na Época</Label>\n                              <p className=\"text-foreground\">{typeof tx.valorPagoEpoca === 'number' ? tx.valorPagoEpoca.toLocaleString(undefined, { style: 'currency', currency: 'BRL' }) : tx.valorPagoEpoca}</p>\n                            </div>\n                          )}\n                           {tx.quemComprou && (\n                            <div>\n                              <Label className=\"text-xs font-medium text-muted-foreground\">Adquirido por</Label>\n                              <p className=\"text-foreground\">{tx.quemComprou === \"Entidade Principal\" ? \"União Principal\" : getMemberNameById(tx.quemComprou)}</p>\n                            </div>\n                          )}\n                          {tx.quemComprou === 'Ambos' && effectiveUser?.displayName && (\n                            <>\n                              {tx.contribuicaoParceiro1 !== undefined && (\n                                <div>\n                                  <Label className=\"text-xs font-medium text-muted-foreground\">Contrib. ({effectiveUser.displayName.split('&')[0]?.trim() || 'Parte 1'})</Label>\n                                  <p className=\"text-foreground\">{tx.contribuicaoParceiro1.toLocaleString(undefined, { style: 'currency', currency: 'BRL' })}</p>\n                                </div>\n                              )}\n                              {tx.contribuicaoParceiro2 !== undefined && (\n                                <div>\n                                  <Label className=\"text-xs font-medium text-muted-foreground\">Contrib. ({effectiveUser.displayName.split('&')[1]?.trim() || 'Parte 2'})</Label>\n                                  <p className=\"text-foreground\">{tx.contribuicaoParceiro2.toLocaleString(undefined, { style: 'currency', currency: 'BRL' })}</p>\n                                </div>\n                              )}\n                            </>\n                          )}\n                        </div>\n                        {tx.observacoes && (\n                          <div className=\"mt-2 pt-2 border-t border-dashed border-border/30\">\n                            <Label className=\"text-xs font-medium text-muted-foreground\">Observações da Transação</Label>\n                            <p className=\"text-foreground whitespace-pre-wrap text-xs\">{tx.observacoes}</p>\n                          </div>\n                        )}\n                      </Card>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-muted-foreground\">Nenhuma transação registrada para este ativo.</p>\n                )}\n                 {selectedAssetForDetails.tipo === 'digital' && selectedAssetForDetails.transactions && selectedAssetForDetails.transactions.length > 1 &&(\n                  <p className=\"text-xs text-muted-foreground mt-2\">\n                    Nota: Detalhes como \"Data de Aquisição\" e \"Valor Pago\" no cabeçalho do ativo refletem a última transação. Consulte o histórico para todas as entradas.\n                  </p>\n                )}\n              </div>\n\n              <div className=\"pt-4\">\n                <Button onClick={handleCloseAssetDetailsModal} className=\"w-full\" variant=\"outline\">Fechar</Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n\n      <ContractSettingsDialog\n        isOpen={isContractSettingsModalOpen}\n        onClose={() => setIsContractSettingsModalOpen(false)}\n        clauses={contractClauses}\n        onAddClause={handleAddContractClause}\n        onRemoveClause={handleRemoveClause}\n        onUpdateClause={handleUpdateContractClause}\n      />\n\n      <div className=\"flex-grow shadow-lg relative overflow-hidden rounded-md border-2 border-dashed border-border bg-background\">\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          nodeTypes={nodeTypes}\n          fitView\n          fitViewOptions={{ padding: 0.2, duration: 800 }}\n          attributionPosition=\"bottom-left\"\n          proOptions={{ hideAttribution: true }}\n          nodeOrigin={nodeOrigin}\n          defaultViewport={{ x: 0, y: 0, zoom: 0.8 }}\n        >\n          <Controls showFitView={false} showInteractive={false} />\n          <Background gap={16} color=\"hsl(var(--border))\" />\n        </ReactFlow>\n      </div>\n    </div>\n  );\n}\n\ndeclare module 'reactflow' {\n  interface NodeData {\n    id?: string; // Adicionado para consistência, já que usamos nos dados do nó\n    label?: string; // Já existe, mas bom ter explícito\n    name?: string; // Para MemberNode\n    relationshipType?: string; // Para MemberNode\n    onAddAssetClick?: (memberId: string) => void; // Para MemberNode\n    onSettingsClick?: () => void; // Para UnionNode\n    onOpenAssetModal?: () => void; // Para UnionNode\n    onAddMember?: () => void; // Para UnionNode\n    // Campos de ExtendedAssetNodeData\n    userId?: string;\n    nomeAtivo?: string;\n    tipo?: 'digital' | 'fisico';\n    quantidadeTotalDigital?: number;\n    tipoImovelBemFisico?: string;\n    enderecoLocalizacaoFisico?: string;\n    transactions?: AssetTransaction[];\n    assignedToMemberId?: string;\n    releaseCondition?: { type: 'age'; targetAge: number };\n    observacoesGerais?: string;\n    onOpenDetails?: () => void;\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}