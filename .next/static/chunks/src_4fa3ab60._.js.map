{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,uKAAA,CAAA,YAA2B;YAC1B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE;sBAEd,cAAA,6LAAC,uMAAA,CAAA,QAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,uKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n"],"names":[],"mappings":";;;;AAGA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;AAWA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,6LAAC,iKAAA,CAAA,YAAS;QACR,iBAAiB;QACjB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,OAAO;QACrB,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,KAAK;YACL,YAAY,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACX,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM;YACN,KAAK,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACJ,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAQ,IAClC;YAEF,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAChC,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;YAE7D,WAAW,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBACjC,6LAAC,yNAAA,CAAA,eAAY;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;QAEhE;QACC,GAAG,KAAK;;;;;;AAGf;KAvDS;AAwDT,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 586, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 634, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/assets/AssetForm.tsx"],"sourcesContent":["\n\"use client\";\nimport { useState, useEffect, useMemo } from 'react';\nimport { useForm, Controller, FieldPath } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { CalendarIcon, Loader2, Save, ArrowLeft, ArrowRight, UserCheck, Clock, Building, RefreshCw } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { format, isValid } from 'date-fns';\nimport { enUS } from 'date-fns/locale';\nimport type { AssetFormData } from '@/types/asset';\nimport { useAuth, getPartnerNames } from '@/components/auth-provider'; // Import useAuth and getPartnerNames\n\n// Schema exclusively for Physical Assets\nconst createAssetFormSchema = (memberHasBirthDateContext?: boolean) => {\n  return z.object({\n    nomeAtivo: z.string().min(1, 'Asset name is required.'),\n    dataAquisicao: z.date({ required_error: \"Acquisition date is required.\" }),\n    observacoes: z.string().optional(), \n    \n    quemComprou: z.string().optional(), \n    contribuicaoParceiro1: z.preprocess(\n      (val) => String(val) === '' || val === undefined || val === null ? undefined : parseFloat(String(val).replace(',', '.')),\n      z.number().min(0, 'Contribution must be a positive value.').optional()\n    ),\n    contribuicaoParceiro2: z.preprocess(\n      (val) => String(val) === '' || val === undefined || val === null ? undefined : parseFloat(String(val).replace(',', '.')),\n      z.number().min(0, 'Contribution must be a positive value.').optional()\n    ),\n    \n    tipoImovelBemFisico: z.string().min(1, \"Type of physical good is required.\"),\n    enderecoLocalizacaoFisico: z.string().optional(),\n    documentacaoFisicoFile: z.any().optional(), \n\n    assignedToMemberId: z.string().optional().nullable(),\n    setReleaseCondition: z.boolean().optional(),\n    releaseTargetAge: z.preprocess(\n      (val) => String(val) === '' || val === undefined || val === null ? undefined : parseInt(String(val), 10),\n      z.number().min(1, \"Age must be positive.\").max(120, \"Unrealistic age.\").optional()\n    ),\n  }).superRefine((data, ctx) => {\n    if (data.setReleaseCondition && memberHasBirthDateContext && (data.releaseTargetAge === undefined || data.releaseTargetAge === null || isNaN(data.releaseTargetAge))) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'Release age is required and must be a valid number if condition is checked and member has birth date.',\n        path: ['releaseTargetAge']\n      });\n    }\n  });\n};\n\ninterface AssetFormProps {\n  onSubmit: (data: AssetFormData) => Promise<void>;\n  isLoading: boolean;\n  onClose: () => void;\n  availableMembers: { id: string; name: string; birthDate?: Date | string }[];\n  targetMemberId?: string | null;\n}\n\nconst TOTAL_STEPS_PHYSICAL = 3; // 1. Basic Info, 2. Ownership, 3. Physical Details & Assignment\n\nexport function AssetForm({\n  onSubmit,\n  isLoading: isSubmittingForm,\n  onClose,\n  availableMembers = [],\n  targetMemberId,\n}: AssetFormProps) {\n  const { user } = useAuth(); // Get user from context\n  const [currentStep, setCurrentStep] = useState(1);\n  const [formError, setFormError] = useState<string | null>(null);\n  \n  const [partnerLabels, setPartnerLabels] = useState<[string, string]>([\"Partner 1\", \"Partner 2\"]);\n  \n  useEffect(() => {\n    if (user?.partners) {\n      setPartnerLabels(getPartnerNames(user.partners));\n    }\n  }, [user]);\n\n  const watchedAssignedToMemberId = useMemo(() => targetMemberId, [targetMemberId]);\n  const currentAssignedMember = availableMembers.find(m => m.id === watchedAssignedToMemberId);\n  const memberHasBirthDateForSchema = !!currentAssignedMember?.birthDate;\n  const currentAssetFormSchema = useMemo(() => createAssetFormSchema(memberHasBirthDateForSchema), [memberHasBirthDateForSchema]);\n  \n  const form = useForm<AssetFormData>({\n    resolver: zodResolver(currentAssetFormSchema),\n    mode: \"onChange\", \n    defaultValues: {\n      nomeAtivo: '',\n      dataAquisicao: new Date(),\n      observacoes: '',\n      quemComprou: undefined, \n      contribuicaoParceiro1: undefined,\n      contribuicaoParceiro2: undefined,\n      tipoImovelBemFisico: '',\n      enderecoLocalizacaoFisico: '',\n      documentacaoFisicoFile: undefined,\n      assignedToMemberId: targetMemberId || undefined,\n      setReleaseCondition: false,\n      releaseTargetAge: undefined,\n    },\n  });\n  \n  useEffect(() => {\n    let defaultVals: AssetFormData = {\n      nomeAtivo: '',\n      dataAquisicao: new Date(),\n      observacoes: '',\n      quemComprou: undefined,\n      contribuicaoParceiro1: undefined,\n      contribuicaoParceiro2: undefined,\n      tipoImovelBemFisico: '',\n      enderecoLocalizacaoFisico: '',\n      documentacaoFisicoFile: undefined,\n      assignedToMemberId: targetMemberId || undefined,\n      setReleaseCondition: false,\n      releaseTargetAge: undefined,\n    };\n    form.reset(defaultVals);\n    setCurrentStep(1);\n    setFormError(null);\n  }, [targetMemberId, form]); // form.reset is stable, but form itself should be in deps\n\n  const handleFormSubmit = async (values: AssetFormData) => {\n    setFormError(null);\n    const processedValues: AssetFormData = {\n      ...values,\n      quemComprou: values.quemComprou === \"UNSPECIFIED_BUYER\" ? undefined : values.quemComprou,\n      assignedToMemberId: values.assignedToMemberId === \"UNASSIGNED\" || values.assignedToMemberId === null || values.assignedToMemberId === '' ? undefined : values.assignedToMemberId,\n      contribuicaoParceiro1: values.contribuicaoParceiro1 === null ? undefined : values.contribuicaoParceiro1,\n      contribuicaoParceiro2: values.contribuicaoParceiro2 === null ? undefined : values.contribuicaoParceiro2,\n      releaseTargetAge: values.releaseTargetAge === null ? undefined : values.releaseTargetAge,\n    };\n    try {\n      await onSubmit(processedValues);\n    } catch (error: any) {\n      setFormError(error.message || \"An unexpected error occurred.\");\n    }\n  };\n  \n  const validateStep = async (stepToValidate: number): Promise<boolean> => {\n    setFormError(null);\n    let fieldsToTrigger: FieldPath<AssetFormData>[] = [];\n\n    if (stepToValidate === 1) {\n      fieldsToTrigger = ['nomeAtivo', 'dataAquisicao'];\n    } else if (stepToValidate === 2) {\n      // Fields are optional or have defaults.\n    } else if (stepToValidate === 3) {\n      fieldsToTrigger = ['tipoImovelBemFisico']; // Primary required field for this step.\n      if(form.getValues('setReleaseCondition') && memberHasBirthDateForSchema){\n        fieldsToTrigger.push('releaseTargetAge');\n      }\n    }\n\n    if (fieldsToTrigger.length > 0) {\n      const result = await form.trigger(fieldsToTrigger);\n      if (!result) {\n        const errors = form.formState.errors;\n        for (const field of fieldsToTrigger) {\n          if (errors[field]) {\n            setFormError((errors[field] as any)?.message || \"Please fill out required fields correctly.\");\n            return false;\n          }\n        }\n        if (Object.keys(errors).length > 0) {\n            const firstErrorKey = Object.keys(errors)[0] as FieldPath<AssetFormData>;\n            setFormError((errors[firstErrorKey] as any)?.message || \"Please correct the highlighted fields.\");\n        } else {\n            setFormError(\"Please ensure all fields for this step are valid.\");\n        }\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const handleNextStep = async () => {\n    if (await validateStep(currentStep)) {\n      if (currentStep < TOTAL_STEPS_PHYSICAL) {\n        setCurrentStep(currentStep + 1);\n      }\n    }\n  };\n\n  const handlePreviousStep = () => {\n    setFormError(null);\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n  \n  const watchedNomeAtivo = form.watch('nomeAtivo');\n  const watchedDataAquisicao = form.watch('dataAquisicao');\n  const watchedTipoImovel = form.watch('tipoImovelBemFisico');\n\n  const isNextButtonDisabled = () => {\n    if (isSubmittingForm) return true;\n\n    if (currentStep === 1) {\n      const isNomeFilled = watchedNomeAtivo && watchedNomeAtivo.trim().length > 0;\n      const isDataValid = !!watchedDataAquisicao && isValid(new Date(watchedDataAquisicao));\n      return !(isNomeFilled && isDataValid);\n    }\n    if (currentStep === 2) { \n      return false; \n    }\n    if (currentStep === 3) { // This is the final step, button is \"Save\"\n        return !form.formState.isValid; // Button is \"Save\", rely on overall form validity\n    }\n    return false; \n  };\n  \n  const watchedQuemComprou = form.watch('quemComprou');\n  const localWatchedAssignedToMemberId = form.watch('assignedToMemberId');\n  const localCurrentAssignedMember = availableMembers.find(m => m.id === localWatchedAssignedToMemberId);\n  const watchedSetReleaseCondition = form.watch('setReleaseCondition');\n\n\n  return (\n    <form onSubmit={form.handleSubmit(handleFormSubmit)} className=\"space-y-6\">\n      <p className=\"text-sm text-center text-muted-foreground\">\n        Add New Physical Asset (Step {currentStep} of {TOTAL_STEPS_PHYSICAL})\n      </p>\n\n      {currentStep === 1 && (\n        <>\n          <div className=\"space-y-1.5\">\n            <Label htmlFor=\"nomeAtivoFisicoInput\" className=\"text-foreground/90\">Physical Asset Name</Label>\n            <Controller\n                name=\"nomeAtivo\"\n                control={form.control}\n                render={({ field }) => (\n                    <Input\n                        id=\"nomeAtivoFisicoInput\"\n                        {...field}\n                        placeholder={\"Ex: Beach House, SUV Car, Artwork\"}\n                        disabled={isSubmittingForm}\n                        autoFocus\n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                    />\n                )}\n            />\n            {form.formState.errors.nomeAtivo && <p className=\"text-sm text-destructive\">{form.formState.errors.nomeAtivo.message}</p>}\n          </div>\n          <div className=\"space-y-1.5\">\n            <Label htmlFor=\"dataAquisicao\" className=\"text-foreground/90\">Acquisition/Transaction Date</Label>\n            <Controller\n              name=\"dataAquisicao\"\n              control={form.control}\n              defaultValue={new Date()}\n              render={({ field }) => (\n                <Popover>\n                  <PopoverTrigger asChild>\n                    <Button\n                      variant={\"outline\"}\n                      className={cn(\"w-full justify-start text-left font-normal bg-input text-foreground hover:bg-input/80\",!field.value && \"text-muted-foreground\")}\n                      disabled={isSubmittingForm}\n                    >\n                      <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                      {field.value && isValid(new Date(field.value)) ? format(new Date(field.value), \"PPP 'at' HH:mm\", { locale: enUS }) : <span>Choose date and time</span>}\n                    </Button>\n                  </PopoverTrigger>\n                  <PopoverContent className=\"w-auto p-0 bg-popover border-border\">\n                    <Calendar\n                      mode=\"single\"\n                      selected={field.value && isValid(new Date(field.value)) ? new Date(field.value) : undefined}\n                      onSelect={(date) => {\n                        const currentVal = field.value && isValid(new Date(field.value)) ? new Date(field.value) : new Date();\n                        const newDate = date ? new Date(date) : currentVal; \n                        \n                        let currentHours = currentVal.getHours();\n                        let currentMinutes = currentVal.getMinutes();\n\n                        if(date){ \n                            newDate.setHours(currentHours);\n                            newDate.setMinutes(currentMinutes);\n                        }\n                        field.onChange(newDate);\n                      }}\n                      initialFocus\n                      locale={enUS}\n                      disabled={(date) => date > new Date() || date < new Date(\"1900-01-01\") || isSubmittingForm}\n                    />\n                    <div className=\"p-2 border-t border-border\">\n                      <Label htmlFor=\"time\" className=\"text-sm text-foreground/90\">Time of Acquisition/Transaction</Label>\n                       <Input\n                        id=\"time\"\n                        type=\"time\"\n                        defaultValue={field.value && isValid(new Date(field.value)) ? format(new Date(field.value), \"HH:mm\") : \"00:00\"}\n                        onChange={(e) => {\n                            const currentTimeVal = field.value && isValid(new Date(field.value)) ? new Date(field.value) : new Date();\n                            const [hours, minutes] = e.target.value.split(':');\n                            if (isValid(currentTimeVal) && hours && minutes) {\n                                currentTimeVal.setHours(parseInt(hours,10));\n                                currentTimeVal.setMinutes(parseInt(minutes,10));\n                                field.onChange(new Date(currentTimeVal));\n                            }\n                        }}\n                        className=\"w-full mt-1 bg-input text-foreground\"\n                        disabled={isSubmittingForm}\n                       />\n                    </div>\n                  </PopoverContent>\n                </Popover>\n              )}\n            />\n            {form.formState.errors.dataAquisicao && <p className=\"text-sm text-destructive\">{form.formState.errors.dataAquisicao.message}</p>}\n          </div>\n           <div className=\"space-y-1.5\">\n            <Label htmlFor=\"observacoes\" className=\"text-foreground/90\">Transaction Notes (Optional)</Label>\n            <Controller\n                name=\"observacoes\"\n                control={form.control}\n                render={({ field }) => (\n                    <Input \n                        id=\"observacoes\" \n                        {...field} \n                        value={field.value || ''}\n                        placeholder=\"Any notes about this transaction\" \n                        disabled={isSubmittingForm} \n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                    />\n                )}\n            />\n            {form.formState.errors.observacoes && <p className=\"text-sm text-destructive\">{form.formState.errors.observacoes.message}</p>}\n          </div>\n        </>\n      )}\n\n      {currentStep === 2 && (\n        <>\n          <div className=\"space-y-1.5\">\n            <Label htmlFor=\"quemComprou\" className=\"text-foreground/90\">Who Acquired/Contributed in this Transaction? (Optional)</Label>\n            <Controller\n              name=\"quemComprou\"\n              control={form.control}\n              render={({ field }) => (\n                <Select\n                  onValueChange={(value) => field.onChange(value === \"UNSPECIFIED_BUYER\" ? undefined : value)}\n                  value={field.value === \"\" || field.value === undefined ? \"UNSPECIFIED_BUYER\" : field.value}\n                  disabled={isSubmittingForm}\n                >\n                  <SelectTrigger id=\"quemComprou\" className=\"bg-input text-foreground\">\n                    <SelectValue placeholder=\"Select who acquired\" />\n                  </SelectTrigger>\n                  <SelectContent className=\"bg-popover text-popover-foreground\">\n                    <SelectItem value=\"UNSPECIFIED_BUYER\">Unspecified</SelectItem>\n                    <SelectItem value=\"Main Union (Ipê Acta)\">Main Union (Ipê Acta)</SelectItem>\n                    {user?.partners?.map((partner, index) => (\n                       partner.name && <SelectItem key={`partner-${index}-${partner.name}`} value={partner.name}>{partner.name}</SelectItem>\n                    ))}\n                    {(user?.partners && user.partners.length > 1 && user.partners.every(p => p.name)) && <SelectItem value=\"Ambos\">Both ({getPartnerNames(user.partners).join(' & ')})</SelectItem>}\n                  </SelectContent>\n                </Select>\n              )}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              Partner names are based on signup. If not shown, check profile.\n            </p>\n            {form.formState.errors.quemComprou && <p className=\"text-sm text-destructive\">{form.formState.errors.quemComprou.message}</p>}\n          </div>\n\n          {watchedQuemComprou === 'Ambos' && (\n            <div className=\"space-y-4 mt-4 p-4 border rounded-md bg-muted/30\">\n              <h4 className=\"text-md font-semibold text-primary\">Contribution Details (Optional)</h4>\n              <div className=\"space-y-1.5\">\n                <Label htmlFor=\"contribuicaoParceiro1\" className=\"text-foreground/90\">Amount Contributed by {partnerLabels[0]}</Label>\n                 <Controller\n                    name=\"contribuicaoParceiro1\"\n                    control={form.control}\n                    render={({ field }) => (\n                        <Input\n                        id=\"contribuicaoParceiro1\"\n                        type=\"number\"\n                        {...field}\n                        value={field.value === undefined || field.value === null ? '' : String(field.value)}\n                        onChange={e => field.onChange(e.target.value === '' ? undefined : parseFloat(e.target.value))}\n                        placeholder=\"0.00\"\n                        disabled={isSubmittingForm}\n                        step=\"0.01\"\n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                        />\n                    )}\n                />\n                {form.formState.errors.contribuicaoParceiro1 && <p className=\"text-sm text-destructive\">{form.formState.errors.contribuicaoParceiro1.message}</p>}\n              </div>\n              <div className=\"space-y-1.5\">\n                <Label htmlFor=\"contribuicaoParceiro2\" className=\"text-foreground/90\">Amount Contributed by {partnerLabels[1]}</Label>\n                 <Controller\n                    name=\"contribuicaoParceiro2\"\n                    control={form.control}\n                    render={({ field }) => (\n                        <Input\n                        id=\"contribuicaoParceiro2\"\n                        type=\"number\"\n                        {...field}\n                        value={field.value === undefined || field.value === null ? '' : String(field.value)}\n                        onChange={e => field.onChange(e.target.value === '' ? undefined : parseFloat(e.target.value))}\n                        placeholder=\"0.00\"\n                        disabled={isSubmittingForm}\n                        step=\"0.01\"\n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                        />\n                    )}\n                />\n                {form.formState.errors.contribuicaoParceiro2 && <p className=\"text-sm text-destructive\">{form.formState.errors.contribuicaoParceiro2.message}</p>}\n              </div>\n            </div>\n          )}\n        </>\n      )}\n\n      {currentStep === 3 && (\n        <>\n          <div className=\"space-y-4 p-4 border rounded-md bg-muted/30 mb-4\">\n            <h4 className=\"text-md font-semibold text-primary\">Physical Asset Details</h4>\n            <div className=\"space-y-1.5\">\n              <Label htmlFor=\"tipoImovelBemFisico\" className=\"text-foreground/90\">Type of Physical Good</Label>\n              <Controller\n                name=\"tipoImovelBemFisico\"\n                control={form.control}\n                render={({ field }) => (\n                    <Input\n                        id=\"tipoImovelBemFisico\"\n                        {...field}\n                        placeholder={\"Ex: Residential Property, Vehicle, Artwork\"}\n                        disabled={isSubmittingForm}\n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                    />\n                )}\n              />\n              {form.formState.errors.tipoImovelBemFisico && <p className=\"text-sm text-destructive\">{form.formState.errors.tipoImovelBemFisico.message}</p>}\n            </div>\n            <div className=\"space-y-1.5\">\n              <Label htmlFor=\"enderecoLocalizacaoFisico\" className=\"text-foreground/90\">Address/Location (Optional)</Label>\n              <Controller\n                name=\"enderecoLocalizacaoFisico\"\n                control={form.control}\n                render={({ field }) => (\n                    <Input\n                        id=\"enderecoLocalizacaoFisico\"\n                        {...field}\n                        value={field.value || ''}\n                        placeholder=\"Ex: 123 Example St, City - State\"\n                        disabled={isSubmittingForm}\n                        className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                    />\n                )}\n              />\n              {form.formState.errors.enderecoLocalizacaoFisico && <p className=\"text-sm text-destructive\">{form.formState.errors.enderecoLocalizacaoFisico.message}</p>}\n            </div>\n            <div className=\"space-y-1.5\">\n              <Label htmlFor=\"documentacaoFisicoFile\" className=\"text-foreground/90\">Documentation (Optional)</Label>\n              <Controller\n                name=\"documentacaoFisicoFile\"\n                control={form.control}\n                render={({ field: { onChange, onBlur, name, ref } }) => (\n                    <Input\n                        id=\"documentacaoFisicoFile\"\n                        type=\"file\" \n                        onBlur={onBlur}\n                        name={name}\n                        ref={ref}\n                        onChange={(e) => onChange(e.target.files)}\n                        disabled={isSubmittingForm}\n                        className=\"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/20 file:text-primary-foreground hover:file:bg-primary/30 text-foreground/90\"\n                    />\n                )}\n              />\n              <p className=\"text-xs text-muted-foreground\">Max 5MB. Types: JPG, PNG, PDF.</p>\n              {form.formState.errors.documentacaoFisicoFile && <p className=\"text-sm text-destructive\">{String(form.formState.errors.documentacaoFisicoFile.message)}</p>}\n            </div>\n          </div>\n\n          {(!targetMemberId || targetMemberId === \"UNASSIGNED_TARGET\") && ( \n            <div className=\"space-y-4 p-4 border rounded-md bg-card\">\n                <h4 className=\"text-md font-semibold text-primary flex items-center\"><UserCheck size={18} className=\"mr-2\"/> Asset Designation and Release (Optional)</h4>\n                <div className=\"space-y-1.5\">\n                <Label htmlFor=\"assignedToMemberId\" className=\"text-foreground/90\">Assign Asset to Member</Label>\n                <Controller\n                    name=\"assignedToMemberId\"\n                    control={form.control}\n                    render={({ field }) => (\n                    <Select\n                        onValueChange={(value) => field.onChange(value === \"UNASSIGNED\" ? undefined : value)}\n                        value={field.value === null || field.value === undefined || field.value === '' ? \"UNASSIGNED\" : field.value}\n                        disabled={isSubmittingForm || !!targetMemberId }\n                    >\n                        <SelectTrigger id=\"assignedToMemberId\" className={cn(\"bg-input text-foreground\", (!!targetMemberId) && \"cursor-not-allowed bg-muted/50 text-muted-foreground\")}>\n                        <SelectValue placeholder=\"Select a member\" />\n                        </SelectTrigger>\n                        <SelectContent className=\"bg-popover text-popover-foreground\">\n                        <SelectItem value=\"UNASSIGNED\">Do Not Assign / Keep with Main Union</SelectItem>\n                        {availableMembers.map(member => (\n                            <SelectItem key={member.id} value={member.id}>{member.name}</SelectItem>\n                        ))}\n                        </SelectContent>\n                    </Select>\n                    )}\n                />\n                {form.formState.errors.assignedToMemberId && <p className=\"text-sm text-destructive\">{form.formState.errors.assignedToMemberId.message}</p>}\n                </div>\n\n                {localWatchedAssignedToMemberId && localWatchedAssignedToMemberId !== \"UNASSIGNED\" && localCurrentAssignedMember?.birthDate && (\n                <div className=\"space-y-3 mt-3 p-3 border-t border-border\">\n                    <div className=\"flex items-center space-x-2\">\n                        <Controller\n                            name=\"setReleaseCondition\"\n                            control={form.control}\n                            render={({ field }) => (\n                                <Checkbox\n                                    id=\"setReleaseCondition\"\n                                    checked={Boolean(field.value)}\n                                    onCheckedChange={field.onChange}\n                                    disabled={isSubmittingForm}\n                                    className=\"border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\"\n                                />\n                            )}\n                        />\n                        <Label htmlFor=\"setReleaseCondition\" className=\"font-normal flex items-center text-foreground/90\">\n                        <Clock size={16} className=\"mr-2 text-primary\"/> Set Age-Based Release Condition for {localCurrentAssignedMember?.name}?\n                        </Label>\n                    </div>\n                    {watchedSetReleaseCondition && (\n                    <div className=\"space-y-1.5 pl-6\">\n                        <Label htmlFor=\"releaseTargetAge\" className=\"text-foreground/90\">Release at (age)</Label>\n                        <Controller\n                            name=\"releaseTargetAge\"\n                            control={form.control}\n                            render={({ field }) => (\n                                <Input\n                                id=\"releaseTargetAge\"\n                                type=\"number\"\n                                {...field}\n                                value={field.value === undefined || field.value === null ? '' : String(field.value)}\n                                onChange={e => field.onChange(e.target.value === '' ? undefined : parseInt(e.target.value, 10))}\n                                placeholder=\"Ex: 18\"\n                                min=\"1\"\n                                disabled={isSubmittingForm}\n                                className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n                                />\n                            )}\n                        />\n                        {form.formState.errors.releaseTargetAge && <p className=\"text-sm text-destructive\">{form.formState.errors.releaseTargetAge.message}</p>}\n                    </div>\n                    )}\n                </div>\n                )}\n                {localWatchedAssignedToMemberId && localWatchedAssignedToMemberId !== \"UNASSIGNED\" && !localCurrentAssignedMember?.birthDate && (\n                    <p className=\"text-xs text-muted-foreground mt-2 pl-1\">\n                        To set an age-based release condition, the selected member ({localCurrentAssignedMember?.name || 'Member'}) must have a birth date registered.\n                    </p>\n                )}\n            </div>\n          )}\n        </>\n      )}\n\n      {formError && <p className=\"text-sm text-destructive text-center\">{formError}</p>}\n\n\n      <div className=\"flex justify-between items-center pt-4\">\n        {currentStep > 1 ? (\n          <Button type=\"button\" variant=\"outline\" onClick={handlePreviousStep} disabled={isSubmittingForm} className=\"text-foreground/90 border-border hover:bg-muted/80\">\n            <ArrowLeft className=\"mr-2 h-4 w-4\" /> Back\n          </Button>\n        ) : (\n          <Button type=\"button\" variant=\"outline\" onClick={onClose} disabled={isSubmittingForm} className=\"text-foreground/90 border-border hover:bg-muted/80\">\n            Cancel\n          </Button>\n        )}\n\n        {currentStep < TOTAL_STEPS_PHYSICAL ? (\n          <Button type=\"button\" onClick={handleNextStep} disabled={isNextButtonDisabled()} className=\"bg-primary hover:bg-primary/90 text-primary-foreground\">\n             {isSubmittingForm && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n             {isSubmittingForm ? \"Processing...\" : \"Next\"}\n             {!isSubmittingForm && <ArrowRight className=\"ml-2 h-4 w-4\" />}\n          </Button>\n        ) : (\n          <Button \n            type=\"button\" \n            onClick={() => form.handleSubmit(handleFormSubmit)()} \n            disabled={isSubmittingForm || !watchedTipoImovel.trim() || (watchedSetReleaseCondition && memberHasBirthDateForSchema && (form.getValues('releaseTargetAge') === undefined || form.getValues('releaseTargetAge')! <=0) ) } \n            className=\"bg-primary hover:bg-primary/90 text-primary-foreground\"\n          >\n            {isSubmittingForm ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Save className=\"mr-2 h-4 w-4\" />}\n            Save Physical Asset\n          </Button>\n        )}\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1895, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/actions/assetActions.ts"],"sourcesContent":["\n'use server';\nimport type { AssetFormData, AssetTransaction } from '@/types/asset';\n\n// This action is now for adding a PHYSICAL ASSET,\n// or a transaction to an existing asset (though the form isn't set up for multiple physical transactions)\nexport async function addAsset(data: AssetFormData, userId: string): Promise<{ success: boolean; error?: string; assetId?: string, transactionId?: string }> {\n  if (!userId) {\n    return { success: false, error: 'User not authenticated.' };\n  }\n\n  const newTransactionId = `mock-tx-${Date.now()}`;\n  const assetIdForLog = `mock-physical-asset-${data.nomeAtivo.replace(/\\s+/g, '-')}`;\n\n  console.log('Simulating addition of physical asset (Firebase disabled):', {\n    userId,\n    assetIdTarget: assetIdForLog, \n    newTransactionId,\n    tipoAtivoPrincipal: 'physical', // Hardcoded, as the form is for physical assets\n    nomeAtivoPrincipal: data.nomeAtivo,\n    \n    // Transaction/acquisition details\n    dataAquisicaoTransacao: data.dataAquisicao,\n    observacoesTransacao: data.observacoes,\n    quemComprouTransacao: data.quemComprou,\n    contribuicaoParceiro1Transacao: data.contribuicaoParceiro1,\n    contribuicaoParceiro2Transacao: data.contribuicaoParceiro2,\n    \n    // Physical asset specific fields\n    tipoImovelBemFisico: data.tipoImovelBemFisico,\n    enderecoLocalizacaoFisico: data.enderecoLocalizacaoFisico,\n    documentacaoFisicoFileName: data.documentacaoFisicoFile?.[0]?.name,\n    \n    // Designation and release\n    assignedToMemberId: data.assignedToMemberId,\n    releaseCondition: data.setReleaseCondition && data.releaseTargetAge ? { type: 'age', targetAge: data.releaseTargetAge } : undefined,\n  });\n\n  await new Promise(resolve => setTimeout(resolve, 500)); // Simulate network delay\n\n  return { success: true, assetId: assetIdForLog, transactionId: newTransactionId };\n}\n"],"names":[],"mappings":";;;;;IAMsB","debugId":null}},
    {"offset": {"line": 1907, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/members/AddMemberForm.tsx"],"sourcesContent":["\n\"use client\";\nimport { useForm, Controller } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { CalendarIcon, Loader2, UserPlus, Wallet } from 'lucide-react'; // Added Wallet icon\nimport { cn } from '@/lib/utils';\nimport { format } from 'date-fns';\nimport { enUS } from 'date-fns/locale';\nimport type { MemberFormData } from '@/types/member';\n\nconst formSchema = z.object({\n  nome: z.string().min(2, \"Child's name is required and must be at least 2 characters.\"),\n  dataNascimento: z.date({ required_error: \"Date of birth is required.\" }),\n  walletAddress: z.string().optional().nullable(), // Optional wallet address\n});\n\ninterface AddMemberFormProps {\n  onSubmit: (data: MemberFormData) => Promise<void>;\n  isLoading: boolean;\n  onClose: () => void;\n}\n\nexport function AddMemberForm({ onSubmit, isLoading, onClose }: AddMemberFormProps) {\n  const form = useForm<Omit<MemberFormData, 'tipoRelacao' | 'unionId'>>({ // Omit unionId as well\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      nome: '',\n      dataNascimento: undefined,\n      walletAddress: '',\n    },\n    mode: \"onChange\",\n  });\n\n  const handleFormSubmit = (values: Omit<MemberFormData, 'tipoRelacao' | 'unionId'>) => {\n    const formDataWithRelation: MemberFormData = {\n      ...values,\n      tipoRelacao: 'filho_a', // 'child'\n      walletAddress: values.walletAddress || undefined, // Ensure empty string becomes undefined\n    };\n    onSubmit(formDataWithRelation);\n  };\n\n  return (\n    <form onSubmit={form.handleSubmit(handleFormSubmit)} className=\"space-y-6\">\n      <div className=\"space-y-1.5\">\n        <Label htmlFor=\"nome\" className=\"text-foreground/90\">Child's Full Name</Label>\n        <Input id=\"nome\" {...form.register('nome')} placeholder=\"Ex: Name Surname\" disabled={isLoading} autoFocus className=\"bg-input text-foreground placeholder:text-muted-foreground\"/>\n        {form.formState.errors.nome && <p className=\"text-sm text-destructive\">{form.formState.errors.nome.message}</p>}\n      </div>\n      \n      <div className=\"space-y-1.5\">\n        <Label htmlFor=\"dataNascimento\" className=\"text-foreground/90\">Date of Birth</Label>\n        <Controller\n          name=\"dataNascimento\"\n          control={form.control}\n          render={({ field }) => (\n            <Popover>\n              <PopoverTrigger asChild>\n                <Button\n                  variant={\"outline\"}\n                  className={cn(\n                    \"w-full justify-start text-left font-normal bg-input text-foreground hover:bg-input/80\",\n                    !field.value && \"text-muted-foreground\"\n                  )}\n                  disabled={isLoading}\n                >\n                  <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                  {field.value ? format(new Date(field.value), \"PPP\", { locale: enUS }) : <span>Choose a date</span>}\n                </Button>\n              </PopoverTrigger>\n              <PopoverContent className=\"w-auto p-0 bg-popover border-border\">\n                <Calendar\n                  mode=\"single\"\n                  selected={field.value ? new Date(field.value) : undefined}\n                  onSelect={field.onChange}\n                  initialFocus\n                  locale={enUS}\n                  disabled={(date) => date > new Date() || date < new Date(\"1900-01-01\") || isLoading}\n                  captionLayout=\"dropdown-buttons\"\n                  fromYear={1900}\n                  toYear={new Date().getFullYear()}\n                />\n              </PopoverContent>\n            </Popover>\n          )}\n        />\n        {form.formState.errors.dataNascimento && <p className=\"text-sm text-destructive\">{form.formState.errors.dataNascimento.message}</p>}\n      </div>\n\n      <div className=\"space-y-1.5\">\n        <Label htmlFor=\"walletAddress\" className=\"text-foreground/90 flex items-center\">\n          <Wallet size={16} className=\"mr-2 text-primary\" />\n          Child's Wallet Address (Optional)\n        </Label>\n        <Input \n          id=\"walletAddress\" \n          {...form.register('walletAddress')} \n          placeholder=\"Ex: 0x123...abc\" \n          disabled={isLoading} \n          className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n        />\n        {form.formState.errors.walletAddress && <p className=\"text-sm text-destructive\">{form.formState.errors.walletAddress.message}</p>}\n      </div>\n\n      <div className=\"flex justify-end space-x-3 pt-4\">\n        <Button type=\"button\" variant=\"outline\" onClick={onClose} disabled={isLoading} className=\"text-foreground/90 border-border hover:bg-muted/80\">\n          Cancel\n        </Button>\n        <Button type=\"submit\" className=\"bg-primary hover:bg-primary/90 text-primary-foreground\" disabled={isLoading}>\n          {isLoading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <UserPlus className=\"mr-2 h-4 w-4\" />}\n          Add Child\n        </Button>\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2224, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/actions/memberActions.ts"],"sourcesContent":["\n'use server';\n\nimport type { MemberFormData } from '@/types/member';\n\nexport async function addMember(data: MemberFormData, unionId: string): Promise<{ success: boolean; error?: string; memberId?: string }> {\n  if (!unionId) {\n    return { success: false, error: 'Union ID not provided.' };\n  }\n\n  console.log('Simulating member addition (Firebase disabled):', {\n    unionId,\n    nome: data.nome,\n    tipoRelacao: data.tipoRelacao, // e.g., 'filho_a' (child)\n    dataNascimento: data.dataNascimento,\n    walletAddress: data.walletAddress, // Log the wallet address\n  });\n\n  // Simulate a network delay\n  await new Promise(resolve => setTimeout(resolve, 500));\n\n  return { success: true, memberId: `mock-member-${Date.now()}` };\n}\n"],"names":[],"mappings":";;;;;IAKsB","debugId":null}},
    {"offset": {"line": 2236, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/assets/AssetReleaseDialog.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, type FormEvent } from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n  DialogClose,\n} from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Loader2, Save, Trash2, Clock } from 'lucide-react';\nimport type { ExtendedAssetNodeData } from '@/types/asset';\nimport type { MemberWithBirthDate } from '@/app/(main)/dashboard/page'; // Adjusted path\n\ninterface AssetReleaseDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  asset: ExtendedAssetNodeData | null;\n  assignedMember: MemberWithBirthDate | null | undefined; // Member it's assigned to\n  onSaveReleaseCondition: (assetId: string, targetAge: number | undefined) => void;\n  isLoading?: boolean;\n}\n\nexport function AssetReleaseDialog({\n  isOpen,\n  onClose,\n  asset,\n  assignedMember,\n  onSaveReleaseCondition,\n  isLoading = false,\n}: AssetReleaseDialogProps) {\n  const [targetAge, setTargetAge] = useState<string>('');\n\n  useEffect(() => {\n    if (asset?.releaseCondition?.type === 'age') {\n      setTargetAge(asset.releaseCondition.targetAge.toString());\n    } else {\n      setTargetAge('');\n    }\n  }, [asset]);\n\n  if (!asset) return null;\n\n  const memberHasBirthDate = !!assignedMember?.dataNascimento;\n  const memberName = assignedMember?.nome || 'Unknown Member';\n\n  const handleSubmit = (event: FormEvent) => {\n    event.preventDefault();\n    if (!memberHasBirthDate && targetAge) {\n      // This case should ideally be prevented by disabling the input\n      console.warn(\"Cannot set age condition without member's birth date.\");\n      return;\n    }\n    const age = targetAge ? parseInt(targetAge, 10) : undefined;\n    if (targetAge && (isNaN(age!) || age! <= 0)) {\n        alert(\"Please enter a valid positive age.\"); // Simple validation\n        return;\n    }\n    onSaveReleaseCondition(asset.id, age);\n  };\n\n  const handleRemoveCondition = () => {\n    onSaveReleaseCondition(asset.id, undefined); // Pass undefined to clear\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-md bg-card border-border\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl text-primary flex items-center\">\n            <Clock size={24} className=\"mr-2\" /> Manage Release Condition\n          </DialogTitle>\n          <DialogDescription className=\"text-muted-foreground\">\n            Set or remove the age-based release condition for the asset: <span className=\"font-semibold text-foreground\">{asset.nomeAtivo}</span>.\n            <br />\n            Currently assigned to: <span className=\"font-semibold text-foreground\">{memberName}</span>.\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit} className=\"space-y-6 py-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"targetAge\" className=\"text-foreground/90\">\n              Release at Age\n            </Label>\n            <Input\n              id=\"targetAge\"\n              type=\"number\"\n              value={targetAge}\n              onChange={(e) => setTargetAge(e.target.value)}\n              placeholder=\"E.g., 18\"\n              className=\"bg-input text-foreground placeholder:text-muted-foreground\"\n              disabled={isLoading || !memberHasBirthDate}\n              min=\"1\"\n            />\n            {!memberHasBirthDate && (\n              <p className=\"text-xs text-destructive\">\n                The assigned member ({memberName}) does not have a birth date registered. Age-based release cannot be set.\n              </p>\n            )}\n             {memberHasBirthDate && !targetAge && asset?.releaseCondition && (\n                 <p className=\"text-xs text-muted-foreground\">\n                    Clear the age to remove the condition, or enter a new age.\n                </p>\n            )}\n          </div>\n\n          <DialogFooter className=\"gap-2 sm:gap-0\">\n            <Button\n              type=\"button\"\n              variant=\"destructive\"\n              onClick={handleRemoveCondition}\n              disabled={isLoading || !asset.releaseCondition}\n              className=\"sm:mr-auto\"\n            >\n              {isLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Trash2 size={16} className=\"mr-2\" />}\n              Remove Condition\n            </Button>\n            <DialogClose asChild>\n              <Button type=\"button\" variant=\"outline\" className=\"text-foreground/90 border-border hover:bg-muted/80\">\n                Cancel\n              </Button>\n            </DialogClose>\n            <Button type=\"submit\" className=\"bg-primary hover:bg-primary/90 text-primary-foreground\" disabled={isLoading || (!memberHasBirthDate && !!targetAge) || (memberHasBirthDate && targetAge === asset.releaseCondition?.targetAge.toString())}>\n              {isLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Save size={16} className=\"mr-2\" />}\n              Save Changes\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AASA;AACA;AACA;AAAA;AAAA;AAAA;;;AAfA;;;;;;;AA4BO,SAAS,mBAAmB,EACjC,MAAM,EACN,OAAO,EACP,KAAK,EACL,cAAc,EACd,sBAAsB,EACtB,YAAY,KAAK,EACO;;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAEnD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;wCAAE;YACR,IAAI,OAAO,kBAAkB,SAAS,OAAO;gBAC3C,aAAa,MAAM,gBAAgB,CAAC,SAAS,CAAC,QAAQ;YACxD,OAAO;gBACL,aAAa;YACf;QACF;uCAAG;QAAC;KAAM;IAEV,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,qBAAqB,CAAC,CAAC,gBAAgB;IAC7C,MAAM,aAAa,gBAAgB,QAAQ;IAE3C,MAAM,eAAe,CAAC;QACpB,MAAM,cAAc;QACpB,IAAI,CAAC,sBAAsB,WAAW;YACpC,+DAA+D;YAC/D,QAAQ,IAAI,CAAC;YACb;QACF;QACA,MAAM,MAAM,YAAY,SAAS,WAAW,MAAM;QAClD,IAAI,aAAa,CAAC,MAAM,QAAS,OAAQ,CAAC,GAAG;YACzC,MAAM,uCAAuC,oBAAoB;YACjE;QACJ;QACA,uBAAuB,MAAM,EAAE,EAAE;IACnC;IAEA,MAAM,wBAAwB;QAC5B,uBAAuB,MAAM,EAAE,EAAE,YAAY,0BAA0B;IACzE;IAEA,qBACE,6LAAC,qIAAA,CAAA,SAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,6LAAC,qIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,6LAAC,qIAAA,CAAA,eAAY;;sCACX,6LAAC,qIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,6LAAC,uMAAA,CAAA,QAAK;oCAAC,MAAM;oCAAI,WAAU;;;;;;gCAAS;;;;;;;sCAEtC,6LAAC,qIAAA,CAAA,oBAAiB;4BAAC,WAAU;;gCAAwB;8CACU,6LAAC;oCAAK,WAAU;8CAAiC,MAAM,SAAS;;;;;;gCAAQ;8CACrI,6LAAC;;;;;gCAAK;8CACiB,6LAAC;oCAAK,WAAU;8CAAiC;;;;;;gCAAkB;;;;;;;;;;;;;8BAG9F,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,oIAAA,CAAA,QAAK;oCAAC,SAAQ;oCAAY,WAAU;8CAAqB;;;;;;8CAG1D,6LAAC,oIAAA,CAAA,QAAK;oCACJ,IAAG;oCACH,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;oCAC5C,aAAY;oCACZ,WAAU;oCACV,UAAU,aAAa,CAAC;oCACxB,KAAI;;;;;;gCAEL,CAAC,oCACA,6LAAC;oCAAE,WAAU;;wCAA2B;wCAChB;wCAAW;;;;;;;gCAGnC,sBAAsB,CAAC,aAAa,OAAO,kCACxC,6LAAC;oCAAE,WAAU;8CAAgC;;;;;;;;;;;;sCAMpD,6LAAC,qIAAA,CAAA,eAAY;4BAAC,WAAU;;8CACtB,6LAAC,qIAAA,CAAA,SAAM;oCACL,MAAK;oCACL,SAAQ;oCACR,SAAS;oCACT,UAAU,aAAa,CAAC,MAAM,gBAAgB;oCAC9C,WAAU;;wCAET,0BAAY,6LAAC,oNAAA,CAAA,UAAO;4CAAC,WAAU;;;;;iEAA4B,6LAAC,6MAAA,CAAA,SAAM;4CAAC,MAAM;4CAAI,WAAU;;;;;;wCAAU;;;;;;;8CAGpG,6LAAC,qIAAA,CAAA,cAAW;oCAAC,OAAO;8CAClB,cAAA,6LAAC,qIAAA,CAAA,SAAM;wCAAC,MAAK;wCAAS,SAAQ;wCAAU,WAAU;kDAAqD;;;;;;;;;;;8CAIzG,6LAAC,qIAAA,CAAA,SAAM;oCAAC,MAAK;oCAAS,WAAU;oCAAyD,UAAU,aAAc,CAAC,sBAAsB,CAAC,CAAC,aAAe,sBAAsB,cAAc,MAAM,gBAAgB,EAAE,UAAU;;wCAC5N,0BAAY,6LAAC,oNAAA,CAAA,UAAO;4CAAC,WAAU;;;;;iEAA4B,6LAAC,qMAAA,CAAA,OAAI;4CAAC,MAAM;4CAAI,WAAU;;;;;;wCAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ9G;GA3GgB;KAAA","debugId":null}},
    {"offset": {"line": 2525, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2628, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/UnionNode.tsx"],"sourcesContent":["\n'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Network, Settings, PlusCircle, DollarSign, Users } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { useState, useCallback, useEffect, useRef } from 'react';\n\nexport type UnionNodeData = {\n  label: string;\n  onSettingsClick: () => void;\n  onOpenAssetModal: () => void;\n  onAddMember: () => void;\n};\n\nexport function UnionNode({ id, data, selected }: NodeProps<UnionNodeData>) {\n  const [showActions, setShowActions] = useState(false);\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  const toggleActions = useCallback(() => {\n    setShowActions((prev) => !prev);\n  }, []);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (popoverRef.current && !popoverRef.current.contains(event.target as Node)) {\n        const handleElement = document.getElementById(`handle-plus-${id}`);\n        if (handleElement && handleElement.contains(event.target as Node)) {\n          return;\n        }\n        setShowActions(false);\n      }\n    };\n\n    if (showActions) {\n      document.addEventListener('mousedown', handleClickOutside);\n    } else {\n      document.removeEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showActions, id]);\n\n\n  return (\n    <Card\n      className={`w-60 shadow-xl border-2 ${selected ? 'border-primary shadow-primary/30' : 'border-primary/60'} bg-card p-0 overflow-hidden relative rounded-lg`}\n      style={{ overflow: 'visible' }}\n    >\n      <Handle type=\"target\" position={Position.Top} id={`t-${id}-top`} className=\"!opacity-0\" />\n\n      <div className=\"bg-gradient-to-r from-gradient-green to-gradient-blue p-2 rounded-t-md flex justify-between items-center\">\n        <span className=\"text-xs font-semibold text-black\">Contract</span>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"h-6 w-6 text-black hover:bg-white/20 hover:text-black/80\"\n          onClick={data.onSettingsClick}\n          aria-label=\"Contract Settings\"\n        >\n          <Settings size={16} />\n        </Button>\n      </div>\n\n      <div className=\"p-3 bg-card rounded-b-md\">\n        <div className=\"flex items-center space-x-2 text-sm font-semibold text-card-foreground\">\n          <Network size={18} className=\"text-primary\" />\n          <span>{data.label}</span>\n        </div>\n      </div>\n\n      <div className=\"absolute -bottom-5 left-1/2 transform -translate-x-1/2 z-10\">\n        <button\n          id={`handle-plus-${id}`}\n          onClick={toggleActions}\n          className=\"p-1.5 bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 flex items-center justify-center\"\n          aria-label=\"Add\"\n          style={{ width: '32px', height: '32px' }}\n        >\n          <PlusCircle size={20} />\n        </button>\n        {showActions && (\n          <div\n            ref={popoverRef}\n            className=\"absolute left-1/2 transform -translate-x-1/2 mt-2 w-48 bg-popover border border-border rounded-md shadow-xl p-2 space-y-2 z-20\"\n            style={{ top: 'calc(100% + 0.5rem)' }}\n          >\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"w-full justify-start text-sm text-popover-foreground hover:bg-primary/20 hover:text-primary\"\n              onClick={() => {\n                data.onOpenAssetModal();\n                setShowActions(false);\n              }}\n            >\n              <DollarSign size={16} className=\"mr-2\" />\n              Add Asset\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"w-full justify-start text-sm text-popover-foreground hover:bg-accent/20 hover:text-accent\"\n              onClick={() => {\n                data.onAddMember();\n                setShowActions(false);\n              }}\n            >\n              <Users size={16} className=\"mr-2\" />\n              Add Child\n            </Button>\n          </div>\n        )}\n      </div>\n       <Handle\n        type=\"source\"\n        position={Position.Bottom}\n        id={`s-${id}-bottom`}\n        className=\"!opacity-0 !w-px !h-px !cursor-default\"\n        isConnectable={false}\n      />\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2892, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 2940, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,sKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,sKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sYACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2983, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/AssetNode.tsx"],"sourcesContent":["\n'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Coins, Landmark, BuildingIcon, Clock, Info } from 'lucide-react'; // BuildingIcon as a generic physical asset for now\nimport { useToast } from '@/hooks/use-toast';\nimport type { ExtendedAssetNodeData } from '@/types/asset';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';\n\nconst BitcoinIconSvg = () => <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-2\"><circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#F7931A\"/><path d=\"M10.05 16.64H12.32C14.66 16.64 16.31 15.32 16.31 12.91C16.31 10.5 14.66 9.17999 12.32 9.17999H10.05V7.35999H12.4C15.43 7.35999 17.5 8.95999 17.5 11.82C17.5 13.48 16.73 14.91 15.38 15.79V15.83C17.06 16.57 18 17.97 18 19.76C18 22.79 15.67 24.48 12.54 24.48H8V7.35999H10.05V16.64ZM10.05 11.6H12.22C13.6 11.6 14.51 12.31 14.51 13.59C14.51 14.87 13.6 15.58 12.22 15.58H10.05V11.6ZM10.05 17.68H12.4C13.98 17.68 15.03 18.46 15.03 19.79C15.03 21.12 13.98 21.9 12.4 21.9H10.05V17.68Z\" fill=\"white\" transform=\"scale(0.75) translate(2, -4)\"/></svg>;\nconst EthereumIconSvg = () => <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-2\"><path d=\"M12.023 2.68701L11.531 3.32701V11.56L12.023 11.829L12.516 11.56V3.32701L12.023 2.68701Z\" fill=\"#627EEA\"/><path d=\"M12.023 2.68701L6.78101 9.40401L12.023 11.829V2.68701Z\" fill=\"#8AA1F2\"/><path d=\"M12.023 2.68701L17.265 9.40401L12.023 11.829V2.68701Z\" fill=\"#627EEA\"/><path d=\"M12.023 12.76L11.555 12.981V16.844L12.023 17.13L12.492 16.844V12.981L12.023 12.76Z\" fill=\"#627EEA\"/><path d=\"M12.023 17.13V12.76L6.78101 10.352L12.023 17.13Z\" fill=\"#8AA1F2\"/><path d=\"M12.023 17.13V12.76L17.265 10.352L12.023 17.13Z\" fill=\"#627EEA\"/><path d=\"M12.023 11.829L17.265 9.40401L12.023 6.99701L6.78101 9.40401L12.023 11.829Z\" fill=\"#45578E\"/></svg>;\nconst UsdcIconSvg = () => ( // Simple USDC placeholder icon\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-2\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#2775CA\"/>\n    <path d=\"M12 17.5C14.7614 17.5 17 15.2614 17 12.5C17 9.73858 14.7614 7.5 12 7.5C9.23858 7.5 7 9.73858 7 12.5C7 13.8462 7.51211 15.0739 8.36341 15.9697M12 17.5C9.23858 17.5 7 15.2614 7 12.5M12 17.5V14.5M7 12.5H10M12 7.5V10.5M17 12.5H14M12.5 10H11.5L10.5 11L11.5 12L12.5 11L13.5 12L14.5 11L13.5 10H12.5Z\" stroke=\"white\" strokeWidth=\"1.5\"/>\n  </svg>\n);\n\n\nconst getIconForAsset = (data: ExtendedAssetNodeData) => {\n  if (data.tipo === 'digital') {\n    const nameLower = data.nomeAtivo.toLowerCase();\n    if (nameLower.includes('bitcoin') || nameLower.includes('btc')) return <BitcoinIconSvg />;\n    if (nameLower.includes('ethereum') || nameLower.includes('eth')) return <EthereumIconSvg />;\n    if (nameLower.includes('usdc')) return <UsdcIconSvg />; // Assuming USDC will have 'usdc' in its name\n    return <Coins size={18} className=\"text-primary mr-2\" />;\n  }\n  if (data.tipo === 'fisico') {\n    const tipoBemLower = data.tipoImovelBemFisico?.toLowerCase() || '';\n    if (tipoBemLower.includes('house') || tipoBemLower.includes('apartment') || tipoBemLower.includes('property') || tipoBemLower.includes('imóvel') || tipoBemLower.includes('casa') || tipoBemLower.includes('apartamento')) {\n      return <Landmark size={18} className=\"text-primary mr-2\" />;\n    }\n    if (tipoBemLower.includes('vehicle') || tipoBemLower.includes('car') || tipoBemLower.includes('veículo') || tipoBemLower.includes('carro')) {\n      return <BuildingIcon size={18} className=\"text-primary mr-2\" />;\n    }\n    return <Landmark size={18} className=\"text-primary mr-2\" />;\n  }\n  return <Coins size={18} className=\"text-primary mr-2\" />;\n};\n\n\nexport function AssetNode({ id: nodeId, data, selected }: NodeProps<ExtendedAssetNodeData>) {\n  const icon = getIconForAsset(data);\n  const { toast } = useToast();\n\n  const handleClockClick = (e: React.MouseEvent) => {\n    e.stopPropagation(); // Prevent card click when clicking the clock\n    if (data.onOpenReleaseDialog) {\n      data.onOpenReleaseDialog(data);\n    } else {\n      toast({\n        title: 'Manage Release',\n        description: `Release condition for asset \"${data.nomeAtivo}\" ${data.releaseCondition?.targetAge ? `is set to age ${data.releaseCondition.targetAge}` : 'is not set'}. Configuration UI coming soon.`,\n      });\n    }\n  };\n\n  const handleCardClick = () => {\n    if (data.onOpenDetails) {\n      data.onOpenDetails();\n    }\n  };\n\n  return (\n    <TooltipProvider delayDuration={300}>\n      <Card\n        className={`w-auto min-w-[200px] max-w-[280px] shadow-lg border-2 ${selected ? 'border-primary shadow-primary/30' : 'border-border'} bg-card relative rounded-lg cursor-pointer hover:shadow-md transition-shadow`}\n        style={{ overflow: 'visible' }}\n        onClick={handleCardClick}\n      >\n        <Handle type=\"target\" position={Position.Top} id={`t-${nodeId}-asset`} className=\"!opacity-50 !bg-ring\" />\n\n        <CardHeader className=\"p-3 border-b border-border\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center overflow-hidden\">\n              {icon}\n              <CardTitle className=\"text-sm font-semibold text-card-foreground truncate\" title={data.nomeAtivo}>\n                {data.nomeAtivo}\n              </CardTitle>\n            </div>\n            {data.assignedToMemberId && data.releaseCondition?.type === 'age' && (\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-6 w-6 text-accent hover:bg-accent/10\"\n                onClick={handleClockClick}\n                aria-label=\"Manage release condition\"\n              >\n                <Clock size={14} />\n              </Button>\n            )}\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"p-3 text-xs space-y-1\">\n          {data.tipo === 'digital' && data.quantidadeTotalDigital !== undefined && (\n              <Badge variant=\"outline\" className=\"text-xs whitespace-normal text-left border-primary/50 text-primary bg-card\">\n                  Total Qty: {data.quantidadeTotalDigital.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 })}\n              </Badge>\n          )}\n          {data.tipo === 'fisico' && data.tipoImovelBemFisico && (\n            <Badge variant=\"secondary\" className=\"text-xs whitespace-normal text-left bg-secondary/80 text-secondary-foreground\">\n              {data.tipoImovelBemFisico}\n            </Badge>\n          )}\n          {data.releaseCondition?.targetAge && (\n             <p className=\"text-muted-foreground text-[0.7rem] italic mt-1\">\n              Releases at: {data.releaseCondition.targetAge} yrs\n            </p>\n          )}\n          {data.isAutoLoaded && (\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <div className=\"flex items-center space-x-1 text-xs text-accent mt-1 cursor-default\">\n                  <Info size={13} />\n                  <span>Wallet Information</span>\n                </div>\n              </TooltipTrigger>\n              <TooltipContent side=\"bottom\" className=\"bg-popover text-popover-foreground text-xs p-2\">\n                <p>Loaded from connected wallet (simulated).</p>\n              </TooltipContent>\n            </Tooltip>\n          )}\n        </CardContent>\n        <Handle type=\"source\" position={Position.Bottom} id={`s-${nodeId}-asset`} className=\"!opacity-50 !bg-ring\" />\n      </Card>\n    </TooltipProvider>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3446, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/MemberNode.tsx"],"sourcesContent":["\n'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { User, Users, Baby, PersonStanding, PlusCircle } from 'lucide-react';\n\nexport type MemberNodeData = {\n  id: string;\n  name: string;\n  relationshipType: string; // e.g., 'filho_a'\n  onAddAssetClick?: (memberId: string) => void;\n};\n\nconst getIconForMember = (data: MemberNodeData) => {\n  const relTypeLower = data.relationshipType.toLowerCase();\n  // Assuming 'filho_a' means child. Translate other relationship types if needed.\n  if (relTypeLower.includes('filho_a') || relTypeLower.includes('child')) return <Baby size={18} className=\"text-accent mr-2\" />;\n  if (relTypeLower.includes('pai') || relTypeLower.includes('mae') || relTypeLower.includes('parent')) return <PersonStanding size={18} className=\"text-accent mr-2\" />;\n  if (relTypeLower.includes('cônjuge') || relTypeLower.includes('parceiro') || relTypeLower.includes('spouse') || relTypeLower.includes('partner')) return <Users size={18} className=\"text-accent mr-2\" />;\n  return <User size={18} className=\"text-accent mr-2\" />;\n};\n\n// Helper to get a displayable relationship type\nconst getDisplayRelationship = (relationshipType: string) => {\n    if (relationshipType === 'filho_a') return 'Child';\n    // Add more translations as needed\n    return relationshipType.charAt(0).toUpperCase() + relationshipType.slice(1);\n}\n\nexport function MemberNode({ id: nodeId, data, selected }: NodeProps<MemberNodeData>) {\n  const icon = getIconForMember(data);\n\n  const handleAddAsset = () => {\n    if (data.onAddAssetClick) {\n      data.onAddAssetClick(data.id); \n    }\n  };\n\n  return (\n    <Card\n      className={`w-56 shadow-lg border-2 ${selected ? 'border-accent shadow-accent/40' : 'border-border'} bg-card relative rounded-lg`}\n      style={{ overflow: 'visible' }}\n    >\n      <Handle type=\"target\" position={Position.Top} id={`t-${nodeId}-top`} className=\"!opacity-50 !bg-ring\" />\n\n      <CardHeader className=\"p-3 border-b border-border\">\n        <div className=\"flex items-center\">\n          {icon}\n          <CardTitle className=\"text-sm font-semibold text-card-foreground truncate\" title={data.name}>\n            {data.name}\n          </CardTitle>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"p-3 text-xs\">\n        <Badge variant=\"outline\" className=\"border-accent/50 text-accent text-xs\">\n          {getDisplayRelationship(data.relationshipType)}\n        </Badge>\n      </CardContent>\n\n      {data.onAddAssetClick && (\n         <div className=\"absolute -bottom-3.5 left-1/2 transform -translate-x-1/2 z-10\">\n            <Button\n                variant=\"outline\"\n                size=\"icon\"\n                className=\"h-7 w-7 bg-card hover:bg-muted border-dashed border-accent text-accent hover:text-accent/90 rounded-full shadow\"\n                onClick={handleAddAsset}\n                aria-label=\"Add Asset to this Member\"\n            >\n                <PlusCircle size={16} />\n            </Button>\n        </div>\n      )}\n      <Handle type=\"source\" position={Position.Bottom} id={`s-${nodeId}-bottom`} className=\"!opacity-50 !bg-ring\" />\n      <Handle type=\"target\" position={Position.Bottom} id={`t-${nodeId}-bottom`} className=\"!opacity-50 !bg-ring !bottom-[-4px]\" />\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAPA;;;;;;;AAgBA,MAAM,mBAAmB,CAAC;IACxB,MAAM,eAAe,KAAK,gBAAgB,CAAC,WAAW;IACtD,gFAAgF;IAChF,IAAI,aAAa,QAAQ,CAAC,cAAc,aAAa,QAAQ,CAAC,UAAU,qBAAO,6LAAC,qMAAA,CAAA,OAAI;QAAC,MAAM;QAAI,WAAU;;;;;;IACzG,IAAI,aAAa,QAAQ,CAAC,UAAU,aAAa,QAAQ,CAAC,UAAU,aAAa,QAAQ,CAAC,WAAW,qBAAO,6LAAC,6NAAA,CAAA,iBAAc;QAAC,MAAM;QAAI,WAAU;;;;;;IAChJ,IAAI,aAAa,QAAQ,CAAC,cAAc,aAAa,QAAQ,CAAC,eAAe,aAAa,QAAQ,CAAC,aAAa,aAAa,QAAQ,CAAC,YAAY,qBAAO,6LAAC,uMAAA,CAAA,QAAK;QAAC,MAAM;QAAI,WAAU;;;;;;IACpL,qBAAO,6LAAC,qMAAA,CAAA,OAAI;QAAC,MAAM;QAAI,WAAU;;;;;;AACnC;AAEA,gDAAgD;AAChD,MAAM,yBAAyB,CAAC;IAC5B,IAAI,qBAAqB,WAAW,OAAO;IAC3C,kCAAkC;IAClC,OAAO,iBAAiB,MAAM,CAAC,GAAG,WAAW,KAAK,iBAAiB,KAAK,CAAC;AAC7E;AAEO,SAAS,WAAW,EAAE,IAAI,MAAM,EAAE,IAAI,EAAE,QAAQ,EAA6B;IAClF,MAAM,OAAO,iBAAiB;IAE9B,MAAM,iBAAiB;QACrB,IAAI,KAAK,eAAe,EAAE;YACxB,KAAK,eAAe,CAAC,KAAK,EAAE;QAC9B;IACF;IAEA,qBACE,6LAAC,mIAAA,CAAA,OAAI;QACH,WAAW,CAAC,wBAAwB,EAAE,WAAW,mCAAmC,gBAAgB,4BAA4B,CAAC;QACjI,OAAO;YAAE,UAAU;QAAU;;0BAE7B,6LAAC,+JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,+JAAA,CAAA,WAAQ,CAAC,GAAG;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC;gBAAE,WAAU;;;;;;0BAE/E,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;;wBACZ;sCACD,6LAAC,mIAAA,CAAA,YAAS;4BAAC,WAAU;4BAAsD,OAAO,KAAK,IAAI;sCACxF,KAAK,IAAI;;;;;;;;;;;;;;;;;0BAKhB,6LAAC,mIAAA,CAAA,cAAW;gBAAC,WAAU;0BACrB,cAAA,6LAAC,oIAAA,CAAA,QAAK;oBAAC,SAAQ;oBAAU,WAAU;8BAChC,uBAAuB,KAAK,gBAAgB;;;;;;;;;;;YAIhD,KAAK,eAAe,kBAClB,6LAAC;gBAAI,WAAU;0BACZ,cAAA,6LAAC,qIAAA,CAAA,SAAM;oBACH,SAAQ;oBACR,MAAK;oBACL,WAAU;oBACV,SAAS;oBACT,cAAW;8BAEX,cAAA,6LAAC,qNAAA,CAAA,aAAU;wBAAC,MAAM;;;;;;;;;;;;;;;;0BAI5B,6LAAC,+JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,+JAAA,CAAA,WAAQ,CAAC,MAAM;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,OAAO,CAAC;gBAAE,WAAU;;;;;;0BACrF,6LAAC,+JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,+JAAA,CAAA,WAAQ,CAAC,MAAM;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,OAAO,CAAC;gBAAE,WAAU;;;;;;;;;;;;AAG3F;KAhDgB","debugId":null}},
    {"offset": {"line": 3637, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/PartnerNode.tsx"],"sourcesContent":["'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { User } from 'lucide-react'; // Using a generic User icon for partners\n\nexport type PartnerNodeData = {\n  id: string;\n  name: string;\n  // Add any other partner-specific data you might need\n};\n\nexport function PartnerNode({ id: nodeId, data, selected }: NodeProps<PartnerNodeData>) {\n  return (\n    <Card\n      className={`w-56 shadow-lg border-2 ${selected ? 'border-primary shadow-primary/30' : 'border-border'} bg-card relative rounded-lg`}\n      style={{ overflow: 'visible' }}\n    >\n      <Handle type=\"target\" position={Position.Top} id={`t-${nodeId}-partner-top`} className=\"!opacity-50 !bg-ring\" />\n\n      <CardHeader className=\"p-3 border-b border-border\">\n        <div className=\"flex items-center\">\n          <User size={18} className=\"text-primary mr-2\" />\n          <CardTitle className=\"text-sm font-semibold text-card-foreground truncate\" title={data.name}>\n            {data.name}\n          </CardTitle>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"p-3 text-xs\">\n        <span className=\"text-muted-foreground italic\">Partner</span>\n      </CardContent>\n\n      <Handle type=\"source\" position={Position.Bottom} id={`s-${nodeId}-partner-bottom`} className=\"!opacity-50 !bg-ring\" />\n    </Card>\n  );\n}"],"names":[],"mappings":";;;;AAGA;AACA;AACA,sVAAqC,yCAAyC;AAL9E;;;;;AAaO,SAAS,YAAY,EAAE,IAAI,MAAM,EAAE,IAAI,EAAE,QAAQ,EAA8B;IACpF,qBACE,6LAAC,mIAAA,CAAA,OAAI;QACH,WAAW,CAAC,wBAAwB,EAAE,WAAW,qCAAqC,gBAAgB,4BAA4B,CAAC;QACnI,OAAO;YAAE,UAAU;QAAU;;0BAE7B,6LAAC,+JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,+JAAA,CAAA,WAAQ,CAAC,GAAG;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,YAAY,CAAC;gBAAE,WAAU;;;;;;0BAEvF,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,qMAAA,CAAA,OAAI;4BAAC,MAAM;4BAAI,WAAU;;;;;;sCAC1B,6LAAC,mIAAA,CAAA,YAAS;4BAAC,WAAU;4BAAsD,OAAO,KAAK,IAAI;sCACxF,KAAK,IAAI;;;;;;;;;;;;;;;;;0BAKhB,6LAAC,mIAAA,CAAA,cAAW;gBAAC,WAAU;0BACrB,cAAA,6LAAC;oBAAK,WAAU;8BAA+B;;;;;;;;;;;0BAGjD,6LAAC,+JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,+JAAA,CAAA,WAAQ,CAAC,MAAM;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,eAAe,CAAC;gBAAE,WAAU;;;;;;;;;;;;AAGnG;KAxBgB","debugId":null}},
    {"offset": {"line": 3743, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/nodes/WalletNode.tsx"],"sourcesContent":["\n'use client';\n\nimport type { NodeProps } from 'reactflow';\nimport { Handle, Position } from 'reactflow';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Wallet as WalletIcon, Settings } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\n\nexport type WalletNodeData = {\n  id: string;\n  label: string;\n  // onSettingsClick is handled internally by router.push\n};\n\nexport function WalletNode({ id: nodeId, data, selected }: NodeProps<WalletNodeData>) {\n  const router = useRouter();\n\n  const handleSettingsClick = () => {\n    router.push('/wallet');\n  };\n\n  return (\n    <Card\n      className={`w-56 shadow-md border-2 ${selected ? 'border-accent shadow-accent/30' : 'border-border'} bg-card relative rounded-lg`}\n      style={{ overflow: 'visible' }}\n    >\n      <Handle type=\"target\" position={Position.Top} id={`t-${nodeId}-wallet-top`} className=\"!opacity-50 !bg-ring\" />\n\n      <CardHeader className=\"p-3 border-b border-border\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <WalletIcon size={18} className=\"text-accent mr-2\" />\n            <CardTitle className=\"text-sm font-semibold text-card-foreground truncate\" title={data.label}>\n              {data.label}\n            </CardTitle>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-6 w-6 text-muted-foreground hover:text-accent\"\n            onClick={handleSettingsClick}\n            aria-label=\"Wallet Settings\"\n          >\n            <Settings size={14} />\n          </Button>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"p-3 text-xs\">\n        <p className=\"text-muted-foreground\">Contains union's digital assets.</p>\n      </CardContent>\n\n      <Handle type=\"source\" position={Position.Bottom} id={`s-${nodeId}-wallet-bottom`} className=\"!opacity-50 !bg-ring\" />\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AAAA;AACA;;;AAPA;;;;;;AAeO,SAAS,WAAW,EAAE,IAAI,MAAM,EAAE,IAAI,EAAE,QAAQ,EAA6B;;IAClF,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,sBAAsB;QAC1B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6LAAC,mIAAA,CAAA,OAAI;QACH,WAAW,CAAC,wBAAwB,EAAE,WAAW,mCAAmC,gBAAgB,4BAA4B,CAAC;QACjI,OAAO;YAAE,UAAU;QAAU;;0BAE7B,6LAAC,+JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,+JAAA,CAAA,WAAQ,CAAC,GAAG;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,WAAW,CAAC;gBAAE,WAAU;;;;;;0BAEtF,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,yMAAA,CAAA,SAAU;oCAAC,MAAM;oCAAI,WAAU;;;;;;8CAChC,6LAAC,mIAAA,CAAA,YAAS;oCAAC,WAAU;oCAAsD,OAAO,KAAK,KAAK;8CACzF,KAAK,KAAK;;;;;;;;;;;;sCAGf,6LAAC,qIAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,WAAU;4BACV,SAAS;4BACT,cAAW;sCAEX,cAAA,6LAAC,6MAAA,CAAA,WAAQ;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;0BAKtB,6LAAC,mIAAA,CAAA,cAAW;gBAAC,WAAU;0BACrB,cAAA,6LAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;0BAGvC,6LAAC,+JAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,UAAU,+JAAA,CAAA,WAAQ,CAAC,MAAM;gBAAE,IAAI,CAAC,EAAE,EAAE,OAAO,cAAc,CAAC;gBAAE,WAAU;;;;;;;;;;;;AAGlG;GAzCgB;;QACC,qIAAA,CAAA,YAAS;;;KADV","debugId":null}},
    {"offset": {"line": 3892, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 3927, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,6KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4004, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4042, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/contract/ContractSettingsDialog.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n  DialogClose,\n} from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { PlusCircle, Trash2, Edit3, Users, Save, Landmark } from 'lucide-react';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Separator } from '@/components/ui/separator';\n\nexport interface ContractClause {\n  id: string;\n  text: string;\n}\n\ninterface ContractSettingsDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  clauses: ContractClause[];\n  onAddClause: (text: string) => void;\n  onRemoveClause: (id: string) => void;\n  onUpdateClause: (id: string, newText: string) => void;\n  dialogTitle?: string;\n  dialogDescription?: string;\n}\n\nconst suggestedClausesTemplates = {\n  assetSharing: [\n    { id: 'sug_as_1', text: \"Asset sharing in case of union dissolution: 50/50 division of assets acquired jointly during the agreement.\" },\n    { id: 'sug_as_2', text: \"Individually acquired assets before the union will remain as individual property of each party.\" },\n    { id: 'sug_as_3', text: \"In case of acquisition of the asset [SPECIFIC ASSET NAME], ownership will be divided X% for Party A and Z% for Party B.\" },\n  ],\n  cohabitationRules: [\n    { id: 'sug_cr_1', text: \"Operational expenses of the union (e.g., maintenance costs, fees) will be divided as follows: [Describe the division].\" },\n    { id: 'sug_cr_2', text: \"Major financial decisions (above [VALUE/CURRENCY]) must be discussed and approved by both parties of the union.\" },\n    { id: 'sug_cr_3', text: \"Financial contributions and responsibilities: [Define rules for contributions, work, etc.].\" },\n  ],\n};\n\nexport function ContractSettingsDialog({\n  isOpen,\n  onClose,\n  clauses,\n  onAddClause,\n  onRemoveClause,\n  onUpdateClause,\n  dialogTitle = \"Agreement Settings\",\n  dialogDescription = \"Add, view, edit, and manage the clauses of your contract. This system is flexible to accommodate various configurations and agreements.\"\n}: ContractSettingsDialogProps) {\n  const [newClauseText, setNewClauseText] = useState('');\n  const [editingClauseId, setEditingClauseId] = useState<string | null>(null);\n  const [currentClauseTextForEdit, setCurrentClauseTextForEdit] = useState('');\n\n  const handleEditClick = (clause: ContractClause) => {\n    setEditingClauseId(clause.id);\n    setCurrentClauseTextForEdit(clause.text);\n  };\n\n  const handleSaveOrAddClause = () => {\n    const textToSave = editingClauseId ? currentClauseTextForEdit : newClauseText;\n    if (textToSave.trim()) {\n      if (editingClauseId) {\n        onUpdateClause(editingClauseId, textToSave.trim());\n      } else {\n        onAddClause(textToSave.trim());\n      }\n      setNewClauseText('');\n      setCurrentClauseTextForEdit('');\n      setEditingClauseId(null);\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setCurrentClauseTextForEdit('');\n    setEditingClauseId(null);\n  };\n\n  const handleAddSuggestion = (text: string) => {\n    if (editingClauseId) {\n        setCurrentClauseTextForEdit(prev => prev ? `${prev}\\n${text}` : text);\n    } else {\n        setNewClauseText(prev => prev ? `${prev}\\n${text}` : text);\n    }\n  };\n\n  useEffect(() => {\n    if (!isOpen) {\n      setNewClauseText('');\n      setCurrentClauseTextForEdit('');\n      setEditingClauseId(null);\n    }\n  }, [isOpen]);\n\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-2xl lg:max-w-4xl xl:max-w-6xl max-h-[90vh] flex flex-col bg-card border-border\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl text-primary\">{dialogTitle}</DialogTitle>\n          <DialogDescription className=\"text-muted-foreground\">\n            {dialogDescription}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 py-4 flex-grow min-h-0\">\n          <div className=\"md:col-span-2 flex flex-col min-h-0\">\n            <h3 className=\"text-lg font-semibold mb-3 text-foreground\">Current Clauses</h3>\n            {clauses.length === 0 ? (\n              <p className=\"text-sm text-muted-foreground text-center py-10\">No clauses added yet. Start by adding a new one or using a suggestion.</p>\n            ) : (\n              <ScrollArea className=\"flex-grow border border-border rounded-md p-4 bg-background max-h-[calc(90vh-350px)] md:max-h-none\">\n                <ul className=\"space-y-3\">\n                  {clauses.map((clause) => (\n                    <li key={clause.id} className=\"p-3 bg-card shadow rounded-md text-sm text-card-foreground border border-border/50\">\n                      <p className=\"whitespace-pre-wrap flex-grow mb-2\">{clause.text}</p>\n                      <div className=\"flex justify-end space-x-2\">\n                        <Button variant=\"ghost\" size=\"sm\" className=\"text-primary hover:text-primary/80\" onClick={() => handleEditClick(clause)}>\n                          <Edit3 size={16} className=\"mr-1\" /> Edit\n                        </Button>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"text-destructive hover:text-destructive/80\" onClick={() => onRemoveClause(clause.id)}>\n                          <Trash2 size={16} className=\"mr-1\" /> Remove\n                        </Button>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </ScrollArea>\n            )}\n          </div>\n\n          <div className=\"flex flex-col space-y-6 min-h-0\">\n            <div>\n              <Label htmlFor=\"clause-text-area\" className=\"text-lg font-semibold mb-2 text-foreground block\">\n                {editingClauseId ? 'Edit Clause' : 'Add New Clause'}\n              </Label>\n              <Textarea\n                id=\"clause-text-area\"\n                value={editingClauseId ? currentClauseTextForEdit : newClauseText}\n                onChange={(e) => editingClauseId ? setCurrentClauseTextForEdit(e.target.value) : setNewClauseText(e.target.value)}\n                placeholder=\"Enter clause text here...\"\n                className=\"min-h-[100px] bg-input text-foreground placeholder:text-muted-foreground\"\n                rows={5}\n              />\n              <div className=\"mt-3 flex flex-col sm:flex-row gap-2\">\n                <Button onClick={handleSaveOrAddClause} className=\"w-full sm:flex-1 bg-primary hover:bg-primary/90 text-primary-foreground\" disabled={!(editingClauseId ? currentClauseTextForEdit.trim() : newClauseText.trim())}>\n                  {editingClauseId ? <><Save size={18} className=\"mr-2\" /> Save Changes</> : <><PlusCircle size={18} className=\"mr-2\" /> Add Clause</>}\n                </Button>\n                {editingClauseId && (\n                  <Button variant=\"outline\" onClick={handleCancelEdit} className=\"w-full sm:w-auto text-foreground/90 border-border hover:bg-muted/80\">\n                    Cancel Edit\n                  </Button>\n                )}\n              </div>\n            </div>\n\n            <Separator className=\"bg-border\"/>\n\n            <div>\n              <h3 className=\"text-lg font-semibold mb-3 text-foreground\">Clause Suggestions</h3>\n              <ScrollArea className=\"max-h-[calc(90vh-500px)] md:max-h-none pr-2\">\n                <div className=\"space-y-4\">\n                  <div>\n                    <h4 className=\"text-md font-semibold text-primary mb-1.5 flex items-center\"><Landmark size={18} className=\"mr-2\"/>Asset Sharing</h4>\n                    {suggestedClausesTemplates.assetSharing.map(sug => (\n                        <Button key={sug.id} variant=\"outline\" size=\"sm\" className=\"text-xs w-full justify-start text-left h-auto py-1.5 mb-1.5 text-foreground/90 border-border hover:bg-muted/80\" onClick={() => handleAddSuggestion(sug.text)}>\n                         {sug.text}\n                        </Button>\n                    ))}\n                  </div>\n                  <div>\n                    <h4 className=\"text-md font-semibold text-primary mb-1.5 flex items-center\"><Users size={18} className=\"mr-2\"/>Union Rules</h4>\n                     {suggestedClausesTemplates.cohabitationRules.map(sug => (\n                        <Button key={sug.id} variant=\"outline\" size=\"sm\" className=\"text-xs w-full justify-start text-left h-auto py-1.5 mb-1.5 text-foreground/90 border-border hover:bg-muted/80\" onClick={() => handleAddSuggestion(sug.text)}>\n                         {sug.text}\n                        </Button>\n                    ))}\n                  </div>\n                </div>\n              </ScrollArea>\n            </div>\n          </div>\n        </div>\n\n        <DialogFooter className=\"mt-auto pt-4 border-t border-border\">\n          <DialogClose asChild>\n            <Button type=\"button\" variant=\"outline\" className=\"text-foreground/90 border-border hover:bg-muted/80\">\n              Close\n            </Button>\n          </DialogClose>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4542, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28main%29/dashboard/page.tsx"],"sourcesContent":["\n\"use client\";\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useAuth } from '@/components/auth-provider';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter, DialogClose } from '@/components/ui/dialog';\nimport { Loader2, Users, Settings, Briefcase, Network, DollarSign, LayoutGrid, HomeIcon, Clock, User as UserIcon, FileText as FileTextIcon } from 'lucide-react';\nimport { AssetForm } from '@/components/assets/AssetForm';\nimport type { AssetFormData, ExtendedAssetNodeData, AssetTransaction } from '@/types/asset';\nimport { addAsset } from '@/actions/assetActions';\nimport { AddMemberForm } from '@/components/members/AddMemberForm';\nimport type { MemberFormData, Member } from '@/types/member';\nimport { addMember } from '@/actions/memberActions';\nimport { AssetReleaseDialog } from '@/components/assets/AssetReleaseDialog';\n\nimport { useToast } from '@/hooks/use-toast';\nimport ReactFlow, {\n  useNodesState,\n  useEdgesState,\n  addEdge,\n  Controls,\n  Background,\n  MarkerType,\n  Position,\n  type Node,\n  type Edge,\n  type OnConnect,\n  NodeOrigin,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\n\nimport { UnionNode, type UnionNodeData } from '@/components/nodes/UnionNode';\nimport { AssetNode } from '@/components/nodes/AssetNode';\nimport { MemberNode, type MemberNodeData as IMemberNodeData } from '@/components/nodes/MemberNode';\nimport { PartnerNode, type PartnerNodeData as IPartnerNodeData } from '@/components/nodes/PartnerNode';\nimport { WalletNode, type WalletNodeData as IWalletNodeData } from '@/components/nodes/WalletNode';\nimport { ContractSettingsDialog, type ContractClause } from '@/components/contract/ContractSettingsDialog';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card'; // Removed CardHeader, CardTitle, CardDescription as they are not directly used here\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Separator } from '@/components/ui/separator';\nimport { format } from 'date-fns';\nimport { enUS } from 'date-fns/locale';\nimport { Label } from '@/components/ui/label';\n\nconst UNION_NODE_ID = 'union-node';\nconst MAIN_WALLET_NODE_ID = 'main-wallet-node';\nconst nodeOrigin: NodeOrigin = [0.5, 0.5];\n\n// Layout constants\nconst UNION_NODE_X_POS = 750; \nconst UNION_NODE_Y_POS = 100;\nconst NODE_WIDTH = 224; // Standard node width\nconst HORIZONTAL_SPACING = 40; // Horizontal space between nodes in a row\nconst VERTICAL_SPACING = 180; // Standard vertical space between distinct rows/levels\n\nconst PARTNER_ROW_Y_OFFSET = VERTICAL_SPACING;\nconst WALLET_ROW_Y_OFFSET = VERTICAL_SPACING; \nconst CHILDREN_ROW_Y_OFFSET = VERTICAL_SPACING; \nconst ASSET_ROW_Y_OFFSET = VERTICAL_SPACING; \n\n\nconst initialNodes: Node[] = [];\nconst initialEdges: Edge[] = [];\n\nexport interface MemberWithBirthDate extends Member {\n  dataNascimento?: Date | string;\n}\n\nexport interface MemberWithBirthDateAndWallet extends MemberWithBirthDate {\n  walletAddress?: string;\n}\n\nexport interface ExtendedMemberNodeData extends IMemberNodeData {\n  walletAddress?: string;\n  onAddAssetClick: (memberId: string) => void;\n}\n\nexport type PartnerNodeData = IPartnerNodeData;\nexport type WalletNodeData = IWalletNodeData;\n\n\nexport interface GeneratedCertificate {\n  id: string;\n  dateGenerated: Date;\n  clausesSnapshot: ContractClause[];\n  unionName: string;\n}\n\nconst nodeTypes = {\n  unionNode: UnionNode,\n  assetNode: AssetNode,\n  memberNode: MemberNode,\n  partnerNode: PartnerNode,\n  walletNode: WalletNode,\n};\n\nexport default function AssetManagementDashboard() {\n  const { user, loading: authLoading } = useAuth();\n  const { toast } = useToast();\n\n  const [isAssetModalOpen, setIsAssetModalOpen] = useState(false);\n  const [isSubmittingAsset, setIsSubmittingAsset] = useState(false);\n  const [memberContextForAssetAdd, setMemberContextForAssetAdd] = useState<string | null>(null);\n\n  const [isAddMemberModalOpen, setIsAddMemberModalOpen] = useState(false);\n  const [isSubmittingMember, setIsSubmittingMember] = useState(false);\n\n  const [nodes, setNodes, onNodesChange] = useNodesState<Node<UnionNodeData | ExtendedAssetNodeData | ExtendedMemberNodeData | PartnerNodeData | WalletNodeData>[]>(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const [allMembers, setAllMembers] = useState<MemberWithBirthDateAndWallet[]>([]);\n\n  const [isContractSettingsModalOpen, setIsContractSettingsModalOpen] = useState(false);\n  const [contractClauses, setContractClauses] = useState<ContractClause[]>([\n    { id: 'initial-1', text: \"All assets acquired during the union will be divided equally (50/50) in case of separation.\" },\n    { id: 'initial-2', text: \"Ordinary household expenses will be borne by both spouses, in proportion to their respective incomes.\" },\n  ]);\n\n  const [isAssetDetailsModalOpen, setIsAssetDetailsModalOpen] = useState(false);\n  const [selectedAssetForDetails, setSelectedAssetForDetails] = useState<ExtendedAssetNodeData | null>(null);\n\n  const [isAssetReleaseModalOpen, setIsAssetReleaseModalOpen] = useState(false);\n  const [selectedAssetForReleaseManagement, setSelectedAssetForReleaseManagement] = useState<ExtendedAssetNodeData | null>(null);\n  const [isSubmittingRelease, setIsSubmittingRelease] = useState(false);\n\n  const [isCertificateModalOpen, setIsCertificateModalOpen] = useState(false);\n  const [generatedCertificates, setGeneratedCertificates] = useState<GeneratedCertificate[]>([]);\n  const [isHoldingReportModalOpen, setIsHoldingReportModalOpen] = useState(false);\n\n  const onConnect: OnConnect = useCallback(\n    (params) => setEdges((eds) => addEdge({ ...params, type: 'smoothstep', markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' } }, eds)),\n    [setEdges]\n  );\n\n  const handleOpenContractSettings = useCallback(() => {\n    const userClauses = user?.contractClauses || [\n      { id: 'initial-1', text: 'All assets acquired during the union will be divided equally (50/50) in case of separation.' },\n      { id: 'initial-2', text: 'Ordinary household expenses will be borne by both spouses, in proportion to their respective incomes.' },\n    ];\n    setContractClauses(userClauses);\n    setIsContractSettingsModalOpen(true);\n  }, [user?.contractClauses]);\n\n  const handleAddContractClause = (text: string) => {\n    const newClause: ContractClause = {\n      id: `clause-${Date.now()}-${Math.random().toString(36).substring(2, 7)}`,\n      text,\n    };\n    setContractClauses(prev => [...prev, newClause]);\n    toast({ title: 'Clause Added', description: 'New clause saved to the agreements.' });\n  };\n\n  const handleRemoveClause = (id: string) => {\n    setContractClauses(prev => prev.filter(clause => clause.id !== id));\n    toast({ title: 'Clause Removed', description: 'The clause has been removed from the agreements.' });\n  };\n\n  const handleUpdateContractClause = (id: string, newText: string) => {\n    setContractClauses(prev => prev.map(clause => clause.id === id ? { ...clause, text: newText } : clause));\n    toast({ title: 'Clause Updated', description: 'The clause has been successfully modified.' });\n  };\n\n  const handleOpenAssetModalForUnion = useCallback(() => {\n    setMemberContextForAssetAdd(null);\n    setIsAssetModalOpen(true);\n  }, []);\n\n  const handleOpenAssetModalForMember = useCallback((memberId: string) => {\n    setMemberContextForAssetAdd(memberId);\n    setIsAssetModalOpen(true);\n  }, []);\n\n  const handleOpenAddMemberModal = useCallback(() => {\n    setIsAddMemberModalOpen(true);\n  }, []);\n\n  const handleOpenAssetDetailsModal = useCallback((assetData: ExtendedAssetNodeData) => {\n    setSelectedAssetForDetails(assetData);\n    setIsAssetDetailsModalOpen(true);\n  }, []);\n\n  const handleCloseAssetDetailsModal = useCallback(() => {\n    setIsAssetDetailsModalOpen(false);\n    setSelectedAssetForDetails(null);\n  }, []);\n\n  const handleOpenReleaseDialog = useCallback((assetData: ExtendedAssetNodeData) => {\n    setSelectedAssetForReleaseManagement(assetData);\n    setIsAssetReleaseModalOpen(true);\n  }, []);\n\n  const handleCloseReleaseDialog = useCallback(() => {\n    setIsAssetReleaseModalOpen(false);\n    setSelectedAssetForReleaseManagement(null);\n  }, []);\n\n  const handleSaveAssetReleaseCondition = useCallback(async (assetId: string, targetAge: number | undefined) => {\n    setIsSubmittingRelease(true);\n    await new Promise(resolve => setTimeout(resolve, 500)); \n\n    setNodes(prevNodes =>\n      prevNodes.map(node => {\n        if (node.id === assetId && node.type === 'assetNode') {\n          const updatedData = { ...node.data as ExtendedAssetNodeData };\n          if (targetAge !== undefined) {\n            updatedData.releaseCondition = { type: 'age', targetAge };\n          } else {\n            delete updatedData.releaseCondition;\n          }\n          return { ...node, data: updatedData };\n        }\n        return node;\n      })\n    );\n    setIsSubmittingRelease(false);\n    handleCloseReleaseDialog();\n    toast({\n      title: 'Release Condition Updated',\n      description: targetAge ? `Release age set to ${targetAge}.` : 'Release condition removed.',\n    });\n  }, [setNodes, handleCloseReleaseDialog, toast]);\n\n  const handleGenerateNewCertificate = () => {\n    if (!user || contractClauses.length === 0) {\n      toast({\n        title: \"Cannot Generate Certificate\",\n        description: \"Please ensure there are contract agreements defined and you are logged in.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    const newCertificate: GeneratedCertificate = {\n      id: `cert-${Date.now()}`,\n      dateGenerated: new Date(),\n      clausesSnapshot: [...contractClauses], \n      unionName: user.displayName || \"Unnamed Union\",\n    };\n    setGeneratedCertificates(prev => [newCertificate, ...prev]);\n    toast({\n      title: \"Certificate Generated\",\n      description: \"A new certificate has been generated and added to the history.\",\n    });\n  };\n\n  const effectiveUser = user || {\n    uid: 'mock-uid-default',\n    displayName: 'My Union (Mock)',\n    email: 'mock@example.com',\n    relationshipStructure: 'monogamous',\n    religion: undefined,\n    partners: [{name: 'Partner 1'}, {name: 'Partner 2'}],\n    isWalletConnected: false,\n    connectedWalletAddress: null,\n    holdingType: '',\n    cnpjHolding: '',\n    contractClauses: [],\n  };\n\n useEffect(() => {\n    if (authLoading) return;\n\n    let currentNodes: Node<UnionNodeData | PartnerNodeData | WalletNodeData | ExtendedMemberNodeData | ExtendedAssetNodeData>[] = [...nodes];\n    let currentEdges: Edge[] = [...edges];\n    let nodesChanged = false;\n    let edgesChanged = false;\n    \n    let currentYLevel = UNION_NODE_Y_POS;\n\n    // 1. Ensure Union Node\n    const unionNodeExists = currentNodes.some(n => n.id === UNION_NODE_ID);\n    if (!unionNodeExists && effectiveUser?.displayName) {\n        const unionNodeData: UnionNodeData = {\n            label: effectiveUser.displayName,\n            onSettingsClick: handleOpenContractSettings,\n            onOpenAssetModal: handleOpenAssetModalForUnion, // For physical assets to Union\n            onAddMember: handleOpenAddMemberModal,\n        };\n        currentNodes = [{\n            id: UNION_NODE_ID, type: 'unionNode', position: { x: UNION_NODE_X_POS, y: currentYLevel },\n            data: unionNodeData, draggable: true, nodeOrigin,\n        }];\n        currentEdges = [];\n        nodesChanged = true;\n        edgesChanged = true;\n    } else if (unionNodeExists) {\n        const unionNode = currentNodes.find(n => n.id === UNION_NODE_ID)!;\n        if ((unionNode.data as UnionNodeData).label !== effectiveUser.displayName) {\n            unionNode.data = { ...(unionNode.data as UnionNodeData), label: effectiveUser.displayName! };\n            nodesChanged = true;\n        }\n    }\n    const unionNodeForLayout = currentNodes.find(n => n.id === UNION_NODE_ID);\n    if (!unionNodeForLayout) return;\n\n    // 2. Ensure Partner Nodes\n    let partnersAddedOrExist = false;\n    if (user?.partners && user.partners.length > 0) {\n        currentYLevel += PARTNER_ROW_Y_OFFSET;\n        const partnerNodesInCurrent = currentNodes.filter(n => n.type === 'partnerNode');\n        const totalWidthForPartners = (user.partners.length * NODE_WIDTH) + (Math.max(0, user.partners.length - 1) * HORIZONTAL_SPACING);\n        let currentPartnerX = UNION_NODE_X_POS - (totalWidthForPartners / 2) + (NODE_WIDTH / 2);\n\n        user.partners.forEach((partner, index) => {\n            const partnerId = `partner-${index}-${partner.name.replace(/\\s+/g, '-').toLowerCase()}`;\n            if (!currentNodes.some(n => n.id === partnerId)) {\n                currentNodes.push({\n                    id: partnerId, type: 'partnerNode', position: { x: currentPartnerX, y: currentYLevel },\n                    data: { id: partnerId, name: partner.name }, draggable: true, nodeOrigin,\n                });\n                currentEdges.push({\n                    id: `e-${UNION_NODE_ID}-${partnerId}`, source: UNION_NODE_ID, target: partnerId,\n                    type: 'smoothstep', markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' },\n                    style: { stroke: 'hsl(var(--primary))', strokeWidth: 1.5 },\n                });\n                nodesChanged = true;\n                edgesChanged = true;\n            }\n            const existingPartnerNode = currentNodes.find(n => n.id === partnerId);\n            if (existingPartnerNode && existingPartnerNode.position.y !== currentYLevel) {\n                 existingPartnerNode.position = { x: currentPartnerX, y: currentYLevel };\n                 nodesChanged = true;\n            }\n            currentPartnerX += NODE_WIDTH + HORIZONTAL_SPACING;\n            partnersAddedOrExist = true;\n        });\n    }\n\n    // 3. Ensure Main Wallet Node\n    let walletNodeAddedOrExists = false;\n    if (user?.isWalletConnected) {\n        currentYLevel += WALLET_ROW_Y_OFFSET; // Wallet is below partners or union\n        if (!currentNodes.some(n => n.id === MAIN_WALLET_NODE_ID)) {\n            currentNodes.push({\n                id: MAIN_WALLET_NODE_ID, type: 'walletNode', position: { x: UNION_NODE_X_POS, y: currentYLevel },\n                data: { id: MAIN_WALLET_NODE_ID, label: \"Connected Wallet\" }, draggable: true, nodeOrigin,\n            });\n            currentEdges.push({\n                id: `e-${UNION_NODE_ID}-${MAIN_WALLET_NODE_ID}`, source: UNION_NODE_ID, target: MAIN_WALLET_NODE_ID,\n                type: 'smoothstep', markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' },\n                style: { stroke: 'hsl(var(--primary))', strokeWidth: 1.5 },\n            });\n            nodesChanged = true;\n            edgesChanged = true;\n        }\n        const existingWalletNode = currentNodes.find(n => n.id === MAIN_WALLET_NODE_ID);\n        if(existingWalletNode && existingWalletNode.position.y !== currentYLevel){\n            existingWalletNode.position = {x: UNION_NODE_X_POS, y: currentYLevel};\n            nodesChanged = true;\n        }\n        walletNodeAddedOrExists = true;\n    }\n    \n    // 4. Position Children Nodes\n    let childrenExist = false;\n    const childrenNodes = currentNodes.filter(n => n.type === 'memberNode' && currentEdges.some(e => e.source === UNION_NODE_ID && e.target === n.id));\n    if (childrenNodes.length > 0) {\n        currentYLevel += CHILDREN_ROW_Y_OFFSET; // Children below wallet or partners or union\n        const totalWidthForChildren = (childrenNodes.length * NODE_WIDTH) + (Math.max(0, childrenNodes.length - 1) * HORIZONTAL_SPACING);\n        let currentChildX = UNION_NODE_X_POS - (totalWidthForChildren / 2) + (NODE_WIDTH / 2);\n        childrenNodes.forEach(childNode => {\n            if (childNode.position.y !== currentYLevel) {\n                childNode.position = { x: currentChildX, y: currentYLevel };\n                nodesChanged = true;\n            }\n            currentChildX += NODE_WIDTH + HORIZONTAL_SPACING;\n        });\n        childrenExist = true;\n    }\n\n\n    // 5. Add Mock Digital Assets (Bitcoin, Ethereum to Wallet; USDC to Child)\n    if (user?.isWalletConnected && currentNodes.some(n => n.id === MAIN_WALLET_NODE_ID)) {\n        const walletNodeInstance = currentNodes.find(n => n.id === MAIN_WALLET_NODE_ID)!;\n        const digitalAssetsYPos = walletNodeInstance.position.y + ASSET_ROW_Y_OFFSET;\n        const mockUnionAssets = [\n            { name: 'Bitcoin', qty: 0.5, assetId: 'mock-btc-wallet' },\n            { name: 'Ethereum', qty: 10, assetId: 'mock-eth-wallet' },\n        ];\n        \n        const totalWidthForDigitalAssets = (mockUnionAssets.length * NODE_WIDTH) + (Math.max(0, mockUnionAssets.length - 1) * HORIZONTAL_SPACING);\n        let currentDigitalAssetX = UNION_NODE_X_POS - (totalWidthForDigitalAssets / 2) + (NODE_WIDTH / 2);\n\n        mockUnionAssets.forEach(assetInfo => {\n            if (!currentNodes.some(n => n.id === assetInfo.assetId)) {\n                let assetData: ExtendedAssetNodeData = {\n                    id: assetInfo.assetId, userId: effectiveUser.uid, nomeAtivo: assetInfo.name, tipo: 'digital',\n                    quantidadeTotalDigital: assetInfo.qty,\n                    transactions: [{ id: `tx-${assetInfo.assetId}`, dataAquisicao: new Date(), quantidadeDigital: assetInfo.qty, quemComprou: 'Connected Wallet' }],\n                    isAutoLoaded: true, observacoes: `Asset ${assetInfo.name} automatically loaded.`,\n                    onOpenDetails: () => {}, onOpenReleaseDialog: () => {},\n                };\n                assetData.onOpenDetails = () => handleOpenAssetDetailsModal(assetData);\n                assetData.onOpenReleaseDialog = (ad) => handleOpenReleaseDialog(ad);\n\n                currentNodes.push({\n                    id: assetInfo.assetId, type: 'assetNode', position: { x: currentDigitalAssetX, y: digitalAssetsYPos },\n                    data: assetData, draggable: true, nodeOrigin,\n                });\n                currentEdges.push({\n                    id: `e-${MAIN_WALLET_NODE_ID}-${assetInfo.assetId}`, source: MAIN_WALLET_NODE_ID, target: assetInfo.assetId,\n                    type: 'smoothstep', markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--accent))' },\n                    style: { stroke: 'hsl(var(--accent))', strokeWidth: 1.5 },\n                });\n                nodesChanged = true;\n                edgesChanged = true;\n            }\n            currentDigitalAssetX += NODE_WIDTH + HORIZONTAL_SPACING;\n        });\n\n        const firstChild = allMembers.find(m => m.tipoRelacao === 'filho_a');\n        if (firstChild?.id) {\n            const childNode = currentNodes.find(n => n.id === firstChild.id && n.type === 'memberNode');\n            if (childNode) {\n                const usdcAssetId = `mock-usdc-child-${firstChild.id}`;\n                if (!currentNodes.some(n => n.id === usdcAssetId)) {\n                    const childAssetYPos = childNode.position.y + ASSET_ROW_Y_OFFSET;\n                    let usdcData: ExtendedAssetNodeData = {\n                        id: usdcAssetId, userId: effectiveUser.uid, nomeAtivo: 'USDC', tipo: 'digital',\n                        quantidadeTotalDigital: 5000,\n                        transactions: [{ id: `tx-usdc-${firstChild.id}`, dataAquisicao: new Date(), quantidadeDigital: 5000, quemComprou: 'Connected Wallet' }],\n                        isAutoLoaded: true, assignedToMemberId: firstChild.id,\n                        releaseCondition: { type: 'age', targetAge: 18 },\n                        observacoes: \"USDC Reserve for the child.\",\n                        onOpenDetails: () => {}, onOpenReleaseDialog: () => {},\n                    };\n                    usdcData.onOpenDetails = () => handleOpenAssetDetailsModal(usdcData);\n                    usdcData.onOpenReleaseDialog = (ad) => handleOpenReleaseDialog(ad);\n                    currentNodes.push({\n                        id: usdcAssetId, type: 'assetNode', position: { x: childNode.position.x, y: childAssetYPos },\n                        data: usdcData, draggable: true, nodeOrigin,\n                    });\n                    currentEdges.push({\n                        id: `e-${firstChild.id}-${usdcAssetId}`, source: firstChild.id, target: usdcAssetId,\n                        type: 'smoothstep', markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--accent))' },\n                        style: { stroke: 'hsl(var(--accent))', strokeWidth: 1.5 },\n                    });\n                    nodesChanged = true;\n                    edgesChanged = true;\n                }\n            }\n        }\n    }\n    \n    // Remove Wallet node if not connected\n    if (!user?.isWalletConnected && currentNodes.some(n => n.id === MAIN_WALLET_NODE_ID)) {\n        currentNodes = currentNodes.filter(n => n.id !== MAIN_WALLET_NODE_ID);\n        currentEdges = currentEdges.filter(e => e.source !== MAIN_WALLET_NODE_ID && e.target !== MAIN_WALLET_NODE_ID);\n        // Also remove assets that were only linked to the wallet\n        currentNodes = currentNodes.filter(n => !(n.type === 'assetNode' && (n.data as ExtendedAssetNodeData).isAutoLoaded && !edges.some(e => e.target === n.id)));\n        nodesChanged = true;\n        edgesChanged = true;\n    }\n\n\n    if (nodesChanged) setNodes(currentNodes);\n    if (edgesChanged) setEdges(currentEdges);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    authLoading, \n    user?.isWalletConnected, \n    user?.uid, \n    user?.partners, \n    effectiveUser.displayName, \n    allMembers, // Using allMembers directly for dependency\n    // setNodes, setEdges, // Removed to avoid potential loops, relying on nodesChanged/edgesChanged flags\n    // Callbacks are memoized, so they are stable dependencies\n    handleOpenContractSettings, \n    handleOpenAssetModalForUnion, \n    handleOpenAddMemberModal, \n    handleOpenReleaseDialog, \n    handleOpenAssetDetailsModal\n  ]);\n\n\n  const memberHasBirthDate = (memberId?: string): boolean => {\n    if (!memberId) return false;\n    const member = allMembers.find(m => m.id === memberId);\n    return !!member?.dataNascimento;\n  };\n\n  const handleAddAssetSubmit = async (formData: AssetFormData) => { // formData is now for Physical Assets\n    if (!effectiveUser) {\n        toast({ title: 'Error!', description: 'User not authenticated.', variant: 'destructive' });\n        return;\n    }\n    setIsSubmittingAsset(true);\n    \n    // Ensure 'tipo' is 'fisico' since form is now only for physical assets\n    const physicalAssetData: AssetFormData = { ...formData };\n    \n    const result = await addAsset(physicalAssetData, effectiveUser.uid);\n    \n    if (result.success && result.assetId && result.transactionId) {\n        const newTransaction: AssetTransaction = {\n            id: result.transactionId,\n            dataAquisicao: formData.dataAquisicao,\n            // No valorPagoEpocaDigital for physical assets from this form\n            quemComprou: formData.quemComprou === \"UNSPECIFIED_BUYER\" || !formData.quemComprou ? \"Main Union (Ipê Acta)\" : formData.quemComprou,\n            contribuicaoParceiro1: formData.contribuicaoParceiro1,\n            contribuicaoParceiro2: formData.contribuicaoParceiro2,\n            observacoes: formData.observacoes, // Transaction specific notes\n            tipoImovelBemFisico: formData.tipoImovelBemFisico, \n            enderecoLocalizacaoFisico: formData.enderecoLocalizacaoFisico, \n        };\n        \n        const processedAssignedToMemberId = memberContextForAssetAdd || (formData.assignedToMemberId === \"UNASSIGNED\" ? undefined : formData.assignedToMemberId);\n        const actualSourceNodeId = processedAssignedToMemberId || UNION_NODE_ID;\n        const sourceNodeInstance = nodes.find(n => n.id === actualSourceNodeId);\n\n        if (!sourceNodeInstance) {\n            console.error(\"Source node not found for physical asset:\", actualSourceNodeId);\n            setIsSubmittingAsset(false);\n            setMemberContextForAssetAdd(null);\n            toast({ title: 'Error!', description: 'Parent node for physical asset not found.', variant: 'destructive' });\n            return;\n        }\n        \n        let nodeDataPayload: ExtendedAssetNodeData = {\n            id: result.assetId, \n            userId: effectiveUser.uid,\n            nomeAtivo: formData.nomeAtivo,\n            tipo: 'fisico', // Explicitly 'fisico'\n            transactions: [newTransaction],\n            observacoes: formData.observacoes, // General notes for the asset, distinct from transaction notes\n            assignedToMemberId: processedAssignedToMemberId,\n            releaseCondition: formData.setReleaseCondition && formData.releaseTargetAge && memberHasBirthDate(processedAssignedToMemberId) ? { type: 'age', targetAge: formData.releaseTargetAge } : undefined,\n            isAutoLoaded: false, // Physical assets are manually added\n            tipoImovelBemFisico: formData.tipoImovelBemFisico,\n            enderecoLocalizacaoFisico: formData.enderecoLocalizacaoFisico,\n            onOpenDetails: () => {},\n            onOpenReleaseDialog: () => {},\n        };\n        nodeDataPayload.onOpenDetails = () => handleOpenAssetDetailsModal(nodeDataPayload);\n        nodeDataPayload.onOpenReleaseDialog = (ad) => handleOpenReleaseDialog(ad);\n\n        const sourceNodeX = sourceNodeInstance.position?.x ?? UNION_NODE_X_POS;\n        const sourceNodeY = sourceNodeInstance.position?.y ?? UNION_NODE_Y_POS;\n        \n        const physicalAssetNodesLinkedToSource = nodes.filter(n => \n            n.type === 'assetNode' && \n            edges.some(e => e.source === actualSourceNodeId && e.target === n.id) &&\n            (n.data as ExtendedAssetNodeData).tipo === 'fisico' \n        );\n        const physicalAssetCount = physicalAssetNodesLinkedToSource.length;\n\n        const totalWidthForRow = ((physicalAssetCount + 1) * NODE_WIDTH) + (physicalAssetCount * HORIZONTAL_SPACING);\n        const startX = sourceNodeX - (totalWidthForRow / 2) + (NODE_WIDTH / 2);\n        const xPos = startX + (physicalAssetCount * (NODE_WIDTH + HORIZONTAL_SPACING));\n        const yPos = sourceNodeY + ASSET_ROW_Y_OFFSET;\n\n\n        const newAssetNodeReactFlow: Node<ExtendedAssetNodeData> = {\n            id: result.assetId, type: 'assetNode', data: nodeDataPayload,\n            position: { x: xPos, y: yPos },\n            draggable: true, nodeOrigin,\n        };\n\n        setNodes((prevNodes) => prevNodes.concat(newAssetNodeReactFlow));\n        setEdges((prevEdges) => prevEdges.concat({\n            id: `e-${actualSourceNodeId}-${result.assetId!}`, source: actualSourceNodeId, target: result.assetId!,\n            type: 'smoothstep', markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' },\n            style: { stroke: 'hsl(var(--primary))', strokeWidth: 1.5 },\n        }));\n        toast({ title: 'Success!', description: `Asset ${formData.nomeAtivo} added successfully.` });\n        \n    } else {\n        toast({ title: 'Error!', description: result.error || 'Could not add physical asset.', variant: 'destructive' });\n    }\n    \n    setIsAssetModalOpen(false);\n    setMemberContextForAssetAdd(null);\n    setIsSubmittingAsset(false);\n  };\n\n\n  const handleAddMemberSubmit = async (data: MemberFormData) => {\n    if (!effectiveUser) {\n      toast({ title: 'Error!', description: 'User not authenticated.', variant: 'destructive' });\n      return;\n    }\n    setIsSubmittingMember(true);\n    const result = await addMember(data, UNION_NODE_ID); \n    if (result.success && result.memberId) {\n      toast({ title: 'Success!', description: 'Child added successfully.' });\n\n       const newMemberData: MemberWithBirthDateAndWallet = {\n        id: result.memberId,\n        unionId: UNION_NODE_ID,\n        nome: data.nome,\n        tipoRelacao: data.tipoRelacao, \n        dataNascimento: data.dataNascimento,\n        walletAddress: data.walletAddress,\n      };\n      setAllMembers(prev => [...prev, newMemberData]);\n\n      const unionNodeInstance = nodes.find(n => n.id === UNION_NODE_ID);\n      if (!unionNodeInstance) {\n        console.error(\"Union node not found for member addition.\");\n        setIsSubmittingMember(false);\n        return;\n      }\n      \n      const unionNodeX = unionNodeInstance.position?.x ?? UNION_NODE_X_POS;\n      let yPosForChildren = unionNodeInstance.position.y + CHILDREN_ROW_Y_OFFSET;\n\n      const partnerNodes = nodes.filter(n => n.type === 'partnerNode');\n      if (partnerNodes.length > 0) {\n        yPosForChildren = (partnerNodes[0].position.y) + CHILDREN_ROW_Y_OFFSET;\n      }\n      \n      const walletNode = nodes.find(n => n.id === MAIN_WALLET_NODE_ID);\n      if (walletNode && walletNode.position.y >= yPosForChildren - CHILDREN_ROW_Y_OFFSET + (VERTICAL_SPACING/2) ) { // Check if wallet is effectively on same level or below where partners *would* be\n         yPosForChildren = walletNode.position.y + CHILDREN_ROW_Y_OFFSET;\n      }\n\n\n      const memberNodesCurrent = nodes.filter(n => n.type === 'memberNode' && edges.some(e => e.source === UNION_NODE_ID && e.target === n.id));\n      const memberNodesCount = memberNodesCurrent.length;\n\n      const totalWidthForRow = ((memberNodesCount + 1) * NODE_WIDTH) + (memberNodesCount * HORIZONTAL_SPACING);\n      const startX = unionNodeX - (totalWidthForRow / 2) + (NODE_WIDTH / 2);\n      const xPos = startX + (memberNodesCount * (NODE_WIDTH + HORIZONTAL_SPACING));\n\n      const nodeDataPayload: ExtendedMemberNodeData = {\n        id: result.memberId,\n        name: data.nome,\n        relationshipType: data.tipoRelacao,\n        onAddAssetClick: (memberId) => handleOpenAssetModalForMember(memberId),\n        walletAddress: data.walletAddress,\n      };\n\n      const newMemberNodeReactFlow: Node<ExtendedMemberNodeData> = {\n        id: result.memberId,\n        type: 'memberNode',\n        data: nodeDataPayload,\n        position: { x: xPos, y: yPosForChildren },\n        draggable: true,\n        nodeOrigin,\n      };\n      setNodes((prevNodes) => prevNodes.concat(newMemberNodeReactFlow));\n\n      const newEdge: Edge = {\n        id: `e-${UNION_NODE_ID}-${result.memberId}`,\n        source: UNION_NODE_ID,\n        target: result.memberId,\n        type: 'smoothstep',\n        markerEnd: { type: MarkerType.ArrowClosed, color: 'hsl(var(--primary))' },\n        style: { stroke: 'hsl(var(--primary))', strokeWidth: 1.5 },\n      };\n      setEdges((prevEdges) => prevEdges.concat(newEdge));\n\n      setIsAddMemberModalOpen(false);\n    } else {\n      toast({ title: 'Error!', description: result.error || 'Could not add child.', variant: 'destructive' });\n    }\n    setIsSubmittingMember(false);\n  };\n\n  const availableMembersForAssetForm = useMemo(() => allMembers.map(member => ({\n      id: member.id!,\n      name: member.nome,\n      birthDate: member.dataNascimento,\n    })), [allMembers]);\n\n  const selectedMemberForReleaseDialog = useMemo(() => {\n    if (selectedAssetForReleaseManagement?.assignedToMemberId) {\n      return allMembers.find(m => m.id === selectedAssetForReleaseManagement.assignedToMemberId) || null;\n    }\n    return null;\n  }, [selectedAssetForReleaseManagement, allMembers]);\n\n\n  if (authLoading && !nodes.find(n => n.id === UNION_NODE_ID)) {\n    return (\n      <div className=\"flex min-h-[calc(100vh-var(--header-height,60px)-2rem)] items-center justify-center\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  const getMemberNameById = (memberId?: string) => {\n    if (!memberId || memberId === \"Main Union (Ipê Acta)\" || memberId === \"Connected Wallet\") return 'Main Union (Ipê Acta)';\n    const member = allMembers.find(m => m.id === memberId);\n    if (member) return member.nome;\n    const partner = user?.partners?.find(p => {\n      const partnerIdBase = `partner-${p.name.replace(/\\s+/g, '-').toLowerCase()}`;\n      // Check against possible partner ID formats (index-based and direct name-based)\n      return [`partner-0-${p.name.replace(/\\s+/g, '-').toLowerCase()}`, `partner-1-${p.name.replace(/\\s+/g, '-').toLowerCase()}`].includes(memberId) || memberId.endsWith(p.name.replace(/\\s+/g, '-').toLowerCase());\n    });\n    if (partner) return partner.name;\n    return 'Unknown Member';\n  };\n\n  const generateHoldingReportText = () => {\n    let report = \"Holding Report\\n\";\n    report += \"Generated on: \" + format(new Date(), \"MM/dd/yyyy HH:mm\", { locale: enUS }) + \"\\n\\n\";\n    report += `Union: ${effectiveUser.displayName || 'N/A'}\\n`;\n    if (effectiveUser.isWalletConnected && effectiveUser.connectedWalletAddress) {\n        report += `Connected Wallet: ${effectiveUser.connectedWalletAddress}\\n`;\n    }\n    report += \"--------------------------------------\\n\\n\";\n    \n    const partnerNodesData = nodes.filter(node => node.type === 'partnerNode').map(n => n.data as PartnerNodeData);\n    if (partnerNodesData.length > 0) {\n        report += \"Partners in Union:\\n\";\n        partnerNodesData.forEach(partner => {\n            report += `- ${partner.name}\\n`;\n        });\n        report += \"\\n\";\n    }\n\n    const walletAssets = nodes.filter(node => node.type === 'assetNode' && edges.some(edge => edge.source === MAIN_WALLET_NODE_ID && edge.target === node.id));\n    if (walletAssets.length > 0) {\n        report += \"Assets in Connected Wallet:\\n\";\n        walletAssets.forEach(assetNode => {\n            const asset = assetNode.data as ExtendedAssetNodeData;\n            report += `- ${asset.nomeAtivo} (${asset.tipo})\\n`;\n            if (asset.tipo === 'digital' && asset.quantidadeTotalDigital) {\n              report += `  Quantity: ${asset.quantidadeTotalDigital.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 })}\\n`;\n            }\n            if (asset.observacoes) {\n              report += `  Notes: ${asset.observacoes}\\n`;\n            }\n            report += \"\\n\";\n        });\n    } else if (effectiveUser.isWalletConnected) {\n        report += \"No specific assets automatically loaded from the connected wallet in this view.\\n\\n\";\n    }\n\n    const unionPhysicalAssets = nodes.filter(node => node.type === 'assetNode' && (node.data as ExtendedAssetNodeData).tipo === 'fisico' && edges.some(edge => edge.source === UNION_NODE_ID && edge.target === node.id));\n    if (unionPhysicalAssets.length > 0) {\n      report += \"Physical Assets Directly Under Union:\\n\";\n      unionPhysicalAssets.forEach(assetNode => {\n        const asset = assetNode.data as ExtendedAssetNodeData;\n        report += `- ${asset.nomeAtivo} (${(asset as ExtendedAssetNodeData).tipoImovelBemFisico || 'Physical Good'})\\n`;\n        if (asset.observacoes) {\n          report += `  Notes: ${asset.observacoes}\\n`;\n        }\n        report += \"\\n\";\n      });\n    } else {\n      report += \"No physical assets directly under the main union.\\n\\n\";\n    }\n\n    const children = nodes.filter(node => node.type === 'memberNode' && edges.some(edge => edge.source === UNION_NODE_ID && edge.target === node.id));\n    if (children.length > 0) {\n      report += \"Members (Children):\\n\";\n      children.forEach(childNode => {\n        const child = childNode.data as ExtendedMemberNodeData;\n        report += `\\nMember: ${child.name}\\n`;\n        if (child.walletAddress) {\n          report += `  Wallet: ${child.walletAddress}\\n`;\n        }\n        const childAssets = nodes.filter(assetN => assetN.type === 'assetNode' && edges.some(edge => edge.source === childNode.id && edge.target === assetN.id));\n        if (childAssets.length > 0) {\n          report += \"  Assigned Assets:\\n\";\n          childAssets.forEach(assetNode => {\n            const asset = assetNode.data as ExtendedAssetNodeData;\n            report += `  - ${asset.nomeAtivo} (${asset.tipo})\\n`;\n            if (asset.tipo === 'digital' && asset.quantidadeTotalDigital) {\n              report += `    Quantity: ${asset.quantidadeTotalDigital.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 })}\\n`;\n            }\n            if (asset.tipo === 'fisico' && (asset as ExtendedAssetNodeData).tipoImovelBemFisico) {\n              report += `    Type: ${(asset as ExtendedAssetNodeData).tipoImovelBemFisico}\\n`;\n            }\n            if (asset.releaseCondition?.type === 'age') {\n              report += `    Releases at: ${asset.releaseCondition.targetAge} years old\\n`;\n            }\n            if (asset.observacoes) {\n              report += `    Notes: ${asset.observacoes}\\n`;\n            }\n          });\n        } else {\n          report += \"  No assets assigned to this member.\\n\";\n        }\n      });\n    } else {\n      report += \"No members (children) added to the union.\\n\";\n    }\n    return report;\n  };\n\n\n  return (\n    <div className=\"flex flex-col h-[calc(100vh-var(--header-height,60px)-1rem)] py-2\">\n      <Dialog open={isAssetModalOpen} onOpenChange={(isOpen) => {\n        setIsAssetModalOpen(isOpen);\n        if (!isOpen) {\n            setMemberContextForAssetAdd(null);\n        }\n      }}>\n        <DialogContent className=\"sm:max-w-[600px] max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Add New Physical Asset</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">Fill in the details of your physical asset.</DialogDescription>\n          </DialogHeader>\n          <AssetForm\n            onSubmit={handleAddAssetSubmit}\n            isLoading={isSubmittingAsset}\n            onClose={() => {\n                setIsAssetModalOpen(false);\n                setMemberContextForAssetAdd(null);\n            }}\n            availableMembers={availableMembersForAssetForm}\n            targetMemberId={memberContextForAssetAdd}\n          />\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isAddMemberModalOpen} onOpenChange={setIsAddMemberModalOpen}>\n        <DialogContent className=\"sm:max-w-[500px] max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Add New Child</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">Enter the details of the new child in your union.</DialogDescription>\n          </DialogHeader>\n          <AddMemberForm onSubmit={handleAddMemberSubmit} isLoading={isSubmittingMember} onClose={() => setIsAddMemberModalOpen(false)} />\n        </DialogContent>\n      </Dialog>\n\n       <Dialog open={isAssetDetailsModalOpen} onOpenChange={handleCloseAssetDetailsModal}>\n        <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Asset Details: {selectedAssetForDetails?.nomeAtivo}</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">\n              Information about the asset and acquisition history.\n            </DialogDescription>\n          </DialogHeader>\n          {selectedAssetForDetails && (\n            <div className=\"space-y-4 py-4 text-sm\">\n              <div>\n                <Label className=\"text-xs font-medium text-muted-foreground\">Asset Name</Label>\n                <p className=\"font-semibold text-foreground\">{selectedAssetForDetails.nomeAtivo}</p>\n              </div>\n              <div>\n                <Label className=\"text-xs font-medium text-muted-foreground\">Main Type</Label>\n                <p className=\"text-foreground capitalize\">{selectedAssetForDetails.tipo}</p>\n              </div>\n\n              {selectedAssetForDetails.tipo === 'digital' && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">Total Quantity</Label>\n                  <p className=\"text-foreground\">{(selectedAssetForDetails as ExtendedAssetNodeData).quantidadeTotalDigital?.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 }) || 'N/A'}</p>\n                </div>\n              )}\n              {selectedAssetForDetails.tipo === 'fisico' && (\n                <>\n                  <div>\n                    <Label className=\"text-xs font-medium text-muted-foreground\">Type of Physical Good</Label>\n                    <p className=\"text-foreground\">{(selectedAssetForDetails as ExtendedAssetNodeData).tipoImovelBemFisico || 'Not specified'}</p>\n                  </div>\n                  {(selectedAssetForDetails as ExtendedAssetNodeData).enderecoLocalizacaoFisico && (\n                    <div>\n                        <Label className=\"text-xs font-medium text-muted-foreground\">Address/Location</Label>\n                        <p className=\"text-foreground\">{(selectedAssetForDetails as ExtendedAssetNodeData).enderecoLocalizacaoFisico}</p>\n                    </div>\n                  )}\n                </>\n              )}\n\n              {selectedAssetForDetails.assignedToMemberId && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">Assigned to</Label>\n                  <p className=\"text-foreground\">{getMemberNameById(selectedAssetForDetails.assignedToMemberId)}</p>\n                </div>\n              )}\n              {selectedAssetForDetails.releaseCondition?.type === 'age' && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">Release Condition</Label>\n                  <p className=\"text-foreground\">Release at {selectedAssetForDetails.releaseCondition.targetAge} years old</p>\n                </div>\n              )}\n              {selectedAssetForDetails.observacoes && (\n                <div>\n                  <Label className=\"text-xs font-medium text-muted-foreground\">General Asset Notes</Label>\n                  <p className=\"text-foreground whitespace-pre-wrap\">{selectedAssetForDetails.observacoes}</p>\n                </div>\n              )}\n              {selectedAssetForDetails.isAutoLoaded && (\n                 <div className=\"flex items-center space-x-1 text-xs text-accent pt-1\">\n                    <LayoutGrid size={14} />\n                    <span>Wallet Information</span>\n                </div>\n              )}\n\n              <div className=\"space-y-3 pt-3 mt-3 border-t border-border/50\">\n                <h4 className=\"text-md font-semibold text-primary\">Acquisition/Transaction History</h4>\n                 {selectedAssetForDetails.transactions && selectedAssetForDetails.transactions.length > 0 ? (\n                  <ScrollArea className=\"max-h-60 pr-2\">\n                    <div className=\"space-y-4\">\n                      {selectedAssetForDetails.transactions.map((tx, index) => (\n                        <Card key={tx.id || index} className=\"p-3 bg-muted/50 border-border/30\">\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2\">\n                            <div>\n                              <Label className=\"text-xs font-medium text-muted-foreground\">Acquisition Date</Label>\n                              <p className=\"text-foreground\">{format(new Date(tx.dataAquisicao), \"MM/dd/yyyy 'at' HH:mm\", { locale: enUS })}</p>\n                            </div>\n                            {tx.quantidadeDigital !== undefined && selectedAssetForDetails.tipo === 'digital' && (\n                              <div>\n                                <Label className=\"text-xs font-medium text-muted-foreground\">Quantity Acquired</Label>\n                                <p className=\"text-foreground\">{tx.quantidadeDigital.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 8 })}</p>\n                              </div>\n                            )}\n                            {tx.valorPagoEpoca !== undefined && (\n                              <div>\n                                <Label className=\"text-xs font-medium text-muted-foreground\">Value Paid at the Time</Label>\n                                <p className=\"text-foreground\">{typeof tx.valorPagoEpoca === 'number' ? tx.valorPagoEpoca.toLocaleString(undefined, { style: 'currency', currency: 'USD' }) : tx.valorPagoEpoca}</p>\n                              </div>\n                            )}\n                             {tx.quemComprou && (\n                              <div>\n                                <Label className=\"text-xs font-medium text-muted-foreground\">Acquired by</Label>\n                                <p className=\"text-foreground\">{tx.quemComprou === \"Main Union (Ipê Acta)\" ? \"Main Union (Ipê Acta)\" : tx.quemComprou === \"Connected Wallet\" ? \"Connected Wallet (Simulated)\" : getMemberNameById(tx.quemComprou)}</p>\n                              </div>\n                            )}\n                            {tx.quemComprou === 'Ambos' && effectiveUser?.partners && effectiveUser.partners.length >=2 && (\n                              <>\n                                {tx.contribuicaoParceiro1 !== undefined && (\n                                  <div>\n                                    <Label className=\"text-xs font-medium text-muted-foreground\">Contrib. ({effectiveUser.partners[0]?.name || 'Partner 1'})</Label>\n                                    <p className=\"text-foreground\">{tx.contribuicaoParceiro1.toLocaleString(undefined, { style: 'currency', currency: 'USD' })}</p>\n                                  </div>\n                                )}\n                                {tx.contribuicaoParceiro2 !== undefined && (\n                                  <div>\n                                    <Label className=\"text-xs font-medium text-muted-foreground\">Contrib. ({effectiveUser.partners[1]?.name || 'Partner 2'})</Label>\n                                    <p className=\"text-foreground\">{tx.contribuicaoParceiro2.toLocaleString(undefined, { style: 'currency', currency: 'USD' })}</p>\n                                  </div>\n                                )}\n                              </>\n                            )}\n                          </div>\n                          {tx.observacoes && (\n                            <div className=\"mt-2 pt-2 border-t border-dashed border-border/30\">\n                              <Label className=\"text-xs font-medium text-muted-foreground\">Transaction Notes</Label>\n                              <p className=\"text-foreground whitespace-pre-wrap text-xs\">{tx.observacoes}</p>\n                            </div>\n                          )}\n                        </Card>\n                      ))}\n                    </div>\n                  </ScrollArea>\n                ) : (\n                  <p className=\"text-muted-foreground\">No transactions recorded for this asset.</p>\n                )}\n                 {selectedAssetForDetails.tipo === 'digital' && selectedAssetForDetails.transactions && selectedAssetForDetails.transactions.length > 1 &&(\n                   <CardContent className=\"text-xs text-muted-foreground mt-2 p-0\">\n                    Note: The \"Total Quantity\" of the asset reflects the sum of all transactions. General notes and assignment refer to the asset as a whole. Refer to the history for details of each acquisition.\n                  </CardContent>\n                )}\n              </div>\n\n              <div className=\"pt-4\">\n                <Button onClick={handleCloseAssetDetailsModal} className=\"w-full\" variant=\"outline\">Close</Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      <AssetReleaseDialog\n        isOpen={isAssetReleaseModalOpen}\n        onClose={handleCloseReleaseDialog}\n        asset={selectedAssetForReleaseManagement}\n        assignedMember={selectedMemberForReleaseDialog}\n        onSaveReleaseCondition={handleSaveAssetReleaseCondition}\n        isLoading={isSubmittingRelease}\n      />\n\n      <ContractSettingsDialog\n        isOpen={isContractSettingsModalOpen}\n        onClose={() => setIsContractSettingsModalOpen(false)}\n        clauses={contractClauses}\n        onAddClause={handleAddContractClause}\n        onRemoveClause={handleRemoveClause}\n        onUpdateClause={handleUpdateContractClause}\n        dialogTitle=\"Contract Agreement Settings\"\n        dialogDescription=\"Add, view, edit, and manage the clauses of your agreements. Remember that Ipê Acta is a planning tool and does not replace legal advice.\"\n      />\n\n      <Dialog open={isCertificateModalOpen} onOpenChange={setIsCertificateModalOpen}>\n        <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Marriage Certificate</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">\n              Review current agreements or generate a new certificate.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-6 py-4\">\n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              <Button\n                variant=\"outline\"\n                className=\"flex-1 text-foreground/90 border-border hover:bg-muted/80\"\n                onClick={() => {\n                  setIsCertificateModalOpen(false);\n                  handleOpenContractSettings();\n                }}\n              >\n                <Settings className=\"mr-2 h-5 w-5\" />\n                Make Final Changes to Agreements\n              </Button>\n              <Button\n                className=\"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground\"\n                onClick={handleGenerateNewCertificate}\n              >\n                <FileTextIcon className=\"mr-2 h-5 w-5\" />\n                Generate New Certificate\n              </Button>\n            </div>\n            <Separator />\n            <div>\n              <h3 className=\"text-lg font-semibold text-foreground mb-2\">History of Generated Certificates:</h3>\n              {generatedCertificates.length > 0 ? (\n                <ScrollArea className=\"h-60 border rounded-md p-3 bg-muted/30\">\n                  <ul className=\"space-y-3\">\n                    {generatedCertificates.map((cert) => (\n                      <li key={cert.id} className=\"p-3 bg-background/50 rounded-md text-sm text-foreground border border-border/30\">\n                        <p className=\"font-semibold\">Certificate - {cert.unionName}</p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          Generated on: {format(cert.dateGenerated, \"MM/dd/yyyy 'at' HH:mm\", { locale: enUS })}\n                        </p>\n                        <details className=\"mt-1 text-xs\">\n                          <summary className=\"cursor-pointer text-primary/80 hover:text-primary\">View Clauses ({cert.clausesSnapshot.length})</summary>\n                          <ul className=\"list-disc pl-5 mt-1 space-y-1\">\n                            {cert.clausesSnapshot.map(clause => (\n                              <li key={clause.id}>{clause.text}</li>\n                            ))}\n                          </ul>\n                        </details>\n                      </li>\n                    ))}\n                  </ul>\n                </ScrollArea>\n              ) : (\n                <p className=\"text-sm text-muted-foreground\">No certificates generated yet.</p>\n              )}\n            </div>\n          </div>\n          <DialogFooter>\n            <DialogClose asChild>\n              <Button type=\"button\" variant=\"outline\">Close</Button>\n            </DialogClose>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isHoldingReportModalOpen} onOpenChange={setIsHoldingReportModalOpen}>\n        <DialogContent className=\"sm:max-w-3xl max-h-[90vh] overflow-y-auto bg-card border-border\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl text-primary\">Holding Report Summary</DialogTitle>\n            <DialogDescription className=\"text-muted-foreground\">\n              Textual summary of your holding structure.\n            </DialogDescription>\n          </DialogHeader>\n          <ScrollArea className=\"h-[60vh] p-1\">\n            <pre className=\"text-sm text-foreground whitespace-pre-wrap bg-muted/30 p-4 rounded-md\">\n              {generateHoldingReportText()}\n            </pre>\n          </ScrollArea>\n          <div className=\"text-center text-xs text-muted-foreground mt-2\">\n            PDF Generation can be implemented here.\n          </div>\n          <DialogFooter>\n            <DialogClose asChild>\n              <Button type=\"button\" variant=\"outline\">Close</Button>\n            </DialogClose>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n\n      <div className=\"flex-grow shadow-lg relative overflow-hidden rounded-md border-2 border-dashed border-border bg-background\">\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          nodeTypes={nodeTypes}\n          fitView\n          fitViewOptions={{ padding: 0.2, duration: 800 }}\n          attributionPosition=\"bottom-left\"\n          proOptions={{ hideAttribution: true }}\n          nodeOrigin={nodeOrigin}\n          defaultViewport={{ x: 0, y: 0, zoom: 0.8 }}\n        >\n          <Controls showFitView={false} showInteractive={false} />\n          <Background gap={16} color=\"hsl(var(--border))\" />\n        </ReactFlow>\n      </div>\n      <div className=\"mt-6 flex justify-center gap-4\">\n        <Button\n            variant=\"outline\"\n            onClick={() => setIsCertificateModalOpen(true)}\n            className=\"border-primary text-primary hover:bg-primary/10 hover:text-primary\"\n        >\n            <FileTextIcon className=\"mr-2 h-5 w-5\" />\n            Generate Marriage Certificate\n        </Button>\n        <Button\n            variant=\"outline\"\n            onClick={() => setIsHoldingReportModalOpen(true)}\n            className=\"border-accent text-accent hover:bg-accent/10 hover:text-accent\"\n        >\n            <Briefcase className=\"mr-2 h-5 w-5\" />\n            Holding Report\n        </Button>\n      </div>\n    </div>\n  );\n}\n\ndeclare module 'reactflow' {\n  interface NodeData {\n    // UnionNode\n    id?: string; \n    label?: string;\n    onSettingsClick?: () => void;\n    onOpenAssetModal?: () => void;\n    onAddMember?: () => void; \n\n    // MemberNode & PartnerNode\n    name?: string; \n    relationshipType?: string; \n    onAddAssetClick?: (memberId: string) => void; \n    walletAddress?: string; \n\n    // WalletNode\n    // 'id' and 'label' are already covered or implicitly handled by WalletNodeData\n\n    // AssetNode (ExtendedAssetNodeData fields)\n    userId?: string;\n    nomeAtivo?: string;\n    tipo?: 'digital' | 'fisico'; \n    transactions?: AssetTransaction[]; \n    quantidadeTotalDigital?: number; \n    tipoImovelBemFisico?: string; \n    enderecoLocalizacaoFisico?: string; \n    assignedToMemberId?: string;\n    releaseCondition?: { type: 'age'; targetAge: number };\n    observacoes?: string; \n    isAutoLoaded?: boolean; \n    onOpenDetails?: () => void; \n    onOpenReleaseDialog?: (assetData: ExtendedAssetNodeData) => void; \n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}